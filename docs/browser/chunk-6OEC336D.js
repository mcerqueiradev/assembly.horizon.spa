import{$ as B,$a as ae,A as S,Aa as T,B as K,Ca as E,Da as re,G as H,Ha as L,Ia as V,Ja as R,K as l,Ka as oe,L as A,La as O,M as g,O as s,Oa as le,Qa as w,R as Q,W as r,X as o,Y as d,Z as X,_ as ee,aa as C,ba as h,ca as m,eb as se,fb as me,gb as $,h as Y,hb as pe,ib as ce,ka as N,la as c,lb as de,ma as b,n as z,na as D,o as y,ob as ue,p as Z,q as v,qb as ge,s as I,t as W,ta as te,v as q,va as k,w as J,wa as G,wb as fe,x as _,xa as ie,y as x,ya as ne,yb as he,z as f}from"./chunk-A6U4UNAR.js";var Xe=(()=>{class t{constructor(){this.class="h-full w-auto"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=I({type:t,selectors:[["app-logo"]],hostVars:2,hostBindings:function(i,n){i&2&&Q(n.class)},decls:3,vars:0,consts:[["id","logo"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1453 208",1,"h-auto","w-full","fill-white"],["fill-rule","evenodd","d","M1421.000,208.000 L1320.000,55.000 L1320.000,208.000 L1287.000,208.000 L1287.000,1.000 L1318.000,1.000 L1420.000,154.000 L1420.000,1.000 L1453.000,1.000 L1453.000,208.000 L1421.000,208.000 ZM1151.476,207.990 C1094.568,207.990 1048.403,165.190 1048.403,104.339 C1048.403,43.780 1094.568,0.980 1151.476,0.980 C1208.964,0.980 1254.548,43.780 1254.548,104.339 C1254.548,165.190 1208.964,207.990 1151.476,207.990 ZM1151.476,30.095 C1111.408,30.095 1082.373,58.628 1082.373,104.339 C1082.373,150.050 1111.408,179.166 1151.476,179.166 C1191.544,179.166 1220.578,150.050 1220.578,104.339 C1220.578,58.628 1191.544,30.095 1151.476,30.095 ZM890.000,180.000 L984.000,32.000 L891.000,32.000 L891.000,1.000 L1023.000,1.000 L1023.000,30.000 L929.000,177.000 L1023.000,177.000 L1023.000,208.000 L890.000,208.000 L890.000,180.000 ZM821.000,1.000 L854.000,1.000 L854.000,208.000 L821.000,208.000 L821.000,1.000 ZM743.000,208.000 L695.000,125.000 L670.000,125.000 L670.000,208.000 L637.000,208.000 L637.000,1.000 L707.000,1.000 C754.907,1.000 778.424,31.260 778.424,64.160 C778.424,88.035 764.970,113.557 731.000,122.000 L783.000,208.000 L743.000,208.000 ZM745.000,64.000 C745.000,43.619 732.841,30.000 707.000,30.000 L670.000,30.000 L670.000,98.000 L707.000,98.000 C732.841,98.000 745.000,84.090 745.000,64.000 ZM501.745,207.990 C444.837,207.990 398.672,165.190 398.672,104.339 C398.672,43.780 444.837,0.980 501.745,0.980 C559.233,0.980 604.817,43.780 604.817,104.339 C604.817,165.190 559.233,207.990 501.745,207.990 ZM501.745,30.095 C461.677,30.095 432.643,58.628 432.643,104.339 C432.643,150.050 461.677,179.166 501.745,179.166 C541.813,179.166 570.847,150.050 570.847,104.339 C570.847,58.628 541.813,30.095 501.745,30.095 ZM333.000,118.000 L33.000,118.000 L33.000,208.000 L-0.000,208.000 L-0.000,1.000 L33.000,1.000 L33.000,91.000 L333.000,91.000 L333.000,1.000 L366.000,1.000 L366.000,208.000 L333.000,208.000 L333.000,118.000 Z"]],template:function(i,n){i&1&&(r(0,"div",0),f(),r(1,"svg",1),d(2,"path",2),o()())},styles:["[_nghost-%COMP%]{display:block}"]})}}return t})();var ye=()=>["Su","Mo","Tu","We","Th","Fr","Sa"],Ce=(t,p,e)=>({"bg-blue-500 text-white":t,"opacity-50 cursor-not-allowed":p,"hover:bg-blue-400":e}),be=(t,p)=>({"bg-white":t,"bg-gray-500":p});function we(t,p){if(t&1&&(r(0,"div",14),c(1),o()),t&2){let e=p.$implicit;l(),D(" ",e," ")}}function Se(t,p){if(t&1){let e=C();r(0,"div",17),h("click",function(){_(e);let n=m().$implicit,a=m(2);return x(a.isDateSelectable(n)&&a.selectDate(n))}),r(1,"span",18),c(2),o()()}if(t&2){let e=m().$implicit,i=m(2);s("ngClass",ne(3,Ce,e.getTime()===i.selectedDate.getTime(),!i.isDateSelectable(e),i.isDateSelectable(e))),l(),s("ngClass",ie(7,be,i.isDateSelectable(e),!i.isDateSelectable(e))),l(),D(" ",e.getDate()," ")}}function De(t,p){t&1&&d(0,"div",19)}function Me(t,p){if(t&1&&(X(0),g(1,Se,3,10,"div",15)(2,De,1,0,"div",16),ee()),t&2){let e=p.$implicit;l(),s("ngIf",e),l(),s("ngIf",!e)}}function Fe(t,p){if(t&1){let e=C();r(0,"div",4)(1,"div",5)(2,"button",6),h("click",function(){_(e);let n=m();return x(n.prevMonth())}),f(),r(3,"svg",7),d(4,"path",8),o()(),S(),r(5,"span",9),c(6),T(7,"date"),o(),r(8,"button",6),h("click",function(){_(e);let n=m();return x(n.nextMonth())}),f(),r(9,"svg",7),d(10,"path",10),o()()(),S(),r(11,"div",11),g(12,we,2,1,"div",12)(13,Me,3,2,"ng-container",13),o()()}if(t&2){let e=m();l(6),b(E(7,3,e.selectedDate,"MMMM yyyy")),l(6),s("ngForOf",k(6,ye)),l(),s("ngForOf",e.calendarDays)}}var lt=(()=>{class t{constructor(){this.label="",this.dateChange=new K,this.showDatepicker=!1,this.selectedDate=new Date,this.minDate=new Date,this.onChange=()=>{},this.onTouch=()=>{}}writeValue(e){e&&(this.selectedDate=new Date(e))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}toggleDatepicker(){this.showDatepicker=!this.showDatepicker}isDateSelectable(e){return e?e>=this.minDate:!1}selectDate(e){this.isDateSelectable(e)&&(this.selectedDate=e,this.onChange(e),this.onTouch(),this.showDatepicker=!1,this.dateChange.emit(e))}get calendarDays(){let e=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth(),1),i=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+1,0),n=[];for(let a=0;a<e.getDay();a++)n.push(null);for(let a=1;a<=i.getDate();a++)n.push(new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth(),a));return n}prevMonth(){this.selectedDate=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()-1,1)}nextMonth(){this.selectedDate=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+1,1)}onDateSelect(e){this.selectDate(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=I({type:t,selectors:[["app-datepicker"]],inputs:{label:"label"},outputs:{dateChange:"dateChange"},features:[te([{provide:se,useExisting:z(()=>t),multi:!0}])],decls:6,vars:8,consts:[[1,"relative"],[1,"block","text-caption","bg-gray-500","mb-2",3,"for"],["type","text","readonly","",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm",3,"click","id","value"],["class","absolute z-10 mt-1 w-64 bg-gray-900 rounded-xl overflow-hidden",4,"ngIf"],[1,"absolute","z-10","mt-1","w-64","bg-gray-900","rounded-xl","overflow-hidden"],[1,"p-2","flex","justify-between","items-center"],[1,"p-1","hover:bg-blue-600","rounded-full","text-gray-300","transition-all","duration-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"size-5"],["fill-rule","evenodd","d","M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z","clip-rule","evenodd"],[1,"font-semibold","text-sm","bg-clip-text","text-transparent","bg-white"],["fill-rule","evenodd","d","M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],[1,"grid","grid-cols-7","gap-1","p-2"],["class","font-semibold text-sm bg-clip-text text-transparent bg-gray-400 text-center",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"font-semibold","text-sm","bg-clip-text","text-transparent","bg-gray-400","text-center"],["class","text-center p-1 cursor-pointer rounded-xl duration-200 transition-all",3,"ngClass","click",4,"ngIf"],["class","text-center p-1",4,"ngIf"],[1,"text-center","p-1","cursor-pointer","rounded-xl","duration-200","transition-all",3,"click","ngClass"],[1,"font-semibold","text-sm","bg-clip-text","text-transparent",3,"ngClass"],[1,"text-center","p-1"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"label",1),c(2),o(),r(3,"input",2),T(4,"date"),h("click",function(){return n.toggleDatepicker()}),o(),g(5,Fe,14,7,"div",3),o()),i&2&&(l(),s("for",n.label),l(),b(n.label),l(),s("id",n.label)("value",E(4,5,n.selectedDate,"yyyy-MM-dd")),l(2),s("ngIf",n.showDatepicker))},dependencies:[L,V,R,O],styles:["[_nghost-%COMP%]{display:block}"]})}}return t})();var _e=(()=>{class t{constructor(e){this.http=e,this.apiUrl="https://localhost:7220/api/Comment"}getCommentsByPropertyId(e){return this.http.get(`${this.apiUrl}/property/${e}`)}createComment(e){let i=new FormData;return i.append("propertyId",e.propertyId),i.append("userId",e.userId),i.append("message",e.message),e.rating!==void 0&&i.append("rating",e.rating.toString()),e.parentCommentId&&i.append("parentCommentId",e.parentCommentId),this.http.post(`${this.apiUrl}/Create`,i)}toggleHelpful(e,i,n){let a={commentId:e,userId:i,isHelpful:n};return this.http.post(`${this.apiUrl}/ToggleHelpful`,a)}static{this.\u0275fac=function(i){return new(i||t)(v(w))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ke=()=>[1,2,3,4],xe=()=>[1,2,3,4,5],Te=t=>({$implicit:t,level:1}),Ee=t=>({$implicit:t,level:2});function $e(t,p){t&1&&(f(),r(0,"svg",9),d(1,"path",10),o())}function Le(t,p){t&1&&(r(0,"p",28),c(1,"Please enter your review"),o())}function Ve(t,p){if(t&1){let e=C();r(0,"button",29),h("click",function(){let n=_(e).$implicit,a=m();return x(a.setRating(n))}),f(),r(1,"svg",30),d(2,"path",10),o()()}if(t&2){let e=p.$implicit,i=m();l(),s("ngClass",e<=i.userRating?"text-yellow-400":"text-gray-300")}}function Re(t,p){t&1&&(r(0,"span"),c(1,"Post Review"),o())}function Oe(t,p){t&1&&(r(0,"span",31),f(),r(1,"svg",32),d(2,"circle",33)(3,"path",34),o(),c(4," Posting... "),o())}function Ue(t,p){if(t&1&&(f(),r(0,"svg",57),d(1,"path",10),o()),t&2){let e=p.$implicit,i=m().$implicit;s("ngClass",e<=(i.rating||0)?"text-yellow-400":"text-gray-300")}}function je(t,p){t&1&&(r(0,"span"),c(1,"Reply"),o())}function Pe(t,p){t&1&&(r(0,"span",65),f(),r(1,"svg",66),d(2,"circle",33)(3,"path",34),o(),c(4," Replying... "),o())}function He(t,p){if(t&1){let e=C();r(0,"div",58)(1,"form",59),h("ngSubmit",function(){_(e);let n=m().$implicit,a=m();return x(a.submitReply(n.id))}),d(2,"textarea",60),r(3,"div",61)(4,"button",62),h("click",function(){_(e);let n=m().$implicit,a=m();return x(a.toggleReplyForm(n.id))}),c(5,"Cancel"),o(),r(6,"button",63),g(7,je,2,0,"span",22)(8,Pe,5,0,"span",64),o()()()()}if(t&2){let e=m(2);l(),s("formGroup",e.replyForm),l(5),s("disabled",!e.replyForm.valid||e.isSubmitting),l(),s("ngIf",!e.isSubmitting),l(),s("ngIf",e.isSubmitting)}}function Ae(t,p){t&1&&B(0)}function Be(t,p){if(t&1&&(r(0,"div",67),g(1,Ae,1,0,"ng-container",68),o()),t&2){let e=m().$implicit,i=N(31);l(),s("ngTemplateOutlet",i)("ngTemplateOutletContext",G(2,Te,e))}}function Ne(t,p){if(t&1){let e=C();r(0,"button",52),h("click",function(){_(e);let n=m().$implicit,a=m().$implicit,u=m(2);return x(u.toggleReplyForm(a.id,n.id))}),f(),r(1,"svg",49),d(2,"path",53),o(),S(),r(3,"span",54),c(4,"Reply"),o()()}}function Ge(t,p){t&1&&(r(0,"span"),c(1,"Reply"),o())}function Ye(t,p){t&1&&(r(0,"span",65),f(),r(1,"svg",66),d(2,"circle",33)(3,"path",34),o(),c(4," Replying... "),o())}function ze(t,p){if(t&1){let e=C();r(0,"div",58)(1,"form",80),h("ngSubmit",function(){_(e);let n=m().$implicit,a=m().$implicit,u=m(2);return x(u.submitReply(a.id,n.id))}),d(2,"textarea",81),r(3,"div",61)(4,"button",62),h("click",function(){_(e);let n=m().$implicit,a=m().$implicit,u=m(2);return x(u.toggleReplyForm(a.id,n.id))}),c(5,"Cancel"),o(),r(6,"button",63),g(7,Ge,2,0,"span",22)(8,Ye,5,0,"span",64),o()()()()}if(t&2){let e=m(4);l(),s("formGroup",e.replyForm),l(5),s("disabled",!e.replyForm.valid||e.isSubmitting),l(),s("ngIf",!e.isSubmitting),l(),s("ngIf",e.isSubmitting)}}function Ze(t,p){t&1&&B(0)}function We(t,p){if(t&1&&(r(0,"div",82),g(1,Ze,1,0,"ng-container",68),o()),t&2){let e=m().$implicit;m(2);let i=N(31);l(),s("ngTemplateOutlet",i)("ngTemplateOutletContext",G(2,Ee,e))}}function qe(t,p){if(t&1){let e=C();r(0,"div",70)(1,"div",71)(2,"div",72),d(3,"img",73),r(4,"div",74)(5,"div",75)(6,"h4",76),c(7),o(),r(8,"time",41),c(9),T(10,"date"),o()(),r(11,"p",77),c(12),o(),r(13,"div",47)(14,"button",52),h("click",function(){let n=_(e).$implicit,a=m(3);return x(a.toggleHelpful(n.id))}),f(),r(15,"svg",49),d(16,"path",50),o(),S(),r(17,"span",54),c(18),o()(),g(19,Ne,5,0,"button",78),o(),g(20,ze,9,4,"div",55)(21,We,2,4,"div",79),o()()()()}if(t&2){let e=p.$implicit,i=m(),n=i.$implicit,a=i.level,u=m(2);l(3),s("src",e.userCommentPhoto,H)("alt",e.userCommentName),l(4),b(e.userCommentName),l(2),b(E(10,9,e.dateTimePosted,"MMM d, y")),l(3),b(e.message),l(6),D(" Helpful ",e.helpfulCount," "),l(),s("ngIf",a===1),l(),s("ngIf",u.showReplyForm&&(u.replyingToReply==null?null:u.replyingToReply.commentId)===n.id&&(u.replyingToReply==null?null:u.replyingToReply.replyId)===e.id),l(),s("ngIf",e.replies&&e.replies.length>0)}}function Je(t,p){if(t&1&&g(0,qe,22,12,"div",69),t&2){let e=p.$implicit;s("ngForOf",e.replies)}}function Ke(t,p){if(t&1){let e=C();r(0,"div",35)(1,"div",36),d(2,"img",37),r(3,"div",38)(4,"div",39)(5,"h4",40),c(6),o(),r(7,"time",41),c(8),T(9,"date"),o()(),r(10,"div",42)(11,"div",43),g(12,Ue,2,1,"svg",44),o(),r(13,"span",45),c(14),o()(),r(15,"p",46),c(16),o(),r(17,"div",47)(18,"button",48),h("click",function(){let n=_(e).$implicit,a=m();return x(a.toggleHelpful(n.id))}),f(),r(19,"svg",49),d(20,"path",50),o(),S(),r(21,"span",51),c(22),o()(),r(23,"button",52),h("click",function(){let n=_(e).$implicit,a=m();return x(a.toggleReplyForm(n.id))}),f(),r(24,"svg",49),d(25,"path",53),o(),S(),r(26,"span",54),c(27,"Reply"),o()()(),g(28,He,9,4,"div",55)(29,Be,2,4,"div",56)(30,Je,1,1,"ng-template",null,0,re),o()()()}if(t&2){let e=p.$implicit,i=m();l(2),s("src",e.userCommentPhoto,H)("alt",e.userCommentName),l(4),b(e.userCommentName),l(2),b(E(9,12,e.dateTimePosted,"MMM d, y")),l(4),s("ngForOf",k(15,xe)),l(2),D("",e.rating,".0"),l(2),b(e.message),l(2),s("ngClass",e.isHelpful?"text-blue-600":"text-gray-500"),l(3),s("ngClass",e.isHelpful?"bg-blue-600":"bg-gray-400"),l(),D(" Helpful ",e.helpfulCount||0," "),l(6),s("ngIf",i.showReplyForm&&i.replyingTo===e.id),l(),s("ngIf",e.replies&&e.replies.length>0)}}var pt=(()=>{class t{constructor(e,i){this.commentService=e,this.fb=i,this.comments=[],this.replyingTo=null,this.showReplyForm=!1,this.replyingToReply=null,this.isLoggedIn=!1,this.userRating=0,this.isSubmitting=!1,this.averageRating=0,this.commentForm=this.fb.group({message:["",$.required],rating:[null,[$.required,$.min(1),$.max(5)]]}),this.replyForm=this.fb.group({message:["",$.required]})}ngOnInit(){let e=sessionStorage.getItem("loggedUser");e&&(this.currentUser=JSON.parse(e),this.isLoggedIn=!0)}ngOnChanges(e){e.propertyId&&this.propertyId&&this.loadComments()}loadComments(){console.log("Property ID:",this.propertyId),this.commentService.getCommentsByPropertyId(this.propertyId).subscribe(e=>{console.log(e),e&&e.comments&&Array.isArray(e.comments)?(this.comments=e.comments,this.averageRating=this.calculateAverageRating()):(console.error("Expected comments to be an array but got:",e),this.comments=[],this.averageRating=0)},e=>{console.error("Error fetching comments:",e),this.comments=[],this.averageRating=0})}submitComment(){if(this.commentForm.valid&&this.isLoggedIn){let e={propertyId:this.propertyId,userId:this.currentUser.userId,message:this.commentForm.get("message")?.value,rating:this.commentForm.get("rating")?.value};this.isSubmitting=!0,this.commentService.createComment(e).subscribe({next:i=>{this.loadComments(),setTimeout(()=>{this.isSubmitting=!1,this.commentForm.reset(),this.userRating=0},1e3)},error:i=>{console.error("Error creating comment:",i)}})}}toggleReplyForm(e,i){if(!i){this.showReplyForm=this.replyingTo!==e,this.replyingTo=this.showReplyForm?e:null,this.replyingToReply=null,this.replyForm.reset();return}if(this.comments.some(a=>a.replies?.some(u=>u.id===i))){this.showReplyForm=this.replyingToReply?.replyId!==i,this.replyingToReply=this.showReplyForm?{commentId:e,replyId:i}:null,this.replyingTo=null,this.replyForm.reset();return}}submitReply(e,i){if(this.replyForm.valid&&this.isLoggedIn){let n={propertyId:this.propertyId,userId:this.currentUser.userId,message:this.replyForm.get("message")?.value,parentCommentId:i||e};this.isSubmitting=!0,this.commentService.createComment(n).subscribe({next:a=>{this.loadComments(),this.showReplyForm=!1,this.replyingTo=null,this.replyingToReply=null,this.replyForm.reset(),this.isSubmitting=!1},error:a=>{console.error("Error creating reply:",a),this.isSubmitting=!1}})}}isMaxNestingLevel(e){return e.replies&&e.replies.length>0}toggleHelpful(e){if(!this.isLoggedIn)return;let i={commentId:e,userId:this.currentUser.userId,isHelpful:!0};this.commentService.toggleHelpful(i.commentId,i.userId,i.isHelpful).subscribe({next:n=>{this.updateCommentHelpfulCount(e,n.helpfulCount,n.isHelpful)},error:n=>{console.error("Error toggling helpful:",n)}})}updateCommentHelpfulCount(e,i,n){let a=this.comments.find(u=>u.id===e);if(a){a.helpfulCount=i||0,a.isHelpful=n;return}this.comments.forEach(u=>{if(u.replies){let F=u.replies.find(j=>j.id===e);F&&(F.helpfulCount=i||0,F.isHelpful=n)}})}setRating(e){this.userRating=e,this.commentForm.patchValue({rating:e})}calculateAverageRating(){let e=this.comments.filter(n=>!n.parentCommentId);if(e.length===0)return 0;let i=e.reduce((n,a)=>n+(a.rating||0),0);return parseFloat((i/e.length).toFixed(1))}static{this.\u0275fac=function(i){return new(i||t)(A(_e),A(fe))}}static{this.\u0275cmp=I({type:t,selectors:[["app-comments"]],inputs:{propertyId:"propertyId"},features:[J],decls:37,vars:12,consts:[["replyTemplate",""],[1,""],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-6","mb-10"],[1,"text-3xl","sm:text-4xl","font-bold","text-transparent","bg-clip-text","bg-white"],[1,"flex","items-center","gap-4"],[1,"text-4xl","sm:text-5xl","font-bold","bg-clip-text","text-transparent","bg-gray-400"],[1,"flex","flex-col"],[1,"flex","items-center","gap-1"],["class","w-5 h-5 text-yellow-400","fill","currentColor","viewBox","0 0 20 20",4,"ngFor","ngForOf"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-yellow-400"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],[1,"text-sm","font-medium","bg-clip-text","text-transparent","bg-gray-400"],[1,"bg-gray-900","rounded-3xl","shadow-sm","p-6","sm:p-10","mb-10",3,"ngSubmit","formGroup"],[1,"text-xl","sm:text-2xl","font-bold","text-transparent","bg-clip-text","bg-white","mb-5"],[1,"space-y-4"],[1,"flex","flex-col","gap-2"],[1,"text-caption"],["formControlName","message","rows","4","placeholder","Share your experience...",1,"w-full","px-4","py-3","text-sm","rounded-xl","bg-gray-950/30","focus:ring-2","focus:ring-blue-500","text-gray-200","resize-none"],["class","mt-2 text-sm text-red-600",4,"ngIf"],[1,"flex","gap-3"],["type","button","class","focus:outline-none",3,"click",4,"ngFor","ngForOf"],["type","submit",1,"w-full","sm:w-auto","px-6","py-3","bg-blue-600","text-sm","text-white","font-medium","rounded-lg","hover:bg-blue-700","transition-colors",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"space-y-6"],["class","bg-gray-900/50 rounded-3xl p-5 md:p-10",4,"ngFor","ngForOf"],[1,"mt-8","text-center"],[1,"px-6","py-3","text-sm","font-medium","text-gray-500","hover:text-gray-700","focus:outline-none"],[1,"mt-2","text-sm","text-red-600"],["type","button",1,"focus:outline-none",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"size-6",3,"ngClass"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"bg-gray-900/50","rounded-3xl","p-5","md:p-10"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"w-12","h-12","rounded-full","object-cover",3,"src","alt"],[1,"flex-1","space-y-3"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","bg-clip-text","text-transparent","bg-white"],[1,"text-xs","font-medium","bg-clip-text","text-transparent","bg-gray-400"],[1,"flex","items-center","mb-2"],[1,"flex","gap-0.5"],["class","w-5 h-5","fill","currentColor","viewBox","0 0 20 20",3,"ngClass",4,"ngFor","ngForOf"],[1,"ml-2","text-xs","font-medium","bg-clip-text","text-transparent","bg-gray-400"],[1,"leading-relaxed","font-medium","bg-clip-text","text-transparent","bg-gray-200"],[1,"mt-4","flex","items-center","space-x-4"],[1,"flex","items-center","hover:text-blue-600","text-sm",3,"click","ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"],[1,"text-xs","font-medium","bg-clip-text","text-transparent",3,"ngClass"],[1,"flex","items-center","text-gray-500","hover:text-blue-600","text-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"text-xs","font-medium","bg-clip-text","text-transparent","bg-gray-400","hover:bg-blue-600"],["class","mt-4",4,"ngIf"],["class","mt-6 space-y-4 pl-4 sm:pl-8",4,"ngIf"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5",3,"ngClass"],[1,"mt-4"],[1,"bg-gray-900","rounded-xl","p-5",3,"ngSubmit","formGroup"],["formControlName","message","rows","3","placeholder","Write your reply...",1,"block","w-full","px-4","py-3","rounded-xl","bg-gray-950/30","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","text-gray-200"],[1,"mt-3","flex","justify-end","gap-2"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-400","hover:text-gray-300",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","font-medium","rounded-lg","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],[1,"mt-6","space-y-4","pl-4","sm:pl-8"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","relative",4,"ngFor","ngForOf"],[1,"relative"],[1,"bg-gray-900","rounded-xl","p-5","ml:0","md:ml-12"],[1,"flex","flex-col","items-center","md:items-start"],[1,"size-10","rounded-full","object-cover","mb-3","border-2","border-gray-900",3,"src","alt"],[1,"w-full"],[1,"flex","flex-col","items-center","md:items-start","justify-between","mb-2"],[1,"font-bold","bg-clip-text","text-transparent","bg-white"],[1,"text-sm","leading-relaxed","font-medium","bg-clip-text","text-transparent","bg-gray-200"],["class","flex items-center text-gray-500 hover:text-blue-600 text-sm",3,"click",4,"ngIf"],["class","mt-4 space-y-4",4,"ngIf"],[1,"bg-gray-900","rounded-xl","p-4",3,"ngSubmit","formGroup"],["formControlName","message","rows","3","placeholder","Write your reply...",1,"block","w-full","px-4","py-3","rounded-xl","bg-gray-950/30","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","text-gray-200","text-sm"],[1,"mt-4","space-y-4"]],template:function(i,n){if(i&1&&(r(0,"div",1)(1,"div",2)(2,"h2",3),c(3,"Customer Reviews"),o(),r(4,"div",4)(5,"span",5),c(6),o(),r(7,"div",6)(8,"div",7),g(9,$e,2,0,"svg",8),f(),r(10,"svg",9),d(11,"path",10),o()(),S(),r(12,"span",11),c(13),o()()()(),r(14,"form",12),h("ngSubmit",function(){return n.submitComment()}),r(15,"h3",13),c(16,"Write a Review"),o(),r(17,"div",14)(18,"div",15)(19,"label",16),c(20,"Your Review"),o(),r(21,"textarea",17),c(22,"        "),o(),g(23,Le,2,0,"p",18),o(),r(24,"div",15)(25,"label",16),c(26,"Rating"),o(),r(27,"div",19),g(28,Ve,3,1,"button",20),o()(),r(29,"button",21),g(30,Re,2,0,"span",22)(31,Oe,5,0,"span",23),o()()(),r(32,"div",24),g(33,Ke,32,16,"div",25),o(),r(34,"div",26)(35,"button",27),c(36,"Load More Reviews"),o()()()),i&2){let a;l(6),D(" ",n.averageRating," "),l(3),s("ngForOf",k(10,ke)),l(4),D(" Based on ",n.comments.length," reviews "),l(),s("formGroup",n.commentForm),l(9),s("ngIf",((a=n.commentForm.get("message"))==null||a.errors==null?null:a.errors.required)&&((a=n.commentForm.get("message"))==null?null:a.touched)),l(5),s("ngForOf",k(11,xe)),l(),s("disabled",!n.commentForm.valid||n.isSubmitting),l(),s("ngIf",!n.isSubmitting),l(),s("ngIf",n.isSubmitting),l(2),s("ngForOf",n.comments)}},dependencies:[L,V,R,oe,de,me,pe,ce,ue,ge,O],styles:["[_nghost-%COMP%]{display:block}"]})}}return t})();var ut=(()=>{class t{transform(e){if(!e)return"";let i=new Date(e),a=Math.floor((new Date().getTime()-i.getTime())/1e3),u={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};for(let[F,j]of Object.entries(u)){let P=Math.floor(a/j);if(P>=1)return P===1?`1 ${F} ago`:`${P} ${F}s ago`}return"just now"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=q({name:"timeAgo",type:t,pure:!0})}}return t})();var Ft=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=W({type:t})}static{this.\u0275inj=Z({imports:[le,he]})}}return t})();var Tt=(()=>{class t{constructor(e,i){this.httpClient=e,this.router=i,this.apiUrl="https://localhost:7220/api/Realtor"}retrieve(e){return this.httpClient.get(`${this.apiUrl}/${e}`)}retrieveByUserId(e){return this.httpClient.get(`${this.apiUrl}/ByUserId/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(v(w),v(ae))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $t=(()=>{class t{constructor(e){this.httpClient=e,this.apiUrl="https://localhost:7220/api/Favorites"}createFavorite(e){return this.httpClient.post(`${this.apiUrl}/Register`,e)}getFavoritesByUser(e){return this.httpClient.get(`${this.apiUrl}/user/${e}`)}getFavoritesByProperty(e){return this.httpClient.get(`${this.apiUrl}/property/${e}`)}checkIsFavorite(e,i){return this.httpClient.get(`${this.apiUrl}/check/${e}/${i}`)}removeFavorite(e){return this.httpClient.delete(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(v(w))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Qe=function(t){return t[t.Morning_8AM=0]="Morning_8AM",t[t.Morning_9AM=1]="Morning_9AM",t[t.Morning_10AM=2]="Morning_10AM",t[t.Morning_11AM=3]="Morning_11AM",t[t.Afternoon_2PM=4]="Afternoon_2PM",t[t.Afternoon_3PM=5]="Afternoon_3PM",t[t.Afternoon_4PM=6]="Afternoon_4PM",t[t.Afternoon_5PM=7]="Afternoon_5PM",t}(Qe||{});var Ot=(()=>{class t{constructor(e){this.httpClient=e,this.apiUrl="https://localhost:7220/api/PropertyVisit"}createVisit(e){return this.httpClient.post(`${this.apiUrl}/Create`,e)}getAvailableTimeSlots(e,i){return this.httpClient.get(`${this.apiUrl}/available-slots`,{params:{propertyId:e,date:i}}).pipe(Y(n=>n.availableSlots))}getUserVisits(e){return this.httpClient.get(`${this.apiUrl}/user/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(v(w))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var jt=(()=>{class t{constructor(e){this.httpClient=e,this.apiUrl="https://localhost:7220/api/Proposal"}createProposal(e){return this.httpClient.post(`${this.apiUrl}/Create`,e)}getProposalsByRealtor(e){return this.httpClient.get(`${this.apiUrl}/ByRealtor/${e}`)}getProposalsByUser(e){return this.httpClient.get(`${this.apiUrl}/ByUser/${e}`)}getProposalById(e){return this.httpClient.get(`${this.apiUrl}/${e}`)}addNegotiation(e,i){return this.httpClient.post(`${this.apiUrl}/${e}/negotiations`,i,{headers:{Accept:"application/json"}})}acceptProposal(e,i){return this.httpClient.patch(`${this.apiUrl}/${e}/negotiations/${i}/accept`,{})}acceptProposalDirectly(e){return this.httpClient.patch(`${this.apiUrl}/${e}/accept`,{})}rejectProposal(e,i){return this.httpClient.patch(`${this.apiUrl}/${e}/negotiations/${i}/reject`,{})}updateNegotiationStatus(e,i,n){return this.httpClient.patch(`${this.apiUrl}/${e}/negotiations/${i}/status`,{status:n})}uploadNegotiationDocument(e,i,n){return this.httpClient.post(`${this.apiUrl}/${e}/negotiations/${i}/documents`,n)}getNegotiationHistory(e){return this.httpClient.get(`${this.apiUrl}/${e}/negotiations`)}static{this.\u0275fac=function(i){return new(i||t)(v(w))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{Xe as a,Tt as b,$t as c,pt as d,Qe as e,Ot as f,lt as g,jt as h,ut as i,Ft as j};
