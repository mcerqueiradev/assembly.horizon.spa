import{a as Mt,b as Tt,c as Pt,e as ge,f as Dt,g as Oe,h as _e,j as Ft}from"./chunk-6OEC336D.js";import{$a as M,A as v,Aa as C,B as ye,Ba as V,C as N,Ca as I,D as at,Da as K,Ea as ht,F as lt,Fa as bt,G as P,Ha as le,Ia as D,J as st,Ja as F,K as l,L as f,La as L,M as g,Ma as Ne,N as dt,Na as se,O as p,Oa as yt,P as He,Q as pe,Qa as U,R as ke,S as $,T as Ve,U as we,V as Se,W as t,Wa as wt,X as i,Y as s,Ya as St,Z as me,Za as fe,_ as ue,_a as _t,a as ve,aa as E,ab as qe,b as De,ba as h,bb as Qe,c as Xe,ca as x,cb as Z,db as xe,f as et,fa as ct,fb as O,ga as pt,gb as w,hb as B,ib as q,j as tt,k as it,ka as z,kb as Ct,l as nt,la as n,lb as Q,m as rt,ma as u,mb as ie,na as b,nb as je,o as G,oa as j,ob as J,p as Fe,pb as Et,q as H,qa as mt,qb as W,ra as ut,rb as ne,s as k,sa as gt,sb as re,t as Ae,ta as ft,tb as oe,ub as Le,v as ot,vb as Ue,wa as xt,wb as Y,x as S,xa as vt,xb as kt,y as _,ya as $e,yb as It,z as m,za as Ze,zb as de}from"./chunk-A6U4UNAR.js";var Be=(()=>{class r{transform(e){switch(e){case ge.Morning_8AM:return"08:00 - 09:00";case ge.Morning_9AM:return"09:00 - 10:00";case ge.Morning_10AM:return"10:00 - 11:00";case ge.Morning_11AM:return"11:00 - 12:00";case ge.Afternoon_2PM:return"14:00 - 15:00";case ge.Afternoon_3PM:return"15:00 - 16:00";case ge.Afternoon_4PM:return"16:00 - 17:00";case ge.Afternoon_5PM:return"17:00 - 18:00";default:return""}}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275pipe=ot({name:"appTimeSlot",type:r,pure:!0})}}return r})();var ze=(()=>{class r{constructor(e){this.http=e,this.apiUrl="https://localhost:7220/api/Notification"}getNotifications(e){return this.http.get(`${this.apiUrl}?userId=${e}`)}getRecentNotifications(e){return this.http.get(`${this.apiUrl}/recent?userId=${e}`)}markAsRead(e){return this.http.patch(`${this.apiUrl}/${e}/read`,{})}static{this.\u0275fac=function(a){return new(a||r)(H(U))}}static{this.\u0275prov=G({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function oi(r,d){if(r&1){let e=E();t(0,"li",8)(1,"a",13),h("click",function(){S(e);let o=x();return _(o.navigateToUsers())}),m(),t(2,"svg",27),s(3,"path",28),i(),v(),t(4,"span",12),n(5,"Users"),i()()()}}var Vt=(()=>{class r{constructor(e){this.router=e}navigateToAddProperty(){this.router.navigate(["back-office/dashboard/addproperty"])}navigateToTransactions(){this.router.navigate(["back-office/dashboard/transactions"])}navigateToSettings(){this.router.navigate(["back-office/dashboard/settings"])}navigateToUsers(){this.router.navigate(["back-office/dashboard/users"])}navigateToContracts(){this.router.navigate(["back-office/dashboard/contracts"])}navigateToProperty(e){this.router.navigate([`/property/${e}`])}navigateToProperties(){this.router.navigate(["back-office/dashboard/properties"])}logOut(){sessionStorage.removeItem("loggedUser"),sessionStorage.removeItem("loggedUserDetails"),this.router.navigateByUrl("/login")}static{this.\u0275fac=function(a){return new(a||r)(f(M))}}static{this.\u0275cmp=k({type:r,selectors:[["app-sidebar"]],inputs:{loggedUserDetails:"loggedUserDetails"},decls:52,vars:1,consts:[[1,"font-inter","fixed","h-screen","w-64","p-10","flex-col","justify-between","gap-5","bg-gray-800/30","hidden","lg:flex"],[1,"w-full","aspect-video","flex","items-center","justify-center","mb-10"],["href","#",1,"contents"],[1,"w-1/2"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1453 208",1,"h-auto","w-full","fill-white"],["fill-rule","evenodd","d","M1421.000,208.000 L1320.000,55.000 L1320.000,208.000 L1287.000,208.000 L1287.000,1.000 L1318.000,1.000 L1420.000,154.000 L1420.000,1.000 L1453.000,1.000 L1453.000,208.000 L1421.000,208.000 ZM1151.476,207.990 C1094.568,207.990 1048.403,165.190 1048.403,104.339 C1048.403,43.780 1094.568,0.980 1151.476,0.980 C1208.964,0.980 1254.548,43.780 1254.548,104.339 C1254.548,165.190 1208.964,207.990 1151.476,207.990 ZM1151.476,30.095 C1111.408,30.095 1082.373,58.628 1082.373,104.339 C1082.373,150.050 1111.408,179.166 1151.476,179.166 C1191.544,179.166 1220.578,150.050 1220.578,104.339 C1220.578,58.628 1191.544,30.095 1151.476,30.095 ZM890.000,180.000 L984.000,32.000 L891.000,32.000 L891.000,1.000 L1023.000,1.000 L1023.000,30.000 L929.000,177.000 L1023.000,177.000 L1023.000,208.000 L890.000,208.000 L890.000,180.000 ZM821.000,1.000 L854.000,1.000 L854.000,208.000 L821.000,208.000 L821.000,1.000 ZM743.000,208.000 L695.000,125.000 L670.000,125.000 L670.000,208.000 L637.000,208.000 L637.000,1.000 L707.000,1.000 C754.907,1.000 778.424,31.260 778.424,64.160 C778.424,88.035 764.970,113.557 731.000,122.000 L783.000,208.000 L743.000,208.000 ZM745.000,64.000 C745.000,43.619 732.841,30.000 707.000,30.000 L670.000,30.000 L670.000,98.000 L707.000,98.000 C732.841,98.000 745.000,84.090 745.000,64.000 ZM501.745,207.990 C444.837,207.990 398.672,165.190 398.672,104.339 C398.672,43.780 444.837,0.980 501.745,0.980 C559.233,0.980 604.817,43.780 604.817,104.339 C604.817,165.190 559.233,207.990 501.745,207.990 ZM501.745,30.095 C461.677,30.095 432.643,58.628 432.643,104.339 C432.643,150.050 461.677,179.166 501.745,179.166 C541.813,179.166 570.847,150.050 570.847,104.339 C570.847,58.628 541.813,30.095 501.745,30.095 ZM333.000,118.000 L33.000,118.000 L33.000,208.000 L-0.000,208.000 L-0.000,1.000 L33.000,1.000 L33.000,91.000 L333.000,91.000 L333.000,1.000 L366.000,1.000 L366.000,208.000 L333.000,208.000 L333.000,118.000 Z"],[1,"w-full","h-full"],[1,"flex","flex-col","items-center","justify-between","h-2/3"],[1,"w-full","flex","items-center","justify-center","group","transition-all","duration-200"],["href","back-office/dashboard",1,"flex","w-full","h-full","items-center","space-x-6","text-neutral-400","hover:text-blue-400","active:text-blue-400"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4"],["fill-rule","evenodd","d","M4.25 2A2.25 2.25 0 0 0 2 4.25v2.5A2.25 2.25 0 0 0 4.25 9h2.5A2.25 2.25 0 0 0 9 6.75v-2.5A2.25 2.25 0 0 0 6.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 2 13.25v2.5A2.25 2.25 0 0 0 4.25 18h2.5A2.25 2.25 0 0 0 9 15.75v-2.5A2.25 2.25 0 0 0 6.75 11h-2.5Zm9-9A2.25 2.25 0 0 0 11 4.25v2.5A2.25 2.25 0 0 0 13.25 9h2.5A2.25 2.25 0 0 0 18 6.75v-2.5A2.25 2.25 0 0 0 15.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 11 13.25v2.5A2.25 2.25 0 0 0 13.25 18h2.5A2.25 2.25 0 0 0 18 15.75v-2.5A2.25 2.25 0 0 0 15.75 11h-2.5Z","clip-rule","evenodd"],[1,"whitespace-nowrap","text-sm","font-medium"],[1,"flex","w-full","h-full","items-center","space-x-6","text-neutral-400","hover:text-blue-400","active:text-blue-400","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"size-4"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"],["fill-rule","evenodd","d","M4 16.5v-13h-.25a.75.75 0 0 1 0-1.5h12.5a.75.75 0 0 1 0 1.5H16v13h.25a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 0-.75-.75h-2.5a.75.75 0 0 0-.75.75v2.5a.75.75 0 0 1-.75.75h-3.5a.75.75 0 0 1 0-1.5H4Zm3-11a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1ZM7.5 9a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1ZM11 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1Zm.5 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Z","clip-rule","evenodd"],[1,"text-sm","font-medium"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-4"],["d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["href","",1,"flex","w-full","h-full","items-center","space-x-6","text-neutral-400","hover:text-blue-400","active:text-blue-400"],["fill-rule","evenodd","d","M1 11.27c0-.246.033-.492.099-.73l1.523-5.521A2.75 2.75 0 0 1 5.273 3h9.454a2.75 2.75 0 0 1 2.651 2.019l1.523 5.52c.066.239.099.485.099.732V15a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3.73Zm3.068-5.852A1.25 1.25 0 0 1 5.273 4.5h9.454a1.25 1.25 0 0 1 1.205.918l1.523 5.52c.006.02.01.041.015.062H14a1 1 0 0 0-.86.49l-.606 1.02a1 1 0 0 1-.86.49H8.236a1 1 0 0 1-.894-.553l-.448-.894A1 1 0 0 0 6 11H2.53l.015-.062 1.523-5.52Z","clip-rule","evenodd"],["fill-rule","evenodd","d","M7.84 1.804A1 1 0 0 1 8.82 1h2.36a1 1 0 0 1 .98.804l.331 1.652a6.993 6.993 0 0 1 1.929 1.115l1.598-.54a1 1 0 0 1 1.186.447l1.18 2.044a1 1 0 0 1-.205 1.251l-1.267 1.113a7.047 7.047 0 0 1 0 2.228l1.267 1.113a1 1 0 0 1 .206 1.25l-1.18 2.045a1 1 0 0 1-1.187.447l-1.598-.54a6.993 6.993 0 0 1-1.929 1.115l-.33 1.652a1 1 0 0 1-.98.804H8.82a1 1 0 0 1-.98-.804l-.331-1.652a6.993 6.993 0 0 1-1.929-1.115l-1.598.54a1 1 0 0 1-1.186-.447l-1.18-2.044a1 1 0 0 1 .205-1.251l1.267-1.114a7.05 7.05 0 0 1 0-2.227L1.821 7.773a1 1 0 0 1-.206-1.25l1.18-2.045a1 1 0 0 1 1.187-.447l1.598.54A6.992 6.992 0 0 1 7.51 3.456l.33-1.652ZM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z","clip-rule","evenodd"],["type","button","title","Logout",1,"w-full","aspect-video","flex","items-center","justify-center","group","transition-all","duration-200","space-x-6","text-neutral-400","hover:text-blue-400","active:text-blue-400",3,"click"],["fill-rule","evenodd","d","M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z","clip-rule","evenodd"],["fill-rule","evenodd","d","M19 10a.75.75 0 0 0-.75-.75H8.704l1.048-.943a.75.75 0 1 0-1.004-1.114l-2.5 2.25a.75.75 0 0 0 0 1.114l2.5 2.25a.75.75 0 1 0 1.004-1.114l-1.048-.943h9.546A.75.75 0 0 0 19 10Z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"size-4"],["d","M7 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM14.5 9a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM14.5 16h-.106c.07-.297.088-.611.048-.933a7.47 7.47 0 0 0-1.588-3.755 4.502 4.502 0 0 1 5.874 2.636.818.818 0 0 1-.36.98A7.465 7.465 0 0 1 14.5 16Z"]],template:function(a,o){a&1&&(t(0,"aside",0)(1,"div",1)(2,"a",2)(3,"div",3),m(),t(4,"svg",4),s(5,"path",5),i()()()(),v(),t(6,"nav",6)(7,"ul",7)(8,"li",8)(9,"a",9),m(),t(10,"svg",10),s(11,"path",11),i(),v(),t(12,"span",12),n(13,"Dashboard"),i()()(),t(14,"li",8)(15,"a",13),h("click",function(){return o.navigateToTransactions()}),m(),t(16,"svg",14),s(17,"path",15),i(),v(),t(18,"span",12),n(19,"Transactions"),i()()(),t(20,"li",8)(21,"a",13),h("click",function(){return o.navigateToProperties()}),m(),t(22,"svg",10),s(23,"path",16),i(),v(),t(24,"span",17),n(25,"Properties"),i()()(),t(26,"li",8)(27,"a",13),h("click",function(){return o.navigateToContracts()}),m(),t(28,"svg",18),s(29,"path",19)(30,"path",20),i(),v(),t(31,"span",17),n(32,"Contracts"),i()()(),t(33,"li",8)(34,"a",21),m(),t(35,"svg",10),s(36,"path",22),i(),v(),t(37,"span",17),n(38,"Inbox"),i()()(),g(39,oi,6,0,"li",8),t(40,"li",8)(41,"a",13),h("click",function(){return o.navigateToSettings()}),m(),t(42,"svg",10),s(43,"path",23),i(),v(),t(44,"span",17),n(45,"Settings"),i()()()()(),t(46,"button",24),h("click",function(){return o.logOut()}),m(),t(47,"svg",10),s(48,"path",25)(49,"path",26),i(),v(),t(50,"span",17),n(51,"Logout"),i()()()),a&2&&(l(39),$(o.loggedUserDetails.access=="SystemAdministrator"?39:-1))},styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();var li=(r,d)=>d.id;function si(r,d){r&1&&(t(0,"div",14),m(),t(1,"svg",33),s(2,"path",34),i()())}function di(r,d){r&1&&(t(0,"div",15),m(),t(1,"svg",35),s(2,"path",36),i()())}function ci(r,d){r&1&&(t(0,"div",16),m(),t(1,"svg",37),s(2,"path",38),i()())}function pi(r,d){r&1&&(t(0,"div",17),m(),t(1,"svg",39),s(2,"path",40),i()())}function mi(r,d){r&1&&(t(0,"div",18),m(),t(1,"svg",41),s(2,"path",42)(3,"path",43),i()())}function ui(r,d){r&1&&(t(0,"div",19),m(),t(1,"svg",44),s(2,"path",45),i()())}function gi(r,d){r&1&&(t(0,"div",20),m(),t(1,"svg",46),s(2,"path",47),i()())}function fi(r,d){r&1&&(t(0,"div",21),m(),t(1,"svg",48),s(2,"path",49),i()())}function xi(r,d){r&1&&(t(0,"div",22),m(),t(1,"svg",50),s(2,"path",51),i()())}function vi(r,d){r&1&&(t(0,"div",23),m(),t(1,"svg",52),s(2,"path",53),i()())}function hi(r,d){r&1&&(t(0,"div",24),m(),t(1,"svg",54),s(2,"path",55),i()())}function bi(r,d){r&1&&(t(0,"div",25),m(),t(1,"svg",56),s(2,"path",57),i()())}function yi(r,d){if(r&1){let e=E();t(0,"div",8)(1,"div",12)(2,"div",13),g(3,si,3,0,"div",14)(4,di,3,0,"div",15)(5,ci,3,0,"div",16)(6,pi,3,0,"div",17)(7,mi,4,0,"div",18)(8,ui,3,0,"div",19)(9,gi,3,0,"div",20)(10,fi,3,0,"div",21)(11,xi,3,0,"div",22)(12,vi,3,0,"div",23)(13,hi,3,0,"div",24)(14,bi,3,0,"div",25),i(),t(15,"div",26)(16,"p",27),n(17),i(),t(18,"p",28),n(19),C(20,"date"),i()(),t(21,"div",29)(22,"button",30),h("click",function(){let o=S(e).$implicit,c=x(2);return _(c.markAsRead(o.id))}),m(),t(23,"svg",31),s(24,"path",32),i()()()()()}if(r&2){let e,a=d.$implicit;l(3),$((e=a.type)==="Payment"?3:e==="Contract"?4:e==="ContractUpdate"?5:e==="PropertyUpdate"?6:e==="PropertyViewing"?7:e==="NewListing"?8:e==="PriceChange"?9:e==="DocumentUpload"?10:e==="SystemAlert"?11:e==="Message"?12:e==="Favorite"?13:14),l(14),b(" ",a.message," "),l(2),b(" ",I(20,3,a.createdAt,"MMM d, y, h:mm a")," ")}}function wi(r,d){r&1&&(t(0,"div",9),n(1,"No new notifications"),i())}function Si(r,d){if(r&1){let e=E();t(0,"div",1),h("click",function(){S(e);let o=x();return _(o.closeNotifications.emit())}),i(),t(1,"div",2),h("click",function(o){return S(e),_(o.stopPropagation())}),t(2,"div",3)(3,"div",4)(4,"h3",5),n(5,"Notifications"),i(),t(6,"span",6),n(7),i()()(),t(8,"div",7),we(9,yi,25,6,"div",8,li,!1,wi,2,0,"div",9),i(),t(12,"div",10)(13,"button",11),n(14," View all notifications "),i()()()}if(r&2){let e=x();l(7),b(" ",e.notifications.length," new "),l(2),Se(e.notifications)}}var Nt=(()=>{class r{constructor(e,a){this.elementRef=e,this.notificationService=a,this.notifications=[],this.showNotifications=!1,this.closeNotifications=new ye}clickOutside(e){this.elementRef.nativeElement.contains(e.target)||this.closeNotifications.emit()}markAsRead(e){return Xe(this,null,function*(){this.notificationService.markAsRead(e).pipe(nt(1),it(a=>(console.error("Error marking notification as read:",a),et))).subscribe(()=>{this.notifications=this.notifications.filter(a=>a.id!==e)})})}getNotificationsCount(){return this.notifications.length}static{this.\u0275fac=function(a){return new(a||r)(f(at),f(ze))}}static{this.\u0275cmp=k({type:r,selectors:[["app-notifications-list"]],hostBindings:function(a,o){a&1&&h("click",function(y){return o.clickOutside(y)},!1,st)},inputs:{notifications:"notifications",showNotifications:"showNotifications"},outputs:{closeNotifications:"closeNotifications"},decls:2,vars:1,consts:[[1,"notifications-container"],[1,"fixed","inset-0","bg-gray-900/20","backdrop-blur-sm","z-40",3,"click"],[1,"absolute","right-0","mt-2","w-96","bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","z-50",3,"click"],[1,"p-4","border-b","dark:border-gray-700"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"px-2","py-1","text-xs","font-medium","text-blue-600","bg-blue-100","rounded-full","dark:bg-blue-900/30","dark:text-blue-500"],[1,"divide-y","dark:divide-gray-700","max-h-[28rem]","overflow-y-auto","[&::-webkit-scrollbar]:w-1.5","[&::-webkit-scrollbar]:bg-transparent","[&::-webkit-scrollbar-track]:rounded-full","[&::-webkit-scrollbar-thumb]:rounded-full","[&::-webkit-scrollbar-track]:bg-gray-800/30","[&::-webkit-scrollbar-thumb]:bg-gray-600","hover:[&::-webkit-scrollbar-thumb]:bg-gray-500"],[1,"p-4","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-200"],[1,"p-4","text-center","text-gray-500","dark:text-gray-400"],[1,"p-4","border-t","dark:border-gray-700"],[1,"w-full","px-4","py-2","text-sm","font-medium","text-center","text-gray-700","bg-gray-100","rounded-lg","hover:bg-gray-200","dark:text-gray-300","dark:bg-gray-700","dark:hover:bg-gray-600","transition-colors","duration-200"],[1,"flex","gap-3"],[1,"flex-shrink-0","mt-1"],[1,"w-8","h-8","rounded-full","bg-green-100","dark:bg-green-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-purple-100","dark:bg-purple-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-indigo-100","dark:bg-indigo-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-yellow-100","dark:bg-yellow-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-blue-100","dark:bg-blue-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-emerald-100","dark:bg-emerald-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-red-100","dark:bg-red-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-orange-100","dark:bg-orange-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-pink-100","dark:bg-pink-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-teal-100","dark:bg-teal-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-rose-100","dark:bg-rose-900/30","flex","items-center","justify-center"],[1,"w-8","h-8","rounded-full","bg-gray-100","dark:bg-gray-900/30","flex","items-center","justify-center"],[1,"flex-1"],[1,"text-sm","text-gray-800","dark:text-gray-200"],[1,"mt-1","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-start"],[1,"p-1","hover:bg-gray-200","dark:hover:bg-gray-600","rounded-full","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-gray-400","hover:text-gray-600","dark:text-gray-500","dark:hover:text-gray-300"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-indigo-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-yellow-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-emerald-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-pink-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-teal-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-rose-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(a,o){a&1&&(t(0,"div",0),g(1,Si,15,2),i()),a&2&&(l(),$(o.showNotifications?1:-1))},dependencies:[L]})}}return r})();function Ci(r,d){r&1&&(t(0,"span",34),s(1,"span",35)(2,"span",36),i())}function Ei(r,d){if(r&1&&s(0,"img",20),r&2){let e=x();p("src",e.loggedUserDetails==null?null:e.loggedUserDetails.imageUrl,P)}}function ki(r,d){r&1&&s(0,"img",21)}function Ii(r,d){r&1&&(t(0,"span",34),s(1,"span",35)(2,"span",36),i())}function Mi(r,d){if(r&1&&s(0,"img",32),r&2){let e=x();p("src",e.loggedUserDetails==null?null:e.loggedUserDetails.imageUrl,P)}}function Ti(r,d){r&1&&s(0,"img",21)}function Pi(r,d){if(r&1&&(t(0,"li",133)(1,"div",134)(2,"span",135),n(3),C(4,"date"),i(),t(5,"span",136),n(6),C(7,"date"),i()(),t(8,"div",137)(9,"div",138),m(),t(10,"svg",27),s(11,"path",139),i(),v(),t(12,"span",140),n(13),C(14,"appTimeSlot"),i()(),t(15,"a",141),n(16),i()()()),r&2){let e=d.$implicit;l(3),u(I(4,4,e.visitDate,"dd")),l(3),u(I(7,7,e.visitDate,"MMM")),l(7),u(V(14,10,e.timeSlot)),l(3),b(" ",e.propertyTitle," ")}}function Di(r,d){if(r&1&&(t(0,"ul",131),g(1,Pi,17,12,"li",132),i()),r&2){let e=x(2);l(),p("ngForOf",e.propertyVisitResponse.visits)}}function Fi(r,d){r&1&&(t(0,"div",142),m(),t(1,"svg",143),s(2,"path",144),i(),v(),t(3,"p",145),n(4,"No upcoming appointments."),i(),t(5,"button",146),n(6,"Schedule a Visit"),i()())}function Ai(r,d){if(r&1&&s(0,"img",166),r&2){let e=x().$implicit;p("src",e.property.images[0].imagePath,P)("alt",e.property.title)}}function Vi(r,d){if(r&1&&(t(0,"div",155)(1,"div",156)(2,"div",157),g(3,Ai,1,2,"img",158),t(4,"div",159)(5,"span",72),n(6),C(7,"currency"),i()()(),t(8,"div",160)(9,"h3",161),n(10),i(),t(11,"div",162),m(),t(12,"svg",9),s(13,"path",163),i(),v(),t(14,"span",164),n(15),i()(),t(16,"div",165)(17,"span",30),n(18),i(),t(19,"span",30),n(20),i(),t(21,"span",30),n(22),i()()()()()),r&2){let e=d.$implicit;x(3);let a=z(161);l(3),p("ngIf",e.property.images&&e.property.images.length>0)("ngIfElse",a),l(3),u(V(7,9,e.property.price)),l(4),b(" ",e.property.title," "),l(5),j(" ",e.property.city,", ",e.property.state," "),l(3),b(" ",e.property.bedrooms," beds "),l(2),b(" ",e.property.bathrooms," baths "),l(2),b(" ",e.property.size," sqft ")}}function Ni(r,d){if(r&1&&(t(0,"div",153),g(1,Vi,23,11,"div",154),i()),r&2){let e=x(3);l(),p("ngForOf",e.favorites)}}function ji(r,d){r&1&&(t(0,"div",167),m(),t(1,"svg",143),s(2,"path",168),i(),v(),t(3,"p",145),n(4,"No favorite properties yet."),i(),t(5,"button",146),n(6,"Browse Properties"),i()())}function Li(r,d){if(r&1&&(t(0,"div",115)(1,"div",147)(2,"div")(3,"h1",148),n(4,"Favorites"),i(),t(5,"p",118),n(6),i()(),t(7,"button",149),n(8," View All "),m(),t(9,"svg",9),s(10,"path",150),i()()(),g(11,Ni,2,1,"div",151)(12,ji,7,0,"div",152),i()),r&2){let e=x(2);l(6),b("",e.favorites.length," saved properties"),l(5),p("ngIf",e.hasFavorites()),l(),p("ngIf",!e.hasFavorites())}}function Ui(r,d){r&1&&(t(0,"div",169)(1,"span",128),n(2,"No image available"),i()())}function Oi(r,d){if(r&1&&s(0,"img",180),r&2){let e=x().$implicit;p("src",e.images[0].imagePath,P)}}function Bi(r,d){r&1&&s(0,"img",181)}function zi(r,d){if(r&1){let e=E();t(0,"li",170),h("click",function(){let o=S(e).$implicit,c=x(2);return _(c.navigateToProperty(o.id))}),t(1,"div",171),g(2,Oi,1,1,"img",172),i(),g(3,Bi,1,0,"ng-template",null,0,K),t(5,"div",173)(6,"div",174)(7,"h1",175),n(8),i(),t(9,"div",176),m(),t(10,"svg",177),s(11,"path",178),i(),v(),t(12,"span",56),n(13),i()()(),t(14,"div")(15,"ul",179)(16,"li"),n(17),i(),t(18,"li"),n(19),i(),t(20,"li"),n(21),i()()()()()}if(r&2){let e=d.$implicit,a=z(4);l(2),p("ngIf",e.images&&e.images.length>0)("ngIfElse",a),l(6),u(e.title),l(5),b(" ",e.type,""),l(4),b("",e.size," sqft"),l(2),b("",e.bedrooms," Bedrooms"),l(2),b("",e.bathrooms," Bathrooms")}}function Ri(r,d){if(r&1){let e=E();t(0,"section")(1,"div",37)(2,"div",38),s(3,"app-logo",39),i(),t(4,"h1",5),n(5,"Dashboard"),i(),t(6,"h6",6),n(7),C(8,"date"),i()(),t(9,"div",40)(10,"div",41)(11,"div",42)(12,"div")(13,"h3",43),n(14,"Portfolio Overview"),i(),t(15,"p",44),n(16,"Performance metrics for your properties"),i()(),t(17,"div",45)(18,"span",46),n(19,"Last 30 days"),i(),m(),t(20,"svg",47),s(21,"path",48),i()()(),v(),t(22,"div",49)(23,"div",50)(24,"div",51)(25,"div",52)(26,"p",53),n(27,"Total Portfolio Value"),i()(),t(28,"div",54),m(),t(29,"svg",9),s(30,"path",55),i(),v(),t(31,"span",56),n(32,"+8.2%"),i()()(),t(33,"h4",57),n(34),i()(),t(35,"div",58)(36,"div",51)(37,"div")(38,"p",53),n(39,"Active Listings"),i(),t(40,"h4",59),n(41),i()(),t(42,"div",60)(43,"span",56),n(44,"12 Featured"),i()()(),t(45,"div",61)(46,"div",62),s(47,"div",63),i(),t(48,"span",46),n(49,"65% Occupied"),i()()()(),t(50,"div",64)(51,"div",65)(52,"div",66)(53,"div",67),m(),t(54,"svg",68),s(55,"path",69)(56,"path",70),i()(),v(),t(57,"div")(58,"p",71),n(59,"Monthly Revenue"),i(),t(60,"p",72),n(61,"$128.5k"),i()()(),t(62,"div",73)(63,"span",74),n(64,"\u2191 12.5%"),i(),t(65,"span",75),n(66,"from last month"),i()()(),t(67,"div",76)(68,"div",66)(69,"div",77),m(),t(70,"svg",78),s(71,"path",79),i()(),v(),t(72,"div")(73,"p",71),n(74,"New Listings"),i(),t(75,"p",72),n(76,"8"),i()()(),t(77,"div",73)(78,"span",74),n(79,"\u2191 4"),i(),t(80,"span",75),n(81,"this week"),i()()(),t(82,"div",80)(83,"div",66)(84,"div",81),m(),t(85,"svg",82),s(86,"path",83),i()(),v(),t(87,"div")(88,"p",71),n(89,"Avg. ROI"),i(),t(90,"p",72),n(91,"18.2%"),i()()(),t(92,"div",73)(93,"span",74),n(94,"\u2191 2.4%"),i(),t(95,"span",75),n(96,"vs. last year"),i()()()()(),t(97,"div",84)(98,"div",85)(99,"div",86),s(100,"div",87),t(101,"h3",88),n(102,"New Property Listing"),i()(),t(103,"p",89),n(104,"Expand your real estate portfolio by listing your property. Connect with verified buyers and maximize your property's exposure in the market."),i()(),t(105,"div",90)(106,"div",91)(107,"p",92),n(108,"Active Listings"),i(),t(109,"p",93),n(110),i()(),t(111,"div",91)(112,"p",92),n(113,"Monthly Views"),i(),t(114,"p",93),n(115,"12.5k"),i()(),t(116,"div",91)(117,"p",92),n(118,"Avg. Time to Sell"),i(),t(119,"p",93),n(120,"45 days"),i()()(),t(121,"div",94)(122,"button",95),h("click",function(){S(e);let o=x();return _(o.navigateToAddProperty())}),t(123,"div",96)(124,"div",97)(125,"div",98)(126,"h2",99),n(127,"List Your Property"),i(),t(128,"p",100),n(129,"Get started in minutes"),i()(),t(130,"div",101)(131,"span",100),n(132,"Start now"),i(),t(133,"div",102),m(),t(134,"svg",103),s(135,"path",104),i()()()()()(),v(),t(136,"div",105)(137,"div",106),s(138,"div",107),t(139,"span",6),n(140,"Free listing"),i()(),t(141,"div",106),s(142,"div",107),t(143,"span",6),n(144,"Verified buyers"),i()(),t(145,"div",106),s(146,"div",107),t(147,"span",6),n(148,"24/7 Support"),i()()()()()(),t(149,"div",108)(150,"div",109)(151,"div",110)(152,"h1",111),n(153,"Next Appointments"),i(),t(154,"h6",112),n(155),C(156,"date"),i()(),g(157,Di,2,1,"ul",113)(158,Fi,7,0,"div",114),i(),g(159,Li,13,3,"div",115)(160,Ui,3,0,"ng-template",null,0,K),t(162,"div",116),h("click",function(){S(e);let o=x();return _(o.navigateToProposals())}),t(163,"div",117)(164,"div")(165,"h1",111),n(166,"Deal Proposals"),i(),t(167,"h6",118),n(168,"10 offers in total"),i()(),m(),t(169,"svg",119),s(170,"path",120),i()(),v(),t(171,"div",121)(172,"button",122),n(173," View All Proposals "),m(),t(174,"svg",123),s(175,"path",104),i()()()()(),v(),t(176,"div",124)(177,"div",125)(178,"div",126)(179,"div")(180,"h1",111),n(181,"My Units"),i(),t(182,"h6",127),n(183," Mateus, you have "),t(184,"span",128),n(185),i(),n(186," active units. "),i()(),s(187,"div"),i(),t(188,"ul",129),we(189,zi,22,7,"li",130,Ve),i()()()()}if(r&2){let e=x();l(7),u(I(8,9,e.date,"EEEE, dd MMMM yyyy")),l(27),u(e.totalPrice()),l(7),u(e.properties.length),l(69),u(e.properties.length),l(45),u(I(156,12,e.date,"MMMM dd")),l(2),p("ngIf",e.hasAppointments()),l(),p("ngIf",!e.hasAppointments()),l(),$(e.favorites.length!=0?159:-1),l(26),u(e.properties.length),l(4),Se(e.properties.slice().reverse())}}var jt=(()=>{class r{constructor(e,a,o,c,y,A,ae,ee,ni){this.zone=e,this.http=a,this.userService=o,this.propertyService=c,this.notificationService=y,this.favoriteService=A,this.visitService=ae,this.router=ee,this.cdr=ni,this.date=new Date,this.totalPages=10,this.loggedUserDetails=null,this.users=[],this.errorMessage="",this.showDashboardContent=!0,this.properties=[],this.favorites=[],this.notifications=[],this.showNotifications=!1,this.propertyVisitResponse={visits:[]},this.router.events.pipe(tt(te=>te instanceof St)).subscribe(te=>{this.showDashboardContent=!te.urlAfterRedirects.includes("/addproperty")&&!te.urlAfterRedirects.includes("/settings")&&!te.urlAfterRedirects.includes("/contracts")&&!te.urlAfterRedirects.includes("/transactions")&&!te.urlAfterRedirects.includes("/contract")&&!te.urlAfterRedirects.includes("/invoices")&&!te.urlAfterRedirects.includes("/proposals")&&!te.urlAfterRedirects.includes("/proposal")&&!te.urlAfterRedirects.includes("/properties")&&!te.urlAfterRedirects.includes("/users")})}ngOnInit(){let e=sessionStorage.getItem("loggedUser");if(!e){this.router.navigateByUrl("/login");return}let o=JSON.parse(e).userId;this.loadNotifications(o),this.userService.retrieve(o).subscribe({next:c=>{this.zone.run(()=>{this.loggedUserDetails=c})},error:c=>{console.error("Erro ao buscar detalhes do usu\xE1rio:",c),this.errorMessage="Falha ao carregar os detalhes do usu\xE1rio"}}),this.propertyService.retrieveAll().subscribe({next:c=>{this.zone.run(()=>{c&&c.properties?this.properties=c.properties:(console.error("Resposta inv\xE1lida do servidor"),this.errorMessage="Dados de im\xF3veis inv\xE1lidos")})},error:c=>{console.error("Erro ao buscar im\xF3veis:",c),this.errorMessage="Falha ao carregar im\xF3veis"}}),this.visitService.getUserVisits(o).subscribe({next:c=>{this.zone.run(()=>{this.propertyVisitResponse=c,console.log("User visits:",this.propertyVisitResponse.visits)})},error:c=>{console.error("Erro ao buscar visitas:",c),this.errorMessage="Falha ao carregar visitas"}}),this.favoriteService.getFavoritesByUser(o).subscribe({next:c=>{this.favorites=c.favorites}})}loadNotifications(e){this.notificationService.getRecentNotifications(e).subscribe({next:a=>{this.notifications=a.notifications,console.log(this.notifications)}})}hasNotifications(){return this.notifications.length>0}closeNotificationsPanel(){this.showNotifications=!1}toggleNotifications(e){e.stopPropagation(),this.showNotifications=!this.showNotifications}totalPrice(){return this.properties.length===0?0:this.properties.reduce((e,a)=>{let o=a.price||0;return e+Number(o)},0)}getAccessString(e){switch(e){case 0:return"None";case 1:return"Guest";case 2:return"User";case 3:return"Realtor";case 4:return"Admin";case 5:return"Blocked";default:return"Unknown"}}getHour(){let e=new Date().getHours();return e>=3&&e<12?"Good Morning":e>=12&&e<18?"Good Afternoon":"Good Night"}timeNow(){return new Date().getTime()}navigateToAddProperty(){this.router.navigate(["back-office/dashboard/addproperty"])}navigateToTransactions(){this.router.navigate(["back-office/dashboard/transactions"])}navigateToProposals(){this.router.navigate(["back-office/dashboard/proposals"])}navigateToProperty(e){this.router.navigate([`/property/${e}`])}navigateToProfile(e){this.router.navigate([`/profile/${e}`])}logOut(){sessionStorage.removeItem("loggedUser"),sessionStorage.removeItem("loggedUserDetails"),this.router.navigateByUrl("/login")}hasAppointments(){return this.propertyVisitResponse?.visits?.length>0}hasFavorites(){return this.favorites?.length>0}static{this.\u0275fac=function(a){return new(a||r)(f(N),f(U),f(Z),f(xe),f(ze),f(Pt),f(Dt),f(M),f(ht))}}static{this.\u0275cmp=k({type:r,selectors:[["app-dashboard"]],features:[ft([Be])],decls:64,vars:16,consts:[["noImage",""],["id","dashboard",1,"relative","flex","flex-col","w-svw","bg-gray-950","font-inter","min-h-screen"],[3,"loggedUserDetails"],[1,"ml-0","lg:ml-64","p-5","flex-1"],[1,"hidden","md:flex","justify-between","items-center","mb-10","font-inter"],[1,"inline-flex","font-extrabold","text-4xl","md:text-4xl","bg-clip-text","text-transparent","bg-white"],[1,"text-caption"],[1,"flex","gap-5"],[1,"relative","supports-backdrop-blur:bg-white/95","flex","h-10","w-10","items-center","justify-center","rounded-xl","bg-gray-900","text-neutral-300","group","hover:text-blue-400","transition-colors","duration-200"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4"],["d","M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"],["fill-rule","evenodd","d","M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z","clip-rule","evenodd"],[1,"relative"],[1,"relative","supports-backdrop-blur:bg-white/95","flex","h-10","w-10","items-center","justify-center","rounded-xl","bg-gray-900","text-neutral-300","group","hover:text-blue-400","transition-colors","duration-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"],["class","absolute flex h-3 w-3 -top-1 -right-1",4,"ngIf"],[3,"closeNotifications","notifications","showNotifications"],["id","user","type","button",1,"group","flex","shrink-0","items-center","rounded-lg","transition",3,"click"],[1,"sr-only"],["alt","Profile Picture",1,"rounded-full","w-9","h-9","object-cover","mr-2",3,"src"],["alt","","src","https://avatar.iran.liara.run/public/",1,"h-10","w-10","rounded-full","object-cover"],[1,"ms-2","text-left","sm:block","text-xs"],[1,"bg-clip-text","bg-white","text-transparent","text-xs","font-bold"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"ms-3","hidden","h-5","w-5","text-neutral-600","transition","group-hover:text-gray-700","sm:block"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"md:hidden","fixed","top-0","left-0","right-0","w-svw","bg-gray-950","z-50","py-4","px-5","h-20","flex","items-center","justify-between"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"size-4"],["fill-rule","evenodd","d","M2 3.75A.75.75 0 0 1 2.75 3h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 3.75ZM2 8a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 8Zm0 4.25a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z","clip-rule","evenodd"],[1,"flex","justify-end","gap-3"],[1,""],[1,"static","md:relative"],["alt","Profile Picture",1,"rounded-xl","w-10","h-10","object-cover","mr-2",3,"src"],[4,"ngIf"],[1,"absolute","flex","h-3","w-3","-top-1","-right-1"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-blue-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-3","w-3","bg-blue-500"],[1,"sm:hidden","mt-20","mb-5"],[1,"w-28","flex","items-center","mb-3"],[1,"h-full","w-auto"],[1,"grid","grid-cols-6","gap-5","mt-5"],[1,"col-span-6","lg:col-span-4","text-neutral-300","widget-container"],[1,"flex","justify-between","items-center","mb-8"],[1,"heading-primary"],[1,"text-body","mt-1"],[1,"flex","items-center","gap-2","bg-gray-900/50","rounded-lg","p-2"],[1,"text-xs","text-neutral-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","text-neutral-400"],["stroke-linecap","round","stroke-linejoin","round","d","m19.5 8.25-7.5 7.5-7.5-7.5"],[1,"grid","grid-cols-1","gap-6","mb-8","md:grid-cols-2"],[1,"bg-gray-900/50","rounded-xl","p-6","flex","flex-col","justify-between","h-full"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex","flex-col"],[1,"text-body","mb-1"],[1,"flex","items-center","gap-1","bg-green-500/20","text-green-400","px-2","py-1","rounded-lg"],["fill-rule","evenodd","d","M12.577 4.878a.75.75 0 0 1 .919-.53l4.78 1.281a.75.75 0 0 1 .531.919l-1.281 4.78a.75.75 0 0 1-1.449-.387l.81-3.022a19.407 19.407 0 0 0-5.594 5.203.75.75 0 0 1-1.139.093L7 10.06l-4.72 4.72a.75.75 0 0 1-1.06-1.061l5.25-5.25a.75.75 0 0 1 1.06 0l3.074 3.073a20.923 20.923 0 0 1 5.545-4.931l-3.042.815a.75.75 0 0 1-.919-.53Z","clip-rule","evenodd"],[1,"text-xs","font-medium"],[1,"text-2xl","font-bold","text-white","self-start"],[1,"bg-gray-900/50","rounded-xl","p-6"],[1,"text-2xl","font-bold","text-white"],[1,"flex","items-center","gap-1","bg-blue-500/20","text-blue-400","px-2","py-1","rounded-lg"],[1,"flex","items-center","gap-4"],[1,"flex-1","bg-gray-800","rounded-full","h-2"],[1,"bg-blue-500","h-2","rounded-full",2,"width","65%"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-gradient-to-br","from-blue-600/20","to-blue-700/20","rounded-xl","p-4"],[1,"flex","items-center","gap-3","mb-3"],[1,"p-2","bg-blue-500/20","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5","text-blue-500"],["d","M10.75 10.818v2.614A3.13 3.13 0 0 0 11.888 13c.482-.315.612-.648.612-.875 0-.227-.13-.56-.612-.875a3.13 3.13 0 0 0-1.138-.432ZM8.33 8.62c.053.055.115.11.184.164.208.16.46.284.736.363V6.603a2.45 2.45 0 0 0-.35.13c-.14.065-.27.143-.386.233-.377.292-.514.627-.514.909 0 .184.058.39.202.592.037.051.08.102.128.152Z"],["fill-rule","evenodd","d","M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-8-6a.75.75 0 0 1 .75.75v.316a3.78 3.78 0 0 1 1.653.713c.426.33.744.74.925 1.2a.75.75 0 0 1-1.395.55 1.35 1.35 0 0 0-.447-.563 2.187 2.187 0 0 0-.736-.363V9.3c.698.093 1.383.32 1.959.696.787.514 1.29 1.27 1.29 2.13 0 .86-.504 1.616-1.29 2.13-.576.377-1.261.603-1.96.696v.299a.75.75 0 1 1-1.5 0v-.3c-.697-.092-1.382-.318-1.958-.695-.482-.315-.857-.717-1.078-1.188a.75.75 0 1 1 1.359-.636c.08.173.245.376.54.569.313.205.706.353 1.138.432v-2.748a3.782 3.782 0 0 1-1.653-.713C6.9 9.433 6.5 8.681 6.5 7.875c0-.805.4-1.558 1.097-2.096a3.78 3.78 0 0 1 1.653-.713V4.75A.75.75 0 0 1 10 4Z","clip-rule","evenodd"],[1,"text-sm","text-neutral-400"],[1,"text-lg","font-bold","text-white"],[1,"flex","items-center","gap-2","text-xs"],[1,"text-green-400"],[1,"text-neutral-400"],[1,"bg-gradient-to-br","from-purple-600/20","to-purple-700/20","rounded-xl","p-4"],[1,"p-2","bg-purple-500/20","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5","text-purple-500"],["d","M4.5 2A1.5 1.5 0 0 0 3 3.5v13A1.5 1.5 0 0 0 4.5 18h11a1.5 1.5 0 0 0 1.5-1.5V7.621a1.5 1.5 0 0 0-.44-1.06l-4.12-4.122A1.5 1.5 0 0 0 11.378 2H4.5ZM10 8a.75.75 0 0 1 .75.75v1.5h1.5a.75.75 0 0 1 0 1.5h-1.5v1.5a.75.75 0 0 1-1.5 0v-1.5h-1.5a.75.75 0 0 1 0-1.5h1.5v-1.5A.75.75 0 0 1 10 8Z"],[1,"bg-gradient-to-br","from-orange-600/20","to-orange-700/20","rounded-xl","p-4"],[1,"p-2","bg-orange-500/20","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5","text-orange-500"],["fill-rule","evenodd","d","M5.5 17a4.5 4.5 0 0 1-1.44-8.765 4.5 4.5 0 0 1 8.302-3.046 3.5 3.5 0 0 1 4.504 4.272A4 4 0 0 1 15 17H5.5Zm3.75-2.75a.75.75 0 0 0 1.5 0V9.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0l-3.25 3.5a.75.75 0 1 0 1.1 1.02l1.95-2.1v4.59Z","clip-rule","evenodd"],[1,"col-span-6","lg:col-span-2","text-neutral-300","bg-gray-800/30","rounded-3xl","p-8","flex","flex-col","h-full"],[1,"mb-5"],[1,"flex","items-center","gap-5","mb-5"],[1,"section-marker"],[1,"section-title"],[1,"section-description"],[1,"stats-container","grid","grid-cols-1","sm:grid-cols-3","gap-4","mb-5"],[1,"stat-card"],[1,"stat-label"],[1,"stat-value"],[1,"mt-auto"],[1,"group","relative","w-full","overflow-hidden","bg-gradient-to-r","from-blue-600","to-blue-500","hover:from-blue-500","hover:to-blue-400","rounded-xl","p-6","transition-all","duration-300",3,"click"],[1,"relative","z-10"],[1,"flex","items-center","justify-between"],[1,"text-start"],[1,"heading-secondary","mb-1"],[1,"text-body","bg-white"],[1,"flex","items-center","gap-3"],[1,"w-8","h-8","rounded-lg","bg-white/10","flex","items-center","justify-center","group-hover:bg-white/20","transition-colors"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-white","transform","group-hover:translate-x-0.5","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"flex","items-center","justify-center","lg:justify-between","mt-5","flex-wrap","gap-5"],[1,"flex","items-center","gap-2"],[1,"w-1.5","h-1.5","rounded-full","bg-green-500"],[1,"grid","grid-cols-5","gap-5","mt-5"],[1,"col-span-5","sm:col-span-3","text-neutral-300","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10","flex","flex-col","h-full"],[1,"flex-grow","mb-5"],[1,"inline-flex","font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white","pb-2"],[1,"text-sm"],["class","max-h-60 overflow-y-auto [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar]:bg-transparent [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-800/30 [&::-webkit-scrollbar-thumb]:bg-gray-600 hover:[&::-webkit-scrollbar-thumb]:bg-gray-500",4,"ngIf"],["class","flex flex-col items-center justify-center py-8 text-center",4,"ngIf"],[1,"col-span-5","sm:col-span-3","text-neutral-300","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10"],[1,"col-span-5","sm:col-span-2","text-neutral-300","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10","hover:bg-gray-800/40","transition-all","cursor-pointer","group",3,"click"],[1,"flex","justify-between","items-start","mb-6"],[1,"text-sm","text-gray-400"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-500","group-hover:translate-x-1","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7l5 5m0 0l-5 5m5-5H6"],[1,"flex","items-center","justify-between","mt-4"],[1,"text-sm","text-blue-400","hover:text-blue-300","inline-flex","items-center","gap-2","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],[1,"hidden","grid-cols-6","gap-5","mt-5"],[1,"col-span-6","sm:col-span-6","text-neutral-300","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10"],[1,"flex","justify-between"],[1,"text-sm","text-white"],[1,"text-gray-400"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:2","xl:grid-cols-3","gap-5","mt-10"],["id","property",1,"col-span-1","cursor-pointer"],[1,"max-h-60","overflow-y-auto","[&::-webkit-scrollbar]:w-1.5","[&::-webkit-scrollbar]:bg-transparent","[&::-webkit-scrollbar-track]:rounded-full","[&::-webkit-scrollbar-thumb]:rounded-full","[&::-webkit-scrollbar-track]:bg-gray-800/30","[&::-webkit-scrollbar-thumb]:bg-gray-600","hover:[&::-webkit-scrollbar-thumb]:bg-gray-500"],["class","flex gap-6 p-4 hover:bg-gray-950/50 transition-colors rounded-lg",4,"ngFor","ngForOf"],[1,"flex","gap-6","p-4","hover:bg-gray-950/50","transition-colors","rounded-lg"],[1,"min-w-16","h-16","bg-gradient-to-br","from-blue-600","to-blue-800","rounded-xl","flex","flex-col","items-center","justify-center","text-white"],[1,"text-2xl","font-bold"],[1,"text-sm","font-medium"],[1,"flex","flex-col","justify-center"],[1,"flex","gap-2","items-center","bg-blue-900/40","text-blue-200","px-3","py-1.5","rounded-full","w-fit","mb-2"],["fill-rule","evenodd","d","M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8Zm7.75-4.25a.75.75 0 0 0-1.5 0V8c0 .414.336.75.75.75h3.25a.75.75 0 0 0 0-1.5h-2.5v-3.5Z","clip-rule","evenodd"],[1,"text-xs"],["href","#",1,"text-lg","font-semibold","text-white","hover:text-blue-300","transition-colors","line-clamp-1"],[1,"flex","flex-col","items-center","justify-center","py-8","text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","text-gray-500","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-body","mb-2"],[1,"text-blue-400","hover:text-blue-300","text-sm"],[1,"flex","justify-between","items-center","mb-6"],[1,"inline-flex","font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white"],[1,"text-sm","text-blue-400","hover:text-blue-300","flex","items-center","gap-2"],["fill-rule","evenodd","d","M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z","clip-rule","evenodd"],["class","grid grid-cols-2 gap-4 max-h-[500px] overflow-y-auto pr-2 [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar]:bg-transparent [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-800/30 [&::-webkit-scrollbar-thumb]:bg-gray-600 hover:[&::-webkit-scrollbar-thumb]:bg-gray-500",4,"ngIf"],["class","flex flex-col items-center justify-center py-12 text-center",4,"ngIf"],[1,"grid","grid-cols-2","gap-4","max-h-[500px]","overflow-y-auto","pr-2","[&::-webkit-scrollbar]:w-1.5","[&::-webkit-scrollbar]:bg-transparent","[&::-webkit-scrollbar-track]:rounded-full","[&::-webkit-scrollbar-thumb]:rounded-full","[&::-webkit-scrollbar-track]:bg-gray-800/30","[&::-webkit-scrollbar-thumb]:bg-gray-600","hover:[&::-webkit-scrollbar-thumb]:bg-gray-500"],["class","group relative",4,"ngFor","ngForOf"],[1,"group","relative"],[1,"bg-gray-950/30","rounded-xl","overflow-hidden","transition-all","duration-300","hover:bg-gray-950/50"],[1,"relative","h-48","overflow-hidden"],["class","w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",3,"src","alt",4,"ngIf","ngIfElse"],[1,"absolute","bottom-0","left-0","right-0","bg-gradient-to-t","from-black/60","to-transparent","p-4"],[1,"p-4"],[1,"font-semibold","text-white","group-hover:text-blue-300","transition-colors","line-clamp-1"],[1,"flex","items-center","gap-2","mt-2","text-neutral-400"],["fill-rule","evenodd","d","M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 00.281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 103 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 002.273 1.765 11.842 11.842 0 00.976.544l.062.029.018.008.006.003zM10 11.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z","clip-rule","evenodd"],[1,"text-sm","line-clamp-1"],[1,"flex","items-center","gap-5","justify-between","*:bg-gray-800/50","*:rounded-full","*:p-2","text-xs","mt-2"],[1,"w-full","h-full","object-cover","group-hover:scale-110","transition-transform","duration-300",3,"src","alt"],[1,"flex","flex-col","items-center","justify-center","py-12","text-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],[1,"h-48","bg-gray-800","flex","items-center","justify-center"],["id","property",1,"col-span-1","cursor-pointer",3,"click"],["id","property_image",1,"bg-gray-900","rounded-xl","overflow-hidden","aspect-video","mb-5"],["alt","Imagem da Propriedade","class","w-full h-full object-cover",3,"src",4,"ngIf","ngIfElse"],["id","property_infos"],[1,"flex","items-center","justify-between","mb-5","gap-5"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white","line-clamp-1","text-balance"],[1,"flex","items-center","gap-2","bg-gray-800","rounded-full","p-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"size-3"],["fill-rule","evenodd","d","M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z","clip-rule","evenodd"],[1,"flex","items-center","gap-5","justify-between","*:bg-gray-800/50","*:rounded-full","*:p-2","text-xs"],["alt","Imagem da Propriedade",1,"w-full","h-full","object-cover",3,"src"],["src","","alt","Imagem n\xE3o dispon\xEDvel",1,"w-full","h-full","object-cover"]],template:function(a,o){a&1&&(t(0,"section",1),s(1,"app-sidebar",2),t(2,"main",3)(3,"section",4)(4,"div")(5,"h1",5),n(6,"Dashboard"),i(),t(7,"h6",6),n(8),C(9,"date"),i()(),t(10,"div")(11,"ul",7)(12,"li")(13,"button",8),m(),t(14,"svg",9),s(15,"path",10),i()()(),v(),t(16,"li")(17,"button",8),m(),t(18,"svg",9),s(19,"path",11),i()()(),v(),t(20,"li",12)(21,"button",13),h("click",function(y){return o.toggleNotifications(y)}),m(),t(22,"svg",14),s(23,"path",15),i(),g(24,Ci,3,0,"span",16),i(),v(),t(25,"app-notifications-list",17),h("closeNotifications",function(){return o.closeNotificationsPanel()}),i()(),t(26,"li")(27,"button",18),h("click",function(){return o.navigateToProfile(o.loggedUserDetails.id)}),t(28,"span",19),n(29,"Menu"),i(),g(30,Ei,1,1,"img",20)(31,ki,1,0,"img",21),t(32,"p",22)(33,"span",23),n(34),i()(),m(),t(35,"svg",24),s(36,"path",25),i()()()()()(),v(),t(37,"section",26)(38,"button",8),m(),t(39,"svg",27),s(40,"path",28),i()(),v(),t(41,"ul",29)(42,"li",30)(43,"button",8),m(),t(44,"svg",9),s(45,"path",11),i()()(),v(),t(46,"li")(47,"button",8),m(),t(48,"svg",9),s(49,"path",10),i()()(),v(),t(50,"li",31)(51,"button",13),h("click",function(y){return o.toggleNotifications(y)}),m(),t(52,"svg",14),s(53,"path",15),i(),g(54,Ii,3,0,"span",16),i(),v(),t(55,"app-notifications-list",17),h("closeNotifications",function(){return o.closeNotificationsPanel()}),i()(),t(56,"li")(57,"button",18),h("click",function(){return o.navigateToProfile(o.loggedUserDetails.id)}),t(58,"span",19),n(59,"Menu"),i(),g(60,Mi,1,1,"img",32)(61,Ti,1,0,"img",21),i()()()(),g(62,Ri,191,15,"section",33),i(),s(63,"router-outlet"),i()),a&2&&(l(),p("loggedUserDetails",o.loggedUserDetails),l(7),u(I(9,13,o.date,"EEEE, dd MMMM yyyy")),l(16),p("ngIf",o.notifications.length>0),l(),p("notifications",o.notifications)("showNotifications",o.showNotifications),l(5),$((o.loggedUserDetails==null?null:o.loggedUserDetails.imageUrl)!=null?30:31),l(4),j(" ",o.loggedUserDetails==null?null:o.loggedUserDetails.firstName," ",o.loggedUserDetails==null?null:o.loggedUserDetails.lastName," "),l(20),p("ngIf",o.notifications.length>0),l(),p("notifications",o.notifications)("showNotifications",o.showNotifications),l(5),$((o.loggedUserDetails==null?null:o.loggedUserDetails.imageUrl)!=null?60:61),l(2),p("ngIf",o.showDashboardContent))},dependencies:[D,F,_t,Mt,Vt,Nt,se,L,Be]})}}return r})();var We=function(r){return r.UnassignedAccount="UnassignedAccount",r.GuestVisitor="GuestVisitor",r.RegisteredClient="RegisteredClient",r.LicensedAgent="LicensedAgent",r.SystemAdministrator="SystemAdministrator",r.SuspendedUser="SuspendedUser",r}(We||{});function Gi(r,d){if(r&1&&s(0,"img",15),r&2){let e=x();p("src",e.imagePreview?e.imagePreview:e.loggedUserDetails==null?null:e.loggedUserDetails.imageUrl,P)}}function Hi(r,d){r&1&&s(0,"img",16)}function $i(r,d){if(r&1&&(t(0,"option",55),n(1),i()),r&2){let e=d.$implicit;p("value",e.value),l(),b(" ",e.value," ")}}function Zi(r,d){r&1&&(me(0),m(),t(1,"svg",56),s(2,"path",57),i(),n(3," Personal Info "),ue())}function qi(r,d){r&1&&(m(),t(0,"svg",58),s(1,"path",59),i(),n(2," Personal Info not provided. "))}function Qi(r,d){r&1&&(me(0),m(),t(1,"svg",56),s(2,"path",57),i(),n(3," Setup Account "),ue())}function Ji(r,d){r&1&&(m(),t(0,"svg",58),s(1,"path",59),i(),n(2," Account not provided. "))}function Wi(r,d){r&1&&(me(0),m(),t(1,"svg",56),s(2,"path",57),i(),n(3," Further Information "),ue())}function Yi(r,d){r&1&&(m(),t(0,"svg",58),s(1,"path",59),i(),n(2," Further Information not provided. "))}function Ki(r,d){r&1&&(me(0),m(),t(1,"svg",56),s(2,"path",57),i(),n(3," Contact Information "),ue())}function Xi(r,d){r&1&&(m(),t(0,"svg",58),s(1,"path",59),i(),n(2," Contact Information not provided. "))}function en(r,d){r&1&&(me(0),m(),t(1,"svg",56),s(2,"path",57),i(),n(3," Upload profile photo. "),ue())}function tn(r,d){r&1&&(m(),t(0,"svg",58),s(1,"path",59),i(),n(2," Profrofile photo not uploaded. "))}function nn(r,d){r&1&&(t(0,"div",60)(1,"div",61),m(),t(2,"svg",62),s(3,"path",63),i()(),v(),t(4,"div",64)(5,"div",65)(6,"span",66),n(7,"Success"),i(),t(8,"p",67),n(9,"Redirecting to dashboard..."),i()()()())}function rn(r,d){r&1&&(t(0,"div",60)(1,"div",68),m(),t(2,"svg",62),s(3,"path",69),i()(),v(),t(4,"div",64)(5,"div",65)(6,"span",70),n(7,"Error"),i(),t(8,"p",67),n(9,"Failed to update. Please check the information provided!"),i()()()())}var Lt=(()=>{class r{constructor(e,a,o,c,y){this.fb=e,this.userService=a,this.router=o,this.zone=c,this.document=y,this.loggedUserDetails=null,this.selectedFile=null,this.userId="",this.errorMessage="",this.fileName=null,this.imagePreview=null,this.profileCompletionPercentage=0,this.updateSuccess=!1,this.updateFailure=!1,this.fieldWeights={firstName:20,lastName:20,phoneNumber:20,email:20,dateOfBirth:20,imageUrl:20},this.accessEnum=We,this.isSystemAdministrator=!1,this.userForm=this.fb.group({firstName:[""],lastName:[""],phoneNumber:[""],email:[""],dateOfBirth:[""],access:[{value:"",disabled:!0}],upload:[""]})}ngOnInit(){this.loadUserData()}triggerFileInput(){let e=this.document.getElementById("file");e&&e.click()}loadUserData(){let e=sessionStorage.getItem("loggedUser");if(!e){this.router.navigateByUrl("back-office/dashboard");return}let a=JSON.parse(e);this.userId=a.userId,this.userService.retrieve(this.userId).subscribe({next:o=>{this.zone.run(()=>{this.loggedUserDetails=o,this.isSystemAdministrator=o.access===this.accessEnum.SystemAdministrator;let c=this.userForm.get("access");c&&(this.isSystemAdministrator?c.enable():c.disable()),this.userForm.patchValue({firstName:o.firstName,lastName:o.lastName,phoneNumber:o.phoneNumber,email:o.email,dateOfBirth:o.dateOfBirth?new Date(o.dateOfBirth).toISOString().split("T")[0]:"",access:o.access}),this.calculateProfileCompletion()})},error:o=>{console.error("Erro ao buscar detalhes do usu\xE1rio:",o),this.errorMessage="Falha ao carregar os detalhes do usu\xE1rio"}})}get accessOptions(){return Object.entries(this.accessEnum).map(([e,a])=>({key:e,value:a}))}calculateProfileCompletion(){let a=0;console.log("loggedUserDetails:",this.loggedUserDetails),this.loggedUserDetails&&(this.loggedUserDetails.firstName&&a++,this.loggedUserDetails.lastName&&a++,this.loggedUserDetails.phoneNumber&&a++,this.loggedUserDetails.email&&a++,this.loggedUserDetails.dateOfBirth&&a++,this.loggedUserDetails.imageUrl&&a++),this.profileCompletionPercentage=Math.round(a/6*100)}getPath(e){let o=2*Math.PI*90;if(e===100)return"M100 10 A 90 90 0 1 1 100 190 A 90 90 0 1 1 100 10";let y=e/100*o/o*360,A=y>180?1:0,ae=100+90*Math.sin(y*Math.PI/180),ee=100-90*Math.cos(y*Math.PI/180);return`M100 10 A 90 90 0 ${A} 1 ${ae} ${ee}`}onFileSelected(e){let a=e.target.files[0];if(a){this.selectedFile=a,this.fileName=a.name;let o=new FileReader;o.onload=c=>{this.imagePreview=c.target.result},o.readAsDataURL(a)}}updateUser(){if(this.userForm.valid&&this.loggedUserDetails){let e={id:this.loggedUserDetails.id,firstName:this.userForm.get("firstName")?.value,lastName:this.userForm.get("lastName")?.value,phoneNumber:this.userForm.get("phoneNumber")?.value,email:this.userForm.get("email")?.value,dateOfBirth:this.userForm.get("dateOfBirth")?.value,imageUrl:this.loggedUserDetails.imageUrl,access:this.userForm.get("access")?.value};this.userService.updateProfile(this.userId,e,this.selectedFile).subscribe(a=>{this.loggedUserDetails=ve(ve({},this.loggedUserDetails),a),a.imageUrl&&(this.imagePreview=a.imageUrl),this.updateSuccess=!0,setTimeout(()=>{this.router.navigateByUrl("back-office/dashboard")},2e3),this.calculateProfileCompletion()},a=>{console.error("Erro ao atualizar o perfil",a),this.updateFailure=!0,setTimeout(()=>{this.updateFailure=!1},2e3)})}}static{this.\u0275fac=function(a){return new(a||r)(f(Y),f(Z),f(M),f(N),f(bt))}}static{this.\u0275cmp=k({type:r,selectors:[["app-settings"]],decls:95,vars:21,consts:[["noFirstName",""],["noEmail",""],["noDateOfBirth",""],["nophoneNumber",""],["noImageUrl",""],[1,"flex","flex-col","font-inter","ml-64","px-10"],[1,"flex","flex-1","flex-col","p-10"],[1,"inline-flex","font-extrabold","text-4xl","bg-clip-text","text-transparent","bg-white","mb-5"],[1,"grid","grid-cols-4","gap-10"],[1,"col-span-3"],["enctype","multipart/form-data",3,"ngSubmit","formGroup"],["id","profile",1,"w-full","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","overflow-hidden"],["id","cover",1,"bg-blue-600","h-40"],["id","avatar",1,"flex","-mt-16","ml-10"],[1,"w-32","h-32","border-4","border-[#0b111e]","overflow-hidden","rounded-full"],["alt","Avatar",1,"object-cover","w-full","h-full",3,"src"],["alt","Default Avatar","src","https://avatar.iran.liara.run/public",1,"h-32","w-32","rounded-full","object-cover"],["id","avatar_info",1,"p-10"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white","mb-2"],[1,"font-medium","text-sm","bg-clip-text","text-transparent","bg-gray-400","mb-5"],[1,"flex","gap-10"],[1,"block","text-sm","font-medium","text-gray-700"],["type","file","id","file",1,"hidden",3,"change"],["type","button",1,"block","w-full","text-sm","font-medium","py-2","px-4","rounded-lg","border","bg-blue-600","text-white","hover:bg-blue-700","border-none",3,"click"],["id","infos",1,"flex","flex-col","w-full","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10","mt-10"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white","mb-10"],[1,"flex-1"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700","ml-2"],["id","firstName","formControlName","firstName","type","text","placeholder","First Name",1,"block","w-full","text-gray-300","bg-transparent","outline-none","p-2","mt-2","focus:border-blue-500","focus:ring-2","rounded-lg","focus:ring-blue-600","focus:ring-opacity-50"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700","ml-2"],["id","lastName","formControlName","lastName","type","text","placeholder","Last Name",1,"block","w-full","text-gray-300","bg-transparent","outline-none","p-2","mt-2","focus:border-blue-500","focus:ring-2","rounded-lg","focus:ring-blue-600","focus:ring-opacity-50"],[1,"flex","gap-10","mt-4"],["for","phoneNumber",1,"block","text-sm","font-medium","text-gray-700","ml-2"],["id","phoneNumber","formControlName","phoneNumber","type","text","placeholder","Phone Number",1,"block","w-full","text-gray-300","bg-transparent","outline-none","p-2","mt-2","rounded-lg","focus:border-blue-500","focus:ring-2","focus:ring-blue-600","focus:ring-opacity-50"],["for","email",1,"block","text-sm","font-medium","text-gray-700","ml-2"],["id","email","formControlName","email","type","email","placeholder","Email",1,"block","w-full","text-gray-300","bg-transparent","outline-none","p-2","mt-2","rounded-lg","focus:border-blue-500","focus:ring-2","focus:ring-blue-600","focus:ring-opacity-50"],["for","dateOfBirth",1,"block","text-sm","font-medium","text-gray-700","ml-2"],["id","dateOfBirth","formControlName","dateOfBirth","type","date","placeholder","Date of Birth",1,"block","w-full","text-gray-300","bg-transparent","outline-none","p-2","mt-2","rounded-lg","focus:border-blue-500","focus:ring-2","focus:ring-blue-600","focus:ring-opacity-50","custom-date-input"],["for","access",1,"block","text-sm","font-medium","text-gray-700","ml-2"],["id","access","formControlName","access",1,"block","w-full","text-gray-300","bg-transparent","outline-none","p-2","mt-2","rounded-lg","focus:border-blue-500","focus:ring-2","focus:ring-blue-600","focus:ring-opacity-50","custom-date-input"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"mt-5","text-sm","font-medium","p-4","rounded-lg","border","bg-blue-600","text-white","hover:bg-blue-700","border-none"],[1,"col-span-1"],[1,"backdrop-supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10","flex","items-center","flex-col"],[1,"inline-flex","font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white","mb-10"],[1,"flex","flex-col","items-center","mb-10"],["viewBox","-10 -10 220 220",1,"w-40","h-40"],["fill","none","stroke","currentColor","stroke-width","40","d",`M100 10
                   A 90 90 0 1 1 100 190
                   A 90 90 0 1 1 100 10`,1,"text-gray-950"],["fill","none","stroke-width","40","stroke-linecap","round","stroke","currentColor",1,"text-blue-600"],["x","100","y","100","text-anchor","middle","dominant-baseline","central",1,"text-3xl","font-bold","fill-white"],[1,"text-gray-300","space-y-5","flex-1","flex","flex-col","w-full"],[1,"flex","items-center"],[4,"ngIf","ngIfElse"],["class","absolute flex w-full max-w-sm overflow-hidden bg-slate-800 rounded-xl shadow-md bottom-5 right-5",4,"ngIf"],[3,"value"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","text-green-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","text-gray-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18 18 6M6 6l12 12"],[1,"absolute","flex","w-full","max-w-sm","overflow-hidden","bg-slate-800","rounded-xl","shadow-md","bottom-5","right-5"],[1,"flex","items-center","justify-center","bg-emerald-500","w-14"],["viewBox","0 0 40 40","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6","text-white","fill-current"],["d","M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"],[1,"px-4","py-2","-mx-3"],[1,"mx-3"],[1,"font-semibold","text-emerald-500"],[1,"text-sm","text-slate-300"],[1,"flex","items-center","justify-center","w-14","bg-red-500"],["d","M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z"],[1,"font-semibold","text-red-500"]],template:function(a,o){if(a&1){let c=E();t(0,"section",5)(1,"div",6)(2,"h3",7),n(3,"Settings"),i(),t(4,"div",8)(5,"div",9)(6,"form",10),h("ngSubmit",function(){return S(c),_(o.updateUser())}),t(7,"div",11),s(8,"div",12),t(9,"div",13)(10,"div",14),g(11,Gi,1,1,"img",15)(12,Hi,1,0,"img",16),i()(),t(13,"div",17)(14,"h3",18),n(15,"Your Photo"),i(),t(16,"h5",19),n(17,"This will be displayed on your profile."),i(),t(18,"div",20)(19,"div")(20,"label",21)(21,"input",22),h("change",function(A){return S(c),_(o.onFileSelected(A))}),i(),t(22,"button",23),h("click",function(){return S(c),_(o.triggerFileInput())}),n(23),i()()(),s(24,"div"),i()()(),t(25,"div",24)(26,"h3",25),n(27,"Personal Info"),i(),t(28,"div",20)(29,"div",26)(30,"label",27),n(31,"First Name"),i(),s(32,"input",28),i(),t(33,"div",26)(34,"label",29),n(35,"Last Name"),i(),s(36,"input",30),i()(),t(37,"div")(38,"div",31)(39,"div",26)(40,"label",32),n(41,"Phone Number"),i(),s(42,"input",33),i(),t(43,"div",26)(44,"label",34),n(45,"Email"),i(),s(46,"input",35),i()(),t(47,"div",31)(48,"div",26)(49,"label",36),n(50,"Date of Birth"),i(),s(51,"input",37),i(),t(52,"div",26)(53,"label",38),n(54,"Authorization"),i(),t(55,"select",39)(56,"option",40),n(57,"Select Access Level"),i(),g(58,$i,2,2,"option",41),i()()()(),t(59,"button",42),n(60,"Save Changes"),i()()()(),t(61,"div",43)(62,"div",44)(63,"h3",45),n(64,"Complete your profile"),i(),t(65,"div",46),m(),t(66,"svg",47),s(67,"path",48)(68,"path",49),t(69,"text",50),n(70),C(71,"number"),i()()(),v(),t(72,"ul",51)(73,"li",52),g(74,Zi,4,0,"ng-container",53)(75,qi,3,0,"ng-template",null,0,K),i(),t(77,"li",52),g(78,Qi,4,0,"ng-container",53)(79,Ji,3,0,"ng-template",null,1,K),i(),t(81,"li",52),g(82,Wi,4,0,"ng-container",53)(83,Yi,3,0,"ng-template",null,2,K),i(),t(85,"li",52),g(86,Ki,4,0,"ng-container",53)(87,Xi,3,0,"ng-template",null,3,K),i(),t(89,"li",52),g(90,en,4,0,"ng-container",53)(91,tn,3,0,"ng-template",null,4,K),i()()()()()(),g(93,nn,10,0,"div",54)(94,rn,10,0,"div",54),i()}if(a&2){let c=z(76),y=z(80),A=z(84),ae=z(88),ee=z(92);l(6),p("formGroup",o.userForm),l(5),$((o.loggedUserDetails==null?null:o.loggedUserDetails.imageUrl)!=null?11:12),l(12),b(" ",o.loggedUserDetails!=null&&o.loggedUserDetails.imageUrl?"Update New":"Choose Photo"," "),l(35),p("ngForOf",o.accessOptions),l(10),dt("d",o.getPath(o.profileCompletionPercentage)),l(2),b("",I(71,18,o.profileCompletionPercentage,"1.0-0"),"%"),l(4),p("ngIf",o.loggedUserDetails==null?null:o.loggedUserDetails.firstName)("ngIfElse",c),l(4),p("ngIf",o.loggedUserDetails==null?null:o.loggedUserDetails.email)("ngIfElse",y),l(4),p("ngIf",o.loggedUserDetails==null?null:o.loggedUserDetails.dateOfBirth)("ngIfElse",A),l(4),p("ngIf",o.loggedUserDetails==null?null:o.loggedUserDetails.phoneNumber)("ngIfElse",ae),l(4),p("ngIf",o.loggedUserDetails==null?null:o.loggedUserDetails.imageUrl)("ngIfElse",ee),l(3),p("ngIf",o.updateSuccess),l(),p("ngIf",o.updateFailure)}},dependencies:[D,F,Q,re,oe,O,ne,B,q,J,W,Ne],styles:["[_nghost-%COMP%]{display:block}.custom-date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1) sepia(100%) saturate(10000%) hue-rotate(180deg)}"]})}}return r})();var ce=(()=>{class r{constructor(e){this.http=e,this.apiUrl="https://localhost:7220/api/Contract"}createContract(e){let a=new FormData;return a.append("PropertyId",e.propertyId.toString()),a.append("CustomerId",e.customerId.toString()),a.append("RealtorId",e.realtorId),a.append("StartDate",e.startDate.toISOString()),a.append("EndDate",e.endDate.toISOString()),a.append("Value",e.value.toString()),a.append("AdditionalFees",e.additionalFees.toString()),a.append("PaymentFrequency",e.paymentFrequency),a.append("RenewalOption",e.renewalOption.toString()),a.append("IsActive",e.isActive.toString()),a.append("ContractType",e.contractType),a.append("Status",e.status),a.append("SignatureDate",e.signatureDate.toISOString()),a.append("SecurityDeposit",e.securityDeposit?e.securityDeposit.toString():""),a.append("InsuranceDetails",e.insuranceDetails),a.append("Notes",e.notes||"N/A"),this.http.post(`${this.apiUrl}/Create`,a)}createContractFromProposal(e){let a=new FormData;return a.append("ProposalId",e.proposalId.toString()),a.append("PropertyId",e.propertyId.toString()),a.append("CustomerId",e.customerId.toString()),a.append("RealtorId",e.realtorId),a.append("StartDate",e.startDate.toISOString()),a.append("EndDate",e.endDate.toISOString()),a.append("Value",e.value.toString()),a.append("AdditionalFees",e.additionalFees.toString()),a.append("PaymentFrequency",e.paymentFrequency),a.append("RenewalOption",e.renewalOption.toString()),a.append("IsActive",e.isActive.toString()),a.append("ContractType",e.contractType),a.append("Status",e.status),a.append("SignatureDate",e.signatureDate.toISOString()),a.append("SecurityDeposit",e.securityDeposit?e.securityDeposit.toString():""),a.append("InsuranceDetails",e.insuranceDetails),a.append("Notes",e.notes||"N/A"),this.http.post(`${this.apiUrl}/CreateFromProposal`,a)}retrieveAll(){return this.http.get(`${this.apiUrl}/RetrieveAll`)}retrieve(e){return this.http.get(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(a){return new(a||r)(H(U))}}static{this.\u0275prov=G({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function on(r,d){if(r&1&&s(0,"img",12),r&2){let e=x();p("src",e.contract==null||e.contract.images==null||e.contract.images[0]==null?null:e.contract.images[0].imagePath,P)}}function an(r,d){r&1&&s(0,"img",50)}var Ut=(()=>{class r{constructor(e,a,o){this.contractService=e,this.router=a,this.route=o,this.errorMessage="",this.horizonRealtyAddress={street:"123 Horizon Blvd",city:"Sunnyvale",state:"California",zipCode:"94085",country:"United States"}}ngOnInit(){this.getContractById()}getContractById(){this.route.paramMap.subscribe(e=>{this.contractId=e.get("id")||"",this.contractId?this.contractService.retrieve(this.contractId).subscribe({next:a=>{console.log("Contrato retornado:",a),this.contract=a},error:a=>{a.status===404?this.errorMessage="Contrato n\xE3o encontrado.":a.status===500?this.errorMessage="Erro interno do servidor.":this.errorMessage="Erro ao carregar os detalhes do contrato.",console.error("Erro ao buscar o contrato:",a)}}):this.errorMessage="ID do contrato n\xE3o fornecido."})}openDocument(e){e?window.open(e,"_blank"):console.error("Document path is undefined")}downloadDocument(e){let a=document.createElement("a");a.href=e;let o=e.split("/").pop()||"download";a.download=o,document.body.appendChild(a),a.click(),document.body.removeChild(a)}previewInGoogleDocs(e){let a=`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`;window.open(a,"_blank")}static{this.\u0275fac=function(a){return new(a||r)(f(ce),f(M),f(fe))}}static{this.\u0275cmp=k({type:r,selectors:[["app-contract"]],decls:128,vars:32,consts:[["noImage",""],[1,"flex","flex-col","font-inter","ml-64","px-10"],[1,"flex","flex-1","flex-col","p-10"],[1,"font-extrabold","text-4xl","bg-clip-text","text-transparent","bg-white","mb-5"],[1,"grid","grid-cols-4","gap-10"],[1,"col-span-3","w-full","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","overflow-hidden"],["id","contract"],["id","contract_header",1,"bg-gray-900","p-10"],[1,"font-extrabold","text-3xl","bg-clip-text","text-transparent","bg-white"],[1,"grid","grid-cols-2","justify-stretch","mt-10"],["id","realtor",1,"col-span-1","flex","gap-5","items-center"],[1,"size-20","rounded-xl","bg-gray-800","overflow-hidden"],["alt","Imagem da Propriedade",1,"w-full","h-full","object-cover",3,"src"],[1,"font-semibold","text-sm","bg-clip-text","text-transparent","bg-white"],[1,"font-semibold","text-base","bg-clip-text","text-transparent","bg-white"],["id","contract_content",1,"p-10"],["id","contract_time",1,""],[1,"rounded-xl","bg-gray-900","p-5"],[1,"grid","grid-cols-2","justify-stretch","p-5","mt-10"],["id","startDate",1,"col-span-1"],[1,"font-medium","text-sm","bg-clip-text","text-transparent","bg-gray-400"],["id","endDate",1,"col-span-1"],["id","contract_parties",1,"mt-10"],["id","promissor",1,"col-span-1"],[1,"font-semibold","text-sm","bg-clip-text","text-transparent","bg-gray-400","pt-2"],["id","promisee",1,"col-span-1"],["id","contract_property",1,"mt-10"],["id","propertyImage",1,"col-span-1"],[1,"flex","gap-5","items-center"],["alt","Imagem da Propriedade","class","w-full h-full object-cover",3,"src",4,"ngIf","ngIfElse"],["id","propertyInformations",1,"col-span-1"],["id","contract_payment",1,"mt-10"],["id","totalAmount",1,"col-span-1"],["id","paymentFrequency",1,"col-span-1"],[1,"col-span-1","w-full","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10","h-fit"],[1,"bg-blue-600","rounded-xl","flex","flex-col","justify-center","items-center","w-full","p-5","hover:bg-blue-400","transition-all","duration-200",3,"click"],[1,"mt-10"],[1,"bg-transparent","rounded-xl","flex","items-center","gap-2","w-full","transition-all","duration-200","text-white","cursor-pointer","p-3","mb-5","hover:bg-blue-600",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"size-4"],["stroke-linecap","round","stroke-linejoin","round","d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"],[1,"font-medium","text-sm","bg-clip-text","text-transparent","bg-white"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],[1,"bg-transparent","rounded-xl","flex","items-center","gap-2","w-full","transition-all","duration-200","text-white","cursor-pointer","p-3","mb-5","hover:bg-blue-600"],["stroke-linecap","round","stroke-linejoin","round","d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"],[1,"group","bg-transparent","rounded-xl","flex","items-center","gap-2","w-full","transition-all","duration-200","text-red-500","cursor-pointer","p-3","mb-5","hover:bg-red-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","transition-colors","duration-200","group-hover:stroke-white"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],[1,"font-medium","text-sm","bg-clip-text","text-transparent","bg-red-500","group-hover:bg-white","transition-colors","duration-200"],["src","path/to/placeholder.png","alt","Imagem n\xE3o dispon\xEDvel",1,"w-full","h-full","object-cover"]],template:function(a,o){if(a&1){let c=E();t(0,"section",1)(1,"div",2)(2,"h3",3),n(3,"Contracts"),i(),t(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),n(9),i(),t(10,"div",9)(11,"div",10)(12,"div",11),s(13,"img",12),i(),t(14,"div")(15,"h4",13),n(16,"Contract for"),i(),t(17,"h3",14),n(18),i()()()()(),t(19,"div",15)(20,"div",16)(21,"div",17)(22,"h1",14),n(23,"Contract Time"),i()(),t(24,"div",18)(25,"div",19)(26,"h4",20),n(27,"Start Date"),i(),t(28,"h3",14),n(29),C(30,"date"),i()(),t(31,"div",21)(32,"h4",20),n(33,"End Date"),i(),t(34,"h3",14),n(35),C(36,"date"),i()()()(),t(37,"div",22)(38,"div",17)(39,"h1",14),n(40,"Parties"),i()(),t(41,"div",18)(42,"div",23)(43,"h4",20),n(44,"Promisor"),i(),t(45,"h3",14),n(46),i(),t(47,"h3",24),n(48),s(49,"br"),n(50),s(51,"br"),n(52),i()(),t(53,"div",25)(54,"h4",20),n(55,"Promisee"),i(),t(56,"h3",14),n(57),i(),t(58,"h3",24),n(59),s(60,"br"),n(61),s(62,"br"),n(63),i()()()(),t(64,"div",26)(65,"div",17)(66,"h1",14),n(67,"Property"),i()(),t(68,"div",18)(69,"div",27)(70,"div",28)(71,"div",11),g(72,on,1,1,"img",29)(73,an,1,0,"ng-template",null,0,K),i(),t(75,"div")(76,"h3",14),n(77),i(),t(78,"h3",24),n(79),i()()()(),t(80,"div",30)(81,"h4",20),n(82,"Informations"),i(),t(83,"h3",14),n(84),i(),t(85,"h3",24),n(86),i()()()(),t(87,"div",31)(88,"div",17)(89,"h1",14),n(90,"Payment"),i()(),t(91,"div",18)(92,"div",32)(93,"h4",20),n(94,"Total Amount"),i(),t(95,"h3",14),n(96),i()(),t(97,"div",33)(98,"h4",20),n(99,"Payment Frequency"),i(),t(100,"h3",14),n(101),i()()()()()()(),t(102,"div",34)(103,"a",35),h("click",function(){return S(c),_(o.openDocument(o.contract.documentPath))}),t(104,"span",14),n(105,"Review Contract"),i()(),t(106,"div",36)(107,"a",37),h("click",function(){return S(c),_(o.downloadDocument(o.contract.documentPath))}),m(),t(108,"svg",38),s(109,"path",39),i(),v(),t(110,"h4",40),n(111,"Download"),i()(),t(112,"a",37),h("click",function(){return S(c),_(o.previewInGoogleDocs(o.contract.documentPath))}),m(),t(113,"svg",41),s(114,"path",42)(115,"path",43),i(),v(),t(116,"h4",40),n(117,"Preview in Google Docs"),i()(),t(118,"a",44),m(),t(119,"svg",41),s(120,"path",45),i(),v(),t(121,"h4",40),n(122,"Edit"),i()(),t(123,"a",46),m(),t(124,"svg",47),s(125,"path",48),i(),v(),t(126,"h4",49),n(127,"Delete"),i()()()()()()()}if(a&2){let c=z(74);l(9),b("HC/2024 - ",o.contract==null?null:o.contract.propertyTitle,""),l(4),p("src",o.contract==null?null:o.contract.customerPhoto,P),l(5),u(o.contract==null?null:o.contract.customerName),l(11),u(I(30,26,o.contract==null?null:o.contract.startDate,"MMM dd, yyyy")),l(6),u(I(36,29,o.contract==null?null:o.contract.endDate,"MMM dd, yyyy")),l(11),u(o.contract==null?null:o.contract.realtorName),l(2),j(" ",o.horizonRealtyAddress.street,", ",o.horizonRealtyAddress.city,", "),l(2),j("",o.horizonRealtyAddress.state," ",o.horizonRealtyAddress.zipCode,","),l(2),b(" ",o.horizonRealtyAddress.country," "),l(5),u(o.contract==null?null:o.contract.customerName),l(2),j(" ",o.contract==null?null:o.contract.propertyStreet,", ",o.contract==null?null:o.contract.propertyCity,", "),l(2),j("",o.contract==null?null:o.contract.propertyState," ",o.contract==null?null:o.contract.propertyCountry," "),l(2),b(" ",o.contract==null?null:o.contract.propertyPostalCode,", "),l(9),p("ngIf",o.contract==null||o.contract.images==null?null:o.contract.images.length)("ngIfElse",c),l(5),u(o.contract==null?null:o.contract.propertyTitle),l(2),u(o.contract==null?null:o.contract.propertyStreet),l(5),b("",o.contract==null?null:o.contract.propertySize," sqft"),l(2),j("",o.contract==null?null:o.contract.propertyBedrooms," bed, ",o.contract==null?null:o.contract.propertyBathrooms," bath"),l(10),b("$ ",o.contract==null?null:o.contract.value,""),l(5),u(o.contract==null?null:o.contract.paymentFrequency)}},dependencies:[F,L],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();var ln=(r,d)=>({"from-blue-500 to-blue-600":r,"from-green-500 to-green-600":d}),sn=(r,d,e)=>({"bg-green-500/20 text-green-400":r,"bg-amber-500/20 text-amber-400":d,"bg-red-500/20 text-red-400":e}),dn=(r,d,e)=>({"bg-green-400":r,"bg-amber-400":d,"bg-red-400":e});function cn(r,d){if(r&1&&(t(0,"li")(1,"span",98),n(2),i()()),r&2){let e=d.$implicit,a=d.index,o=x();He("opacity",a===o.currentTip?1:0),pe("hidden",a!==o.currentTip),l(2),u(e)}}function pn(r,d){if(r&1){let e=E();t(0,"button",99),h("click",function(){let o=S(e).$implicit,c=x();return c.filter=o.value,_(c.applyFilters())}),t(1,"div",100)(2,"span",101),n(3),i(),t(4,"span",102),n(5),i()()()}if(r&2){let e=d.$implicit,a=x();ke("relative px-2.5 md:px-6 py-2.5 rounded-xl transition-all duration-300 "+(a.filter===e.value?"bg-blue-500/20 text-blue-400":"hover:bg-gray-700/50 text-gray-400")),l(3),u(e.label),l(2),b(" ",e.count," ")}}function mn(r,d){if(r&1){let e=E();t(0,"div",103)(1,"div",104)(2,"div",105)(3,"div",106)(4,"div",107),m(),t(5,"svg",108),s(6,"path",109),i()(),v(),t(7,"h3",110),n(8),i()(),t(9,"div",111)(10,"span",112),s(11,"span",113),t(12,"span",114),n(13),i()()()(),t(14,"div",115)(15,"div",116)(16,"div")(17,"span",117),n(18,"Contract Value"),i(),t(19,"span",118),n(20),C(21,"currency"),i()(),t(22,"div")(23,"span",117),n(24,"Duration"),i(),t(25,"span",118),n(26),i()()(),t(27,"div",119)(28,"div")(29,"span",117),n(30,"Start Date"),i(),t(31,"span",118),n(32),C(33,"date"),i()(),t(34,"div")(35,"span",117),n(36,"End Date"),i(),t(37,"span",118),n(38),C(39,"date"),i()()()(),t(40,"div",120)(41,"button",121),m(),t(42,"svg",122),s(43,"path",123),i()(),v(),t(44,"button",124),h("click",function(){let o=S(e).$implicit,c=x();return _(c.navigateToContract(o.id))}),m(),t(45,"svg",122),s(46,"path",125)(47,"path",126),i()()()()()}if(r&2){let e=d.$implicit;l(4),p("ngClass",vt(15,ln,e.contractType==="Sale",e.contractType==="Rent")),l(4),b(" ",e.contractName," "),l(2),p("ngClass",$e(18,sn,e.status==="Active",e.status==="Pending",e.status==="Expired")),l(),p("ngClass",$e(22,dn,e.status==="Active",e.status==="Pending",e.status==="Expired")),l(2),u(e.status),l(7),u(V(21,9,e.value)),l(6),u(e.durationInMonths),l(6),u(V(33,11,e.startDate)),l(6),u(V(39,13,e.endDate))}}function un(r,d){if(r&1&&(t(0,"div",127)(1,"div",128),m(),t(2,"svg",129),s(3,"path",109),i()(),v(),t(4,"div")(5,"p",130),n(6),i(),t(7,"span",131),n(8),C(9,"date"),i()()()),r&2){let e=d.$implicit;l(6),u(e.contractName),l(2),u(V(9,2,e.createdAt))}}function gn(r,d){if(r&1&&(t(0,"div",132)(1,"div",133)(2,"span",134),n(3),i(),t(4,"span",135),n(5),C(6,"date"),i()(),t(7,"p",136),n(8),i()()),r&2){let e=d.$implicit;l(3),u(e.contractName),l(2),b(" ",V(6,3,e.endDate)," "),l(3),b("Property: ",e.propertyTitle,"")}}var Ot=(()=>{class r{get filterOptions(){return[{label:"All",value:"All",count:this.contracts.length},{label:"For Sale",value:"Sale",count:this.countSaleContracts()},{label:"For Rent",value:"Rent",count:this.countRentContracts()}]}constructor(e,a,o){this.contractService=e,this.router=a,this.zone=o,this.contracts=[],this.selectedContract=null,this.errorMessage="",this.tips=["Verify all property details before signing any contract.","Include clear contingencies for financing and inspections.","Specify repair and maintenance responsibilities in agreements.","Ensure compliance with local zoning laws and regulations.","Clearly define payment terms and commission structures.","Include effective dispute resolution mechanisms."],this.filteredContracts=[],this.filter="All",this.searchTerm="",this.currentTip=0,this.completionRate=0,this.upcomingRenewals=[],this.recentActivities=[],this.targetCompletionRate=85,this.filteredContracts=this.contracts}ngOnInit(){this.retrieveAllContracts(),this.startSlider(),this.applyFilters(),this.filteredContracts=this.contracts}applyFilters(){let e=[...this.contracts];if(this.filter!=="All"&&(e=e.filter(a=>a.contractType===this.filter)),this.searchTerm.trim()){let a=this.searchTerm.toLowerCase();e=e.filter(o=>o.propertyTitle.toLowerCase().includes(a)||o.customerName.toLowerCase().includes(a)||o.status.toLowerCase().includes(a))}this.filteredContracts=e}retrieveAllContracts(){this.contractService.retrieveAll().subscribe({next:e=>{this.zone.run(()=>{e&&e.contracts&&(this.contracts=e.contracts,this.filteredContracts=this.contracts,console.log(this.contracts),this.calculateSidebarMetrics())})},error:e=>{console.error("Erro ao buscar contratos:",e),this.errorMessage="Falha ao carregar a lista de contratos."}})}selectContract(e){this.selectedContract?.id===e.id?this.selectedContract=null:this.selectedContract=e}filterContracts(){let e=this.searchTerm.toLowerCase();this.filteredContracts=this.contracts.filter(a=>a.propertyTitle.toLowerCase().includes(e)||a.customerName.toLowerCase().includes(e)||a.status.toLowerCase().includes(e))}formatNumber(e){return e>=1e6?(e/1e6).toFixed(1)+"m":e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}avgDuration(){return this.contracts.length===0?0:this.contracts.reduce((a,o)=>a+o.durationInMonths,0)/this.contracts.length}contractsValue(){return this.contracts.reduce((e,a)=>e+a.value,0)}countActiveContracts(){return this.contracts.filter(e=>e.isActive==!0).length}countSaleContracts(){return this.contracts.filter(e=>e.contractType==="Sale").length}countRentContracts(){return this.contracts.filter(e=>e.contractType==="Rent").length}startSlider(){let e=()=>{let a=document.querySelectorAll(".tip-slider li");Qe.to(a[this.currentTip],{opacity:0,duration:.5,onComplete:()=>{this.currentTip=(this.currentTip+1)%this.tips.length,Qe.to(a[this.currentTip],{opacity:1,duration:.5})}})};e(),this.intervalId=setInterval(e,3e3)}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId)}navigateToContract(e){this.router.navigate(["back-office/dashboard/contract/",e])}navigateToAddContract(){this.router.navigate(["back-office/dashboard/contracts/add-contract"])}calculateSidebarMetrics(){let e=this.contracts.filter(o=>o.status==="Active");this.completionRate=e.length/this.contracts.length*100;let a=new Date;a.setDate(a.getDate()+30),this.upcomingRenewals=this.contracts.filter(o=>new Date(o.endDate)<=a).sort((o,c)=>new Date(o.endDate).getTime()-new Date(c.endDate).getTime()).slice(0,3),this.recentActivities=this.contracts.sort((o,c)=>new Date(c.createdAt).getTime()-new Date(o.createdAt).getTime()).slice(0,3)}calculateTargetProgress(){return`${this.completionRate}/${this.targetCompletionRate}`}isTargetReached(){return this.completionRate>=this.targetCompletionRate}static{this.\u0275fac=function(a){return new(a||r)(f(ce),f(M),f(N))}}static{this.\u0275cmp=k({type:r,selectors:[["app-contracts"]],decls:132,vars:19,consts:[[1,"flex","flex-col","font-inter","ml-0","lg:ml-64","px-5","lg:px-10","min-h-screen"],[1,"flex","flex-col","flex-grow"],[1,"flex","justify-between","mb-10"],[1,"font-extrabold","text-4xl","bg-clip-text","text-transparent","bg-white","mb-5"],[1,"md:flex","flex-wrap","mb-10","gap-10","hidden"],[1,"flex","flex-1","flex-wrap","gap-5","md:flex-nowrap"],[1,"flex-1","bg-gray-800/30","rounded-3xl","p-10","size-56","flex","flex-col","justify-between"],[1,"font-bold","bg-clip-text","text-transparent","bg-gray-300"],[1,"text-4xl","font-extrabold","bg-clip-text","text-transparent","bg-white"],[1,"text-xs","bg-clip-text","text-transparent","bg-green-500","font-medium"],[1,"flex-1","bg-gray-900/30","rounded-3xl","p-10","size-56","flex","flex-col","justify-between"],[1,"text-xs","bg-clip-text","text-transparent","bg-white","font-medium"],["id","tips",1,"hidden","flex-1","bg-gray-900/30","rounded-3xl","md:flex","flex-col","justify-between","relative","overflow-hidden","p-10","h-56","backdrop-blur-3xl"],[1,"flex","gap-3","items-center","mb-5","z-20"],[1,"bg-white","rounded-xl","p-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-5","text-gray-950"],["d","M12 .75a8.25 8.25 0 0 0-4.135 15.39c.686.398 1.115 1.008 1.134 1.623a.75.75 0 0 0 .577.706c.352.083.71.148 1.074.195.323.041.6-.218.6-.544v-4.661a6.714 6.714 0 0 1-.937-.171.75.75 0 1 1 .374-1.453 5.261 5.261 0 0 0 2.626 0 .75.75 0 1 1 .374 1.452 6.712 6.712 0 0 1-.937.172v4.66c0 .327.277.586.6.545.364-.047.722-.112 1.074-.195a.75.75 0 0 0 .577-.706c.02-.615.448-1.225 1.134-1.623A8.25 8.25 0 0 0 12 .75Z"],["fill-rule","evenodd","d","M9.013 19.9a.75.75 0 0 1 .877-.597 11.319 11.319 0 0 0 4.22 0 .75.75 0 1 1 .28 1.473 12.819 12.819 0 0 1-4.78 0 .75.75 0 0 1-.597-.876ZM9.754 22.344a.75.75 0 0 1 .824-.668 13.682 13.682 0 0 0 2.844 0 .75.75 0 1 1 .156 1.492 15.156 15.156 0 0 1-3.156 0 .75.75 0 0 1-.668-.824Z","clip-rule","evenodd"],[1,"font-bold","bg-clip-text","text-transparent","bg-white"],["id","content",1,"z-10"],[1,"list-none","flex","flex-col","tip-slider"],[3,"opacity","hidden",4,"ngFor","ngForOf"],[1,"absolute","inset-0","z-0","-top-6"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink",0,"xmlns","svgjs","http://svgjs.dev/svgjs","viewBox","0 0 1422 800","opacity","0.55"],["stroke-width","1","stroke","#2563eb","fill","none","stroke-linecap","round"],["d","M 0 1170 Q 355.5 100 711 400 Q 1066.5 700 1422 1170","opacity","0.05"],["d","M 0 1125 Q 355.5 100 711 400 Q 1066.5 700 1422 1125","opacity","0.09"],["d","M 0 1080 Q 355.5 100 711 400 Q 1066.5 700 1422 1080","opacity","0.13"],["d","M 0 1035 Q 355.5 100 711 400 Q 1066.5 700 1422 1035","opacity","0.16"],["d","M 0 990 Q 355.5 100 711 400 Q 1066.5 700 1422 990","opacity","0.20"],["d","M 0 945 Q 355.5 100 711 400 Q 1066.5 700 1422 945","opacity","0.24"],["d","M 0 900 Q 355.5 100 711 400 Q 1066.5 700 1422 900","opacity","0.28"],["d","M 0 855 Q 355.5 100 711 400 Q 1066.5 700 1422 855","opacity","0.32"],["d","M 0 810 Q 355.5 100 711 400 Q 1066.5 700 1422 810","opacity","0.35"],["d","M 0 765 Q 355.5 100 711 400 Q 1066.5 700 1422 765","opacity","0.39"],["d","M 0 720 Q 355.5 100 711 400 Q 1066.5 700 1422 720","opacity","0.43"],["d","M 0 675 Q 355.5 100 711 400 Q 1066.5 700 1422 675","opacity","0.47"],["d","M 0 630 Q 355.5 100 711 400 Q 1066.5 700 1422 630","opacity","0.51"],["d","M 0 585 Q 355.5 100 711 400 Q 1066.5 700 1422 585","opacity","0.54"],["d","M 0 540 Q 355.5 100 711 400 Q 1066.5 700 1422 540","opacity","0.58"],["d","M 0 495 Q 355.5 100 711 400 Q 1066.5 700 1422 495","opacity","0.62"],["d","M 0 450 Q 355.5 100 711 400 Q 1066.5 700 1422 450","opacity","0.66"],["d","M 0 405 Q 355.5 100 711 400 Q 1066.5 700 1422 405","opacity","0.70"],["d","M 0 360 Q 355.5 100 711 400 Q 1066.5 700 1422 360","opacity","0.73"],["d","M 0 315 Q 355.5 100 711 400 Q 1066.5 700 1422 315","opacity","0.77"],["d","M 0 270 Q 355.5 100 711 400 Q 1066.5 700 1422 270","opacity","0.81"],["d","M 0 225 Q 355.5 100 711 400 Q 1066.5 700 1422 225","opacity","0.85"],["d","M 0 180 Q 355.5 100 711 400 Q 1066.5 700 1422 180","opacity","0.89"],["d","M 0 135 Q 355.5 100 711 400 Q 1066.5 700 1422 135","opacity","0.92"],["d","M 0 90 Q 355.5 100 711 400 Q 1066.5 700 1422 90","opacity","0.96"],[1,"grid","grid-cols-4","gap-10","mb-10"],[1,"col-span-4","lg:col-span-3","w-full","bg-gray-800/30","rounded-3xl","p-5","md:p-10","flex-grow"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","mb-10"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white","mb-2"],[1,"text-sm","font-medium","bg-clip-text","text-transparent","bg-gray-400"],[1,"w-full","mt-5","md:mt-0","md:w-fit"],[1,"cursor-pointer","btn","btn-full","btn-primary",3,"click"],[1,"btn-text"],[1,"flex","flex-col","gap-4","md:gap-6","mb-6","md:mb-10"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","justify-between","gap-4"],[1,"w-full","md:w-auto","flex","justify-between","xl:justify-start","bg-gray-800/30p-1.5","rounded-xl","bg-gray-900"],[3,"class","click",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-3","w-full","md:w-auto"],[1,"relative","flex-1","md:flex-none"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none","z-10"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"],["type","text","placeholder","Search contracts...",1,"w-full","md:w-64","bg-gray-800/30text-gray-300","text-sm","rounded-xl","bg-gray-900","pl-10","pr-4","py-2.5","focus:outline-none","focus:ring-2","focus:ring-blue-500/50","transition-all","duration-300",3,"ngModelChange","ngModel"],[1,"flex","gap-3"],[1,"p-2.5","rounded-xl","bg-gray-800/30","hover:bg-gray-700/50","transition-all","duration-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-5"],["class","group relative bg-gray-800/30 rounded-3xl overflow-hidden",4,"ngFor","ngForOf"],[1,"col-span-4","lg:col-span-1","w-full","bg-gray-800/30","rounded-3xl","p-10","flex-grow"],[1,"mb-8"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white","mb-5"],[1,"space-y-4"],["class","flex items-center gap-3 p-3 rounded-xl bg-gray-800/30",4,"ngFor","ngForOf"],[1,"font-bold","text-xl","bg-clip-text","text-transparent","bg-white","mb-4"],[1,"space-y-6"],[1,"relative","p-5","bg-gray-800/30","rounded-2xl","backdrop-blur-xl"],[1,"flex","items-center","justify-between","mb-3"],[1,"flex","items-center","gap-3"],[1,"p-2","rounded-lg","bg-blue-500/10"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"size-5","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-medium","text-gray-300"],[1,"text-2xl","font-bold","text-white"],[1,"relative","h-2","bg-gray-700/50","rounded-full","overflow-hidden"],[1,"absolute","top-0","left-0","h-full","bg-gradient-to-r","from-blue-500","to-blue-400","rounded-full","transition-all","duration-500"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/10","to-transparent"],[1,"flex","justify-between","mt-2"],[1,"text-xs"],[1,"text-xs","text-blue-400"],[1,"space-y-3"],["class","p-4 rounded-xl bg-gray-800/30",4,"ngFor","ngForOf"],[1,"bg-clip-text","text-transparent","bg-white","font-semibold","text-3xl"],[3,"click"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-caption","whitespace-nowrap"],[1,"flex","items-center","justify-center","text-xs","px-2","py-0.5","rounded-full","bg-gray-900/50"],[1,"group","relative","bg-gray-800/30","rounded-3xl","overflow-hidden"],[1,"p-5"],[1,"flex","items-center","gap-5","mb-5"],[1,"flex","items-center","gap-2"],[1,"bg-gradient-to-br","from-blue-500","to-blue-600","rounded-xl","size-10","flex","items-center","justify-center",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"],[1,"text-xl","font-bold","bg-clip-text","text-transparent","bg-white"],[1,"absolute","top-4","right-4"],[1,"flex","items-center","gap-2","px-1","md:px-3","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"size-1.5","rounded-full","md:hidden",3,"ngClass"],[1,"hidden","md:inline"],[1,"space-y-2"],[1,"grid","grid-cols-2","gap-5","py-5","border-t","border-gray-800"],[1,"block","bg-clip-text","text-transparent","bg-gray-400","text-xs","mb-1","font-semibold"],[1,"bg-clip-text","text-transparent","bg-white","font-semibold"],[1,"grid","grid-cols-2","gap-4"],[1,"flex","justify-end","gap-2","mt-6"],[1,"p-2","rounded-xl","bg-amber-500/10","text-amber-400","hover:bg-amber-500/20","transition-all","duration-300"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["d","M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"],[1,"p-2","rounded-xl","bg-blue-500/10","text-blue-400","hover:bg-blue-500/20","transition-all","duration-300",3,"click"],["d","M10 12a2 2 0 100-4 2 2 0 000 4z"],["fill-rule","evenodd","d","M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule","evenodd"],[1,"flex","items-center","gap-3","p-3","rounded-xl","bg-gray-800/30"],[1,"bg-green-500/20","p-2","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","text-green-500"],[1,"text-sm","text-transparent","bg-clip-text","bg-white","font-bold"],[1,"text-xs","text-transparent","bg-clip-text","bg-gray-400","font-semibold"],[1,"p-4","rounded-xl","bg-gray-800/30"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-white","font-medium"],[1,"text-xs","text-amber-400"],[1,"text-sm","text-gray-400"]],template:function(a,o){a&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),n(4,"Contracts"),i()(),t(5,"div",4)(6,"div",5)(7,"div",6)(8,"h3",7),n(9,"Active Contracts"),i(),t(10,"span",8),n(11),i(),t(12,"p",9),n(13,"5% increase this month"),i()(),t(14,"div",10)(15,"h3",7),n(16,"Contract Value"),i(),t(17,"span",8),n(18),i(),t(19,"p",11),n(20,"Total active value"),i()(),t(21,"div",6)(22,"h3",7),n(23,"Avg. Duration"),i(),t(24,"span",8),n(25),i(),t(26,"p",11),n(27,"months per contract"),i()()(),t(28,"div",12)(29,"div",13)(30,"div",14),m(),t(31,"svg",15),s(32,"path",16)(33,"path",17),i()(),v(),t(34,"h3",18),n(35,"Contract Tips"),i()(),t(36,"div",19)(37,"ul",20),g(38,cn,3,5,"li",21),i()(),t(39,"div",22),m(),t(40,"svg",23)(41,"g",24),s(42,"path",25)(43,"path",26)(44,"path",27)(45,"path",28)(46,"path",29)(47,"path",30)(48,"path",31)(49,"path",32)(50,"path",33)(51,"path",34)(52,"path",35)(53,"path",36)(54,"path",37)(55,"path",38)(56,"path",39)(57,"path",40)(58,"path",41)(59,"path",42)(60,"path",43)(61,"path",44)(62,"path",45)(63,"path",46)(64,"path",47)(65,"path",48)(66,"path",49),i()()()()(),v(),t(67,"div",50)(68,"div",51)(69,"div",52)(70,"div")(71,"h3",53),n(72,"Explore Your Contract Portfolio"),i(),t(73,"h4",54),n(74,"Find and manage your contracts efficiently."),i()(),t(75,"div",55)(76,"a",56),h("click",function(){return o.navigateToAddContract()}),t(77,"span",57),n(78,"Add Contract"),i()()()(),t(79,"div",58)(80,"div",59)(81,"div",60),g(82,pn,6,4,"button",61),i(),t(83,"div",62)(84,"div",63)(85,"div",64),m(),t(86,"svg",65),s(87,"path",66),i()(),v(),t(88,"input",67),gt("ngModelChange",function(y){return ut(o.searchTerm,y)||(o.searchTerm=y),y}),h("ngModelChange",function(){return o.applyFilters()}),i()(),t(89,"div",68)(90,"button",69),m(),t(91,"svg",70),s(92,"path",71),i()(),v(),t(93,"button",69),m(),t(94,"svg",70),s(95,"path",72),i()()()()()(),v(),t(96,"div",73),g(97,mn,48,26,"div",74),i()(),t(98,"div",75)(99,"div",76)(100,"h3",77),n(101,"Recent Activity"),i(),t(102,"div",78),g(103,un,10,4,"div",79),i()(),t(104,"div",76)(105,"h3",80),n(106,"Statistics"),i(),t(107,"div",81)(108,"div",82)(109,"div",83)(110,"div",84)(111,"div",85),m(),t(112,"svg",86),s(113,"path",87),i()(),v(),t(114,"span",88),n(115,"Completion Rate"),i()(),t(116,"span",89),n(117),C(118,"number"),i()(),t(119,"div",90)(120,"div",91),s(121,"div",92),i()(),t(122,"div",93)(123,"span",94),n(124),i(),t(125,"span",95),n(126),i()()()()(),t(127,"div")(128,"h3",80),n(129,"Upcoming Renewals"),i(),t(130,"div",96),g(131,gn,9,5,"div",97),i()()()()()()),a&2&&(l(11),u(o.countActiveContracts()),l(7),b("$",o.formatNumber(o.contractsValue()),""),l(7),u(o.avgDuration()),l(13),p("ngForOf",o.tips),l(44),p("ngForOf",o.filterOptions),l(6),mt("ngModel",o.searchTerm),l(9),p("ngForOf",o.filteredContracts),l(6),p("ngForOf",o.recentActivities),l(14),b("",I(118,16,o.completionRate,"1.0-0"),"%"),l(3),He("width",o.completionRate+"%"),l(3),ke(o.isTargetReached()?"text-green-400":"text-gray-500"),l(),b(" Target: ",o.targetCompletionRate,"% "),l(2),b(" ",o.calculateTargetProgress()," "),l(5),p("ngForOf",o.upcomingRenewals))},dependencies:[le,D,O,B,Ct,Ne,se,L]})}}return r})();var Me=function(r){return r[r.Rent=0]="Rent",r[r.Sale=1]="Sale",r}(Me||{}),Ye=function(r){return r.Available="Available",r.Sold="Sold",r.Pending="Pending",r.Rented="Rented",r.UnderContract="Under Contract",r.Unavailable="Unavailable",r.Other="Other",r}(Ye||{});var Bt=(()=>{class r{constructor(e){this.http=e,this.apiUrl="https://restcountries.com/v3.1/all"}getCountries(){return this.http.get(this.apiUrl)}static{this.\u0275fac=function(a){return new(a||r)(H(U))}}static{this.\u0275prov=G({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var zt=(()=>{class r{constructor(e){this.httpClient=e,this.apiUrl="https://localhost:7220/api/Category"}retrieveAll(){return this.httpClient.get(`${this.apiUrl}/RetrieveAll`)}retrieve(e){return this.httpClient.get(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(a){return new(a||r)(H(U))}}static{this.\u0275prov=G({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function vn(r,d){if(r&1&&(t(0,"option",53),n(1),i()),r&2){let e=d.$implicit;p("value",e),l(),b(" ",e," ")}}function hn(r,d){if(r&1&&(t(0,"option",53),n(1),i()),r&2){let e=d.$implicit;p("value",e.id),l(),u(e.name)}}function bn(r,d){if(r&1&&(t(0,"option",53),n(1),i()),r&2){let e=d.$implicit;p("value",e.value),l(),u(e.label)}}function yn(r,d){if(r&1&&(t(0,"option",53),n(1),i()),r&2){let e=d.$implicit;p("value",e),l(),u(e)}}function wn(r,d){if(r&1&&(t(0,"option",53),n(1),i()),r&2){let e=d.$implicit;p("value",e),l(),b(" ",e," ")}}function Sn(r,d){if(r&1){let e=E();t(0,"li",54)(1,"span"),n(2),i(),t(3,"button",55),h("click",function(){let o=S(e).$implicit,c=x();return _(c.removeAmenity(o))}),m(),t(4,"svg",56),s(5,"path",57),i()()()}if(r&2){let e=d.$implicit;l(2),u(e)}}function _n(r,d){r&1&&(t(0,"div",58)(1,"div",59),m(),t(2,"svg",60),s(3,"path",61),i()(),v(),t(4,"div",62)(5,"div",63)(6,"span",64),n(7,"Success"),i(),t(8,"p",65),n(9,"Redirecting to dashboard..."),i()()()())}function Cn(r,d){r&1&&(t(0,"div",58)(1,"div",66),m(),t(2,"svg",60),s(3,"path",67),i()(),v(),t(4,"div",62)(5,"div",63)(6,"span",68),n(7,"Error"),i(),t(8,"p",65),n(9," There was an error creating the property. "),s(10,"br"),n(11," Please check your input and try again. "),i()()()())}var Rt=(()=>{class r{constructor(e,a,o,c,y){this.fb=e,this.propertyService=a,this.router=o,this.stateService=c,this.categoryService=y,this.propertyTypes=Object.values(Me),this.propertyStatuses=Object.values(Ye),this.selectedAmenities=[],this.availableAmenities=["Swimming Pool","Gym","Playground","Parking","Garden","Elevator","Security System","Concierge Service","Balcony","Terrace","Rooftop Deck","Central Air Conditioning","In-unit Laundry","Walk-in Closet","Fireplace","Hardwood Floors","Stainless Steel Appliances","Granite Countertops","High Ceilings","Pet-friendly","Storage Space","Bike Storage","EV Charging Station","Smart Home Features","Fitness Center","Sauna","Spa","Tennis Court","Basketball Court","Clubhouse","Business Center","Conference Room","Movie Theater","Game Room","Library","Wine Cellar","Outdoor Kitchen","BBQ Area","Fire Pit","Jogging Trail","Dog Park","Playroom","On-site Maintenance","24/7 Security","Gated Community","Waterfront View","Mountain View","City View"],this.loggedUserId="",this.selectedFiles=[],this.imageMetadatas=[],this.countries=[],this.states=[],this.categories=[],this.addpropertySuccess=!1,this.addpropertyFailure=!1,this.propertyTypeOptions=[{label:"Rent",value:Me.Rent},{label:"Sale",value:Me.Sale}]}ngOnInit(){this.getLoggedUserId(),this.initForm(),this.loadCountries(),this.loadCategories()}getLoggedUserId(){let e=sessionStorage.getItem("loggedUser");if(e){let a=JSON.parse(e);this.loggedUserId=a.userId}}loadCountries(){this.stateService.getCountries().subscribe(e=>{this.countries=e.map(a=>a.name.common).sort(),console.log("Countries loaded:",this.countries)},e=>{console.error("Error loading countries:",e)})}loadCategories(){this.categoryService.retrieveAll().subscribe({next:e=>{this.categories=e.categories,console.log("Categories loaded:",this.categories)},error:e=>{console.error("Error loading categories:",e)}})}initForm(){this.propertyForm=this.fb.group({title:["",w.required],description:["",w.required],street:["",w.required],city:["",w.required],state:["",w.required],postalCode:["",w.required],country:["",w.required],type:["",w.required],size:[null,[w.required,w.min(0)]],bedrooms:[null,[w.required,w.min(0)]],bathrooms:[null,[w.required,w.min(0)]],price:[null,[w.required,w.min(0)]],status:["",w.required],realtorId:[this.loggedUserId,w.required],amenities:this.fb.array([],w.required),images:[[],w.required],categoryId:["",w.required],isActive:!0})}onSubmit(){if(this.propertyForm.valid){let e={title:this.propertyForm.get("title")?.value,description:this.propertyForm.get("description")?.value,street:this.propertyForm.get("street")?.value,city:this.propertyForm.get("city")?.value,state:this.propertyForm.get("state")?.value,postalCode:this.propertyForm.get("postalCode")?.value,country:this.propertyForm.get("country")?.value,reference:this.propertyForm.get("reference")?.value||"N/A",realtorId:this.loggedUserId,type:this.propertyForm.get("type")?.value,size:this.propertyForm.get("size")?.value,bedrooms:this.propertyForm.get("bedrooms")?.value,bathrooms:this.propertyForm.get("bathrooms")?.value,price:this.propertyForm.get("price")?.value,amenities:this.selectedAmenities.join(", "),status:this.propertyForm.get("status")?.value,images:this.imageMetadatas.filter(a=>a.file instanceof File),categoryId:this.propertyForm.get("categoryId")?.value,isActive:!0};console.log("Property data before submission:",e),this.propertyService.createProperty(e).subscribe({next:a=>{console.log("Success!",a),this.addpropertySuccess=!0,setTimeout(()=>{this.router.navigateByUrl("back-office/dashboard")},2e3)},error:a=>{console.error("There was an error!",a),this.addpropertyFailure=!0}})}else console.log("Form is invalid",this.propertyForm.errors),this.propertyForm.markAllAsTouched(),alert("Please fill in all required fields.")}onFileSelected(e){let o=e.target.files;if(o&&o.length>0){this.selectedFiles=[...this.selectedFiles,...Array.from(o)],this.imageMetadatas=this.selectedFiles.map(y=>({id:"",propertyId:"",fileName:y.name,file:y})),console.log("Image metadatas:",this.imageMetadatas),this.propertyForm.patchValue({images:this.imageMetadatas}),this.propertyForm.get("images")?.updateValueAndValidity();let c=document.getElementById("uploadedImages");c&&(c.innerHTML="",this.selectedFiles.forEach(y=>{let A=new FileReader;A.onload=ae=>{let ee=document.createElement("img");ee.src=ae.target.result,ee.alt=y.name,ee.classList.add("w-32","h-32","object-cover","rounded-lg","mr-2","mb-2"),c.appendChild(ee)},A.readAsDataURL(y)}))}else console.log("No files selected")}get amenities(){return this.propertyForm.get("amenities")}addAmenity(e){let a=e.target,o=a.value;o&&!this.selectedAmenities.includes(o)&&(this.selectedAmenities.push(o),this.amenities.push(this.fb.control(o))),a.value=""}removeAmenity(e){let a=this.selectedAmenities.indexOf(e);a>-1&&(this.selectedAmenities.splice(a,1),this.amenities.removeAt(a))}static{this.\u0275fac=function(a){return new(a||r)(f(Y),f(xe),f(M),f(Bt),f(zt))}}static{this.\u0275cmp=k({type:r,selectors:[["app-add-property"]],decls:115,vars:9,consts:[[1,"flex","flex-col","font-inter","xl:ml-64","px-10","my-20","md:mt-0"],[1,"mb-10"],[1,"bg-clip-text","text-transparent","text-xs","font-semibold","bg-gray-400","mb-2"],[1,"flex","gap-2","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"space-y-5"],[1,"mb-3","block","text-sm","font-semibold","text-transparent","bg-clip-text","bg-gray-600"],["type","text","formControlName","title","placeholder","Enter property title",1,"font-bold","w-full","text-white","placeholder:text-gray-400","bg-transparent","text-4xl","ring-0","focus:ring-0","focus:outline-none"],[1,"space-y-3"],["formControlName","description","rows","4","placeholder","Describe your property",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-5"],["type","number","formControlName","size",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["type","number","formControlName","bedrooms",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["type","number","formControlName","bathrooms",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],[1,"md:col-span-2"],["type","text","formControlName","street",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],[1,"md:col-span-1"],["type","number","formControlName","postalCode",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["type","text","formControlName","city",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["type","text","formControlName","state",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],[1,"relative"],["formControlName","country","id","country",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["value","",1,"bg-gray-800"],["class","bg-gray-800",3,"value",4,"ngFor","ngForOf"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","px-2","text-gray-700"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"h-4","w-4","fill-current"],["d","M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"],["formControlName","categoryId",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["formControlName","type",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["formControlName","status",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],[1,"block","text-sm","font-semibold","text-transparent","bg-clip-text","bg-gray-600"],["formArrayName","amenities"],[1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm",3,"change"],[1,"flex","flex-wrap","gap-2","mt-3"],["class","flex items-center gap-2 pl-4 pr-1.5 py-1.5 rounded-full bg-blue-500/20 text-blue-400 text-sm font-medium",4,"ngFor","ngForOf"],["type","number","formControlName","price","placeholder","$0.00",1,"font-bold","w-full","text-white","placeholder:text-gray-400","bg-transparent","text-7xl","ring-0","focus:ring-0","focus:outline-none","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none","[-moz-appearance:textfield]"],[1,"mt-2","flex","flex-col","items-center","justify-center","rounded-xl","border","border-dashed","border-gray-700/30","bg-gray-800/30","px-6","py-10"],[1,"text-center"],["viewBox","0 0 24 24","fill","currentColor","aria-hidden","true",1,"mx-auto","h-12","w-12","text-gray-300"],["fill-rule","evenodd","d","M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule","evenodd"],[1,"mt-4","flex","items-center","justify-center","text-sm","leading-6","text-gray-400"],["for","upload",1,"relative","cursor-pointer","rounded-md","bg-gray-800/50","px-4","py-2","font-semibold","text-blue-500","hover:text-blue-400","focus-within:outline-none","focus-within:ring-2","focus-within:ring-blue-500","focus-within:ring-offset-2"],["id","upload","type","file","multiple","","accept",".jpg,.jpeg,.png",1,"sr-only",3,"change"],[1,"pl-2"],[1,"mt-2","text-xs","leading-5","text-gray-400"],["id","uploadedImages",1,"grid","grid-cols-4","gap-4","mt-4"],["type","submit",1,"w-full","bg-blue-500","rounded-xl","py-4","px-4","flex","items-center","justify-center"],[1,"bg-clip-text","text-transparent","text-sm","font-semibold","bg-white"],[1,"text-center","bg-clip-text","text-transparent","text-xs","font-semibold","bg-gray-500"],["class","absolute flex w-full max-w-sm overflow-hidden bg-slate-800 rounded-xl shadow-md bottom-5 right-5",4,"ngIf"],[1,"bg-gray-800",3,"value"],[1,"flex","items-center","gap-2","pl-4","pr-1.5","py-1.5","rounded-full","bg-blue-500/20","text-blue-400","text-sm","font-medium"],["type","button",1,"rounded-full","p-1","hover:bg-blue-500/30","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"size-4"],["d","M5.28 4.22a.75.75 0 0 0-1.06 1.06L6.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L8 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L9.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L8 6.94 5.28 4.22Z"],[1,"absolute","flex","w-full","max-w-sm","overflow-hidden","bg-slate-800","rounded-xl","shadow-md","bottom-5","right-5"],[1,"flex","items-center","justify-center","bg-emerald-500","w-14"],["viewBox","0 0 40 40","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6","text-white","fill-current"],["d","M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"],[1,"px-4","py-2","-mx-3"],[1,"mx-3"],[1,"font-semibold","text-emerald-500"],[1,"text-sm","text-slate-300"],[1,"flex","items-center","justify-center","w-14","bg-red-500"],["d","M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z"],[1,"font-semibold","text-red-500"]],template:function(a,o){a&1&&(t(0,"div",0)(1,"div",1)(2,"h4",2),n(3,"Register your property in our platform."),i(),t(4,"div",3),m(),t(5,"svg",4),s(6,"path",5),i(),v(),t(7,"h3",6),n(8,"Property Registration"),i()()(),t(9,"form",7),h("ngSubmit",function(){return o.onSubmit()}),t(10,"div",8)(11,"label",9),n(12,"Property Title"),i(),s(13,"input",10),i(),t(14,"div",11)(15,"label",9),n(16,"Description"),i(),s(17,"textarea",12),i(),t(18,"div",13)(19,"div")(20,"label",9),n(21,"Size (sq ft)"),i(),s(22,"input",14),i(),t(23,"div")(24,"label",9),n(25,"Bedrooms"),i(),s(26,"input",15),i(),t(27,"div")(28,"label",9),n(29,"Bathrooms"),i(),s(30,"input",16),i()(),t(31,"div",13)(32,"div",17)(33,"label",9),n(34,"Street Address"),i(),s(35,"input",18),i(),t(36,"div",19)(37,"label",9),n(38,"Postal Code"),i(),s(39,"input",20),i(),t(40,"div")(41,"label",9),n(42,"City"),i(),s(43,"input",21),i(),t(44,"div")(45,"label",9),n(46,"State"),i(),s(47,"input",22),i(),t(48,"div")(49,"label",9),n(50,"Country"),i(),t(51,"div",23)(52,"select",24)(53,"option",25),n(54,"Select a country"),i(),g(55,vn,2,2,"option",26),i(),t(56,"div",27),m(),t(57,"svg",28),s(58,"path",29),i()()()()(),v(),t(59,"div",13)(60,"div")(61,"label",9),n(62,"Category"),i(),t(63,"select",30),g(64,hn,2,2,"option",26),i()(),t(65,"div")(66,"label",9),n(67,"Type"),i(),t(68,"select",31),g(69,bn,2,2,"option",26),i()(),t(70,"div")(71,"label",9),n(72,"Status"),i(),t(73,"select",32),g(74,yn,2,2,"option",26),i()()(),t(75,"div",11)(76,"label",33),n(77,"Amenities"),i(),t(78,"div",34)(79,"select",35),h("change",function(y){return o.addAmenity(y)}),t(80,"option",25),n(81,"Select an amenity"),i(),g(82,wn,2,2,"option",26),i(),t(83,"ul",36),g(84,Sn,6,1,"li",37),i()()(),t(85,"div")(86,"label",9),n(87,"Price"),i(),s(88,"input",38),i(),t(89,"div",11)(90,"label",33),n(91,"Property Images"),i(),t(92,"div",39)(93,"div",40),m(),t(94,"svg",41),s(95,"path",42),i(),v(),t(96,"div",43)(97,"label",44)(98,"span"),n(99,"Upload files"),i(),t(100,"input",45),h("change",function(y){return o.onFileSelected(y)}),i()(),t(101,"p",46),n(102,"or drag and drop"),i()(),t(103,"p",47),n(104,"PNG, JPG, GIF up to 10MB"),i()()(),s(105,"div",48),i(),t(106,"button",49)(107,"span",50),n(108,"Register Property"),i()(),t(109,"h4",51),n(110," By registering this property, you agree to our terms"),s(111,"br"),n(112," and conditions. "),i()(),g(113,_n,10,0,"div",52)(114,Cn,12,0,"div",52),i()),a&2&&(l(9),p("formGroup",o.propertyForm),l(46),p("ngForOf",o.countries),l(9),p("ngForOf",o.categories),l(5),p("ngForOf",o.propertyTypeOptions),l(5),p("ngForOf",o.propertyStatuses),l(8),p("ngForOf",o.availableAmenities),l(2),p("ngForOf",o.selectedAmenities),l(29),p("ngIf",o.addpropertySuccess),l(),p("ngIf",o.addpropertyFailure))},dependencies:[D,F,Q,re,oe,O,ie,ne,B,q,J,W,Et],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();var Te=function(r){return r.Sale="Sale",r.Rent="Rent",r}(Te||{}),Pe=function(r){return r.Draft="Draft",r.Pending="Pending",r.Active="Active",r.Completed="Completed",r.Terminated="Terminated",r.Expired="Expired",r}(Pe||{});function kn(r,d){if(r&1&&(t(0,"option",53),n(1),i()),r&2){let e=d.$implicit;p("value",e.id),l(),b(" ",e.title," ")}}function In(r,d){if(r&1&&(t(0,"div",54)(1,"div",55),s(2,"img",56),i(),t(3,"div")(4,"h3",57),n(5),i(),t(6,"h5",58),n(7),i()()()),r&2){let e=x();l(2),ct("alt",e.selectedProperty.title),p("src",e.selectedProperty.images==null||e.selectedProperty.images[0]==null?null:e.selectedProperty.images[0].imagePath,P),l(3),u(e.selectedProperty.title),l(2),u(e.selectedProperty.description)}}function Mn(r,d){if(r&1&&(t(0,"span"),n(1),i()),r&2){let e=x();l(),j("",e.selectedUser.firstName," ",e.selectedUser.lastName,"")}}function Tn(r,d){r&1&&(t(0,"span",59),n(1,"Select a Client"),i())}function Pn(r,d){r&1&&(t(0,"li",63),n(1,"Carregando usu\xE1rios..."),i())}function Dn(r,d){if(r&1){let e=E();t(0,"li",64),h("click",function(){let o=S(e).$implicit,c=x(2);return _(c.selectUser(o))}),s(1,"img",65),t(2,"div")(3,"div",66),n(4),i(),t(5,"div",67),n(6),i()()()}if(r&2){let e=d.$implicit;l(),p("src",e.imageUrl,P),l(3),j("",e.firstName," ",e.lastName,""),l(2),u(e.email)}}function Fn(r,d){if(r&1){let e=E();t(0,"ul",60),h("click",function(){S(e);let o=x();return _(o.isOpen=!1)}),g(1,Pn,2,0,"li",61)(2,Dn,7,4,"li",62),i()}if(r&2){let e=x();l(),p("ngIf",!e.users.length),l(),p("ngForOf",e.users)}}function An(r,d){if(r&1&&(t(0,"option",53),n(1),i()),r&2){let e=d.$implicit;p("value",e),l(),b(" ",e," ")}}function Vn(r,d){if(r&1&&(t(0,"label",68),s(1,"input",69),t(2,"div",70)(3,"span",71),n(4),i()()()),r&2){let e=d.$implicit;l(),p("value",e),l(3),u(e)}}function Nn(r,d){if(r&1&&(t(0,"option",53),n(1),i()),r&2){let e=d.$implicit;p("value",e),l(),u(e)}}var Gt=(()=>{class r{constructor(e,a,o,c,y,A){this.fb=e,this.contractService=a,this.propertyService=o,this.router=c,this.zone=y,this.userService=A,this.contractTypes=Object.values(Te),this.contractStatuses=Object.values(Pe),this.properties=[],this.selectedProperty=null,this.errorMessage="",this.loggedUserDetails=null,this.userId="",this.users=[],this.paymentFrequencies=["Monthly","Quarterly","Semi-Annually","Annually","Single Payment"],this.renewalOptions=["Automatic","Manual"],this.isOpen=!1,this.selectedUser=null}ngOnInit(){this.initForm(),this.loadUserData(),this.loadUsers(),this.contractForm.get("propertyId")?.valueChanges.subscribe(e=>{this.selectedProperty=this.properties.find(a=>a.id===e)||null,this.selectedProperty?this.contractForm.patchValue({value:this.selectedProperty.price}):this.contractForm.patchValue({value:null})}),this.propertyService.retrieveAll().subscribe({next:e=>{this.zone.run(()=>{e&&e.properties?(this.properties=e.properties,console.log(this.properties)):(console.error("Resposta inv\xE1lida do servidor"),this.errorMessage="Dados de im\xF3veis inv\xE1lidos")})},error:e=>{console.error("Erro ao buscar im\xF3veis:",e),this.errorMessage="Falha ao carregar im\xF3veis"}})}selectUser(e){this.selectedUser=e,this.contractForm.patchValue({customerId:e.id})}loadUsers(){this.userService.retrieveNonAdmins().subscribe(e=>{console.log("Response from retrieveNonAdmins:",e),e&&e.users&&Array.isArray(e.users)?this.users=e.users:(console.error('Resposta n\xE3o \xE9 um array ou n\xE3o cont\xE9m a propriedade "users":',e),this.users=[])},e=>{console.error("Erro ao carregar usu\xE1rios:",e)})}loadUserData(){let e=sessionStorage.getItem("loggedUser");if(!e){this.router.navigateByUrl("back-office/dashboard");return}let a=JSON.parse(e);this.userId=a.userId,this.userService.retrieve(this.userId).subscribe({next:o=>{this.zone.run(()=>{this.loggedUserDetails=o,this.contractForm.patchValue({realtorId:this.userId})})},error:o=>{console.error("Erro ao buscar detalhes do usu\xE1rio:",o),this.errorMessage="Falha ao carregar os detalhes do usu\xE1rio"}})}initForm(){this.contractForm=this.fb.group({propertyId:["",w.required],customerId:["",w.required],realtorId:[this.userId,w.required],startDate:["",w.required],endDate:["",w.required],value:[null,[w.required,w.min(0)]],additionalFees:["",w.required],paymentFrequency:["",w.required],renewalOption:[!1],isActive:[!0],contractType:["",w.required],status:["Pending",w.required],signatureDate:[new Date,w.required],securityDeposit:[""],insuranceDetails:["This insurance policy covers a wide range of potential damages up to a maximum of $50,000. The coverage includes liability protection, which safeguards against claims of injury and property damage caused to others. Additionally, collision coverage is provided to cover damage to the insured vehicle in the event of an accident, regardless of fault. Comprehensive coverage extends to non-collision incidents such as theft, fire, vandalism, or natural disasters. The policy also includes roadside assistance for emergencies like towing or flat tires. Please carefully review the terms and conditions for any specific exclusions, limitations, or additional coverage options that may apply. Regular premium payments are required to keep the policy active.",w.required],notes:["N/A",w.required]})}onStartDateChange(e){let a=this.validateDateEvent(e);this.contractForm.patchValue({startDate:a})}onEndDateChange(e){let a=this.validateDateEvent(e);this.contractForm.patchValue({endDate:a})}validateDateEvent(e){return e instanceof Date?e:(console.error("Received invalid date event:",e),new Date)}onSubmit(){if(console.log(this.contractForm.value),this.contractForm.valid){let e=this.contractForm.value,a={propertyId:e.propertyId,customerId:e.customerId,realtorId:e.realtorId,startDate:new Date(e.startDate),endDate:new Date(e.endDate),value:Number(e.value),additionalFees:Number(e.additionalFees),paymentFrequency:e.paymentFrequency,renewalOption:!!e.renewalOption,isActive:!!e.isActive,contractType:e.contractType,status:e.status,signatureDate:new Date(e.signatureDate),securityDeposit:e.securityDeposit?Number(e.securityDeposit):null,insuranceDetails:e.insuranceDetails,notes:e.notes};console.log("Contract data being sent:",a),this.contractService.createContract(a).subscribe(o=>{console.log("Contrato criado com sucesso",o),this.router.navigateByUrl("back-office/dashboard/contracts")},o=>{console.error("Erro ao criar contrato",o),o.error&&o.error.errors?this.errorMessage=Object.entries(o.error.errors).map(([c,y])=>`${c}: ${y}`).join(", "):this.errorMessage="Erro ao criar o contrato. Tente novamente."})}else this.errorMessage="Por favor, preencha todos os campos obrigat\xF3rios corretamente.",console.log("Form invalid",this.contractForm)}static{this.\u0275fac=function(a){return new(a||r)(f(Y),f(ce),f(xe),f(M),f(N),f(Z))}}static{this.\u0275cmp=k({type:r,selectors:[["app-add-contract"]],decls:89,vars:13,consts:[[1,"flex","flex-col","font-inter","lg:ml-64","lg:px-10"],[1,"flex","flex-1","flex-col","p-5","mt-10","md:mt-0"],[1,"grid","grid-cols-4","gap-5","lg:p-10"],[1,"col-span-4","lg:col-span-3"],[1,"w-full","bg-gray-800/30","rounded-3xl","overflow-hidden"],[1,"w-full","mb-0","lg:mb-10","bg-gray-900","p-5","lg:p-10"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white","pb-2"],[1,"text-body"],[1,"p-5","lg:p-10",3,"ngSubmit","formGroup"],[1,"mb-5"],["for","propertyId",1,"block","text-caption","bg-gray-500","mb-2"],["id","propertyId","formControlName","propertyId",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["value","","disabled","","selected","",1,"bg-gray-800","text-gray-600","font-medium"],["class","bg-gray-800",3,"value",4,"ngFor","ngForOf"],["class","mt-4 gap-5 flex items-start",4,"ngIf"],["for","customerId",1,"block","text-caption","bg-gray-500","mb-2"],[1,"relative"],[1,"flex","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm","justify-between","items-center",3,"click"],[4,"ngIf"],["class","text-gray-300 self-start",4,"ngIf"],["class","absolute z-10 mt-1 w-full bg-gray-800 border border-gray-700 rounded-md shadow-lg",3,"click",4,"ngIf"],[1,"flex","gap-5","mb-5","items-stretch","w-full"],[1,"flex-1"],["formControlName","startDate","label","Start Date",3,"dateChange"],["formControlName","endDate","label","End Date",3,"dateChange"],[1,"flex","flex-col","md:flex-row","gap-5","mb-5","items-stretch","w-full"],["for","value",1,"block","text-caption","bg-gray-500","mb-2"],["id","value","type","number","formControlName","value","min","0",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["for","additionalFees",1,"block","text-caption","bg-gray-500","mb-2"],["id","additionalFees","type","number","formControlName","additionalFees",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["for","paymentFrequency",1,"block","text-caption","bg-gray-500","mb-2"],["id","paymentFrequency","formControlName","paymentFrequency",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["for","contractType",1,"block","text-caption","bg-gray-500","mb-2"],[1,"grid","grid-cols-2","gap-5"],["class","flex items-center",4,"ngFor","ngForOf"],["for","renewalOption",1,"block","text-caption","bg-gray-500","mb-2"],["id","renewalOption","formControlName","renewalOption",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],[1,"bg-gray-800",3,"ngValue"],["for","status",1,"block","text-caption","bg-gray-500","mb-2"],["formControlName","status","id","status",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["value","",1,"bg-gray-800","text-gray-600"],["formControlName","signatureDate","label","Signature Date"],["for","securityDeposit",1,"block","text-caption","bg-gray-500","mb-2"],["id","securityDeposit","type","number","formControlName","securityDeposit",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["for","insuranceDetails",1,"block","text-caption","bg-gray-500","mb-2"],["id","insuranceDetails","rows","5","formControlName","insuranceDetails",1,"custom-scrollbar","block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["for","notes",1,"block","text-caption","bg-gray-500","mb-2"],["id","notes","formControlName","notes",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],[1,"mt-6"],["type","submit",1,"mt-5","cursor-pointer","btn","btn-full","btn-primary"],[1,"btn-text"],[1,"col-span-1"],[1,"backdrop-supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-5","lg:p-10","flex","items-center","flex-col"],[1,"bg-gray-800",3,"value"],[1,"mt-4","gap-5","flex","items-start"],[1,"w-20","h-20","flex-shrink-0","rounded-xl","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"text-lg","font-bold","bg-clip-text","text-transparent","bg-white"],[1,"text-body","bg-gray-400","line-clamp-2"],[1,"text-gray-300","self-start"],[1,"absolute","z-10","mt-1","w-full","bg-gray-800","border","border-gray-700","rounded-md","shadow-lg",3,"click"],["class","px-4 py-2 text-gray-500",4,"ngIf"],["class","flex items-center px-4 py-2 hover:bg-gray-700 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-4","py-2","text-gray-500"],[1,"flex","items-center","px-4","py-2","hover:bg-gray-700","cursor-pointer",3,"click"],["alt","Avatar",1,"w-8","h-8","rounded-full","mr-3",3,"src"],[1,"font-semibold","text-sm","bg-clip-text","text-transparent","bg-white"],[1,"font-medium","text-xs","bg-clip-text","text-transparent","bg-gray-400"],[1,"flex","items-center"],["type","radio","formControlName","contractType",1,"sr-only","peer",3,"value"],[1,"flex","items-center","justify-center","w-full","h-24","rounded-xl","cursor-pointer","text-gray-700","bg-transparent","border-2","border-dashed","border-gray-700","peer-checked:bg-blue-600","peer-checked:text-white","peer-checked:border-blue-600","transition","duration-200"],[1,"font-semibold","text-base","bg-clip-text","text-transparent","bg-white"]],template:function(a,o){if(a&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),n(7,"Add Contract"),i(),t(8,"p",7),n(9," As a Realtor, you have the authority to add a new contract. Please complete the form below with all the necessary information. Ensure that all details are accurate to facilitate a smooth processing of the contract. If you require assistance, feel free to contact support. "),i()(),t(10,"form",8),h("ngSubmit",function(){return o.onSubmit()}),t(11,"div",9)(12,"label",10),n(13,"Property"),i(),t(14,"select",11)(15,"option",12),n(16,"Select a property"),i(),g(17,kn,2,2,"option",13),i(),g(18,In,8,4,"div",14),i(),t(19,"div",9)(20,"label",15),n(21,"Client"),i(),t(22,"div",16)(23,"button",17),h("click",function(){return o.isOpen=!o.isOpen}),g(24,Mn,2,2,"span",18)(25,Tn,2,0,"span",19),i(),g(26,Fn,3,2,"ul",20),i()(),t(27,"div",21)(28,"div",22)(29,"app-datepicker",23),h("dateChange",function(y){return o.onStartDateChange(y)}),i()(),t(30,"div",22)(31,"app-datepicker",24),h("dateChange",function(y){return o.onEndDateChange(y)}),i()()(),t(32,"div",25)(33,"div",22)(34,"label",26),n(35,"Property Price"),i(),s(36,"input",27),i(),t(37,"div",22)(38,"label",28),n(39,"Additional Fees"),i(),s(40,"input",29),i(),t(41,"div",22)(42,"label",30),n(43,"Payment Frequency"),i(),t(44,"select",31)(45,"option",12),n(46,"Select a frequency"),i(),g(47,An,2,2,"option",13),i()()(),t(48,"div",9)(49,"label",32),n(50,"Contract Type:"),i(),t(51,"div",33),g(52,Vn,5,2,"label",34),i()(),t(53,"div",25)(54,"div",22)(55,"label",35),n(56,"Renewal Option"),i(),t(57,"select",36)(58,"option",37),n(59,"Automatic"),i(),t(60,"option",37),n(61,"Manual"),i()()(),t(62,"div",22)(63,"label",38),n(64,"Status:"),i(),t(65,"select",39)(66,"option",40),n(67,"Select status"),i(),g(68,Nn,2,2,"option",13),i()(),t(69,"div",22),s(70,"app-datepicker",41),i(),t(71,"div",22)(72,"label",42),n(73,"Security Deposit:"),i(),s(74,"input",43),i()(),t(75,"div",9)(76,"label",44),n(77,"Insurance Details:"),i(),s(78,"textarea",45),i(),t(79,"div",9)(80,"label",46),n(81,"Notes:"),i(),s(82,"textarea",47),i(),t(83,"div",48)(84,"button",49)(85,"span",50),n(86,"Create Contract"),i()()()()()(),t(87,"div",51),s(88,"div",52),i()()()()),a&2){let c;l(10),p("formGroup",o.contractForm),l(4),pe("border-red-500",((c=o.contractForm.get("propertyId"))==null?null:c.invalid)&&((c=o.contractForm.get("propertyId"))==null?null:c.touched)),l(3),p("ngForOf",o.properties),l(),p("ngIf",o.selectedProperty),l(6),p("ngIf",o.selectedUser),l(),p("ngIf",!o.selectedUser),l(),p("ngIf",o.isOpen),l(21),p("ngForOf",o.paymentFrequencies),l(5),p("ngForOf",o.contractTypes),l(6),p("ngValue",!0),l(2),p("ngValue",!1),l(8),p("ngForOf",o.contractStatuses)}},dependencies:[D,F,Q,re,oe,O,ie,ne,je,B,q,Le,J,W,Oe],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();var Ee=(()=>{class r{constructor(e){this.http=e,this.apiUrl="https://localhost:7220/api/Transaction"}createTransaction(e){return this.http.post(`${this.apiUrl}/Register`,e)}getTransactionsByUser(e){return this.http.get(`${this.apiUrl}/user/${e}`)}getTransactions(){return this.http.get(`${this.apiUrl}`)}processPayment(e){return this.http.put(`${this.apiUrl}/${e.transactionId}/process`,{paymentMethod:e.paymentMethod,status:"Completed"})}static{this.\u0275fac=function(a){return new(a||r)(H(U))}}static{this.\u0275prov=G({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Re=(()=>{class r{constructor(e){this.http=e,this.apiUrl="https://localhost:7220/api/Invoice"}getInvoice(e){return this.http.get(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(a){return new(a||r)(H(U))}}static{this.\u0275prov=G({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function jn(r,d){if(r&1&&(t(0,"option",27),n(1),i()),r&2){let e=d.$implicit;p("value",e.id),l(),u(e.propertyTitle)}}function Ln(r,d){if(r&1&&(t(0,"option",27),n(1),i()),r&2){let e=d.$implicit;p("value",e.id),l(),u(e.name)}}function Un(r,d){r&1&&(t(0,"div",28)(1,"div",29),m(),t(2,"svg",30),s(3,"path",31),i()(),v(),t(4,"div",32)(5,"div",33)(6,"span",34),n(7,"Success"),i(),t(8,"p",35),n(9,"Redirecting to your transactions..."),i()()()())}function On(r,d){r&1&&(t(0,"div",28)(1,"div",36),m(),t(2,"svg",30),s(3,"path",37),i()(),v(),t(4,"div",32)(5,"div",33)(6,"span",38),n(7,"Error"),i(),t(8,"p",35),n(9," There was an error creating the property. "),s(10,"br"),n(11," Please check your input and try again. "),i()()()())}var $t=(()=>{class r{constructor(e,a,o,c,y){this.fb=e,this.contractService=a,this.transactionService=o,this.authService=c,this.zone=y,this.closeModal=new ye,this.contracts=[],this.selectedContract=null,this.errorMessage="",this.paymentMethods=[{id:"credit_card",name:"Credit Card"},{id:"debit_card",name:"Debit Card"},{id:"bank_transfer",name:"Bank Transfer"},{id:"paypal",name:"PayPal"}],this.transactionSuccess=!1,this.transactionFailure=!1,this.transactionForm=this.fb.group({contractId:["",w.required],amount:[[w.required,w.min(0)]],description:[""],paymentMethod:["",w.required]})}ngOnInit(){this.loadContracts(),this.transactionForm.get("contractId")?.valueChanges.subscribe(e=>{this.contracts&&(this.selectedContract=this.contracts.find(a=>a.id===e)||null,this.selectedContract?this.transactionForm.patchValue({amount:this.selectedContract.value}):this.transactionForm.patchValue({amount:null}))})}loadContracts(){this.contractService.retrieveAll().subscribe({next:e=>{this.zone.run(()=>{e&&e.contracts?(this.contracts=e.contracts,console.log(this.contracts)):(console.error("Resposta inv\xE1lida do servidor"),this.errorMessage="Formato inesperado dos dados de contratos.")})},error:e=>{console.error("Erro ao buscar contratos:",e),this.errorMessage="Falha ao carregar a lista de contratos."}})}onSubmit(){if(this.transactionForm.valid){let e=this.transactionForm.value,a=this.authService.getLoggedUser().userId,o=De(ve({},e),{userId:a});console.log(a),console.log(o),console.log(e),this.transactionService.createTransaction(o).subscribe({next:c=>{console.log("Transaction created successfully:",c),this.transactionSuccess=!0,setTimeout(()=>{this.closeModal.emit()},2e3)},error:c=>{console.error("Error creating transaction:",c),this.errorMessage="Failed to create transaction. Please try again.",this.transactionFailure=!0}})}else console.log("Form is not valid"),this.errorMessage="Please fill all required fields correctly."}static{this.\u0275fac=function(a){return new(a||r)(f(Y),f(ce),f(Ee),f(de),f(N))}}static{this.\u0275cmp=k({type:r,selectors:[["app-add-transaction"]],outputs:{closeModal:"closeModal"},decls:42,vars:5,consts:[[1,"flex","flex-col","font-inter","max-w-xl"],[1,"bg-clip-text","text-transparent","text-xs","font-bold","bg-gray-300","mb-2"],[1,"flex","gap-2","items-center","mb-10"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"size-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white"],[1,"gap-10","flex","w-full","items-center","flex-col","justify-center",3,"ngSubmit","formGroup"],["id","inputs",1,"mb-5"],["id","amount",1,"mb-5"],["for","value",1,"mb-3","block","text-sm","font-bold","text-transparent","bg-clip-text","bg-gray-600"],["type","number","id","amount","formControlName","amount","placeholder","$0.00","required","",1,"font-bold","w-full","text-white","placeholder:text-gray-400","bg-transparent","text-7xl","ring-0","focus:ring-0","focus:outline-none","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none","[-moz-appearance:textfield]"],[1,"mb-5","flex","gap-5"],["id","contract",1,"w-full"],["for","contract",1,"mb-3","block","text-sm","font-bold","text-transparent","bg-clip-text","bg-gray-600"],["id","contract","formControlName","contractId","required","",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["value","","disabled","","selected","",1,"bg-gray-800"],["class","bg-gray-800",3,"value",4,"ngFor","ngForOf"],["id","paymentMethod",1,"w-full"],["for","paymentMethod",1,"mb-3","block","text-sm","font-bold","text-transparent","bg-clip-text","bg-gray-600"],["id","paymentMethod","formControlName","paymentMethod","required","",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["id","description"],["for","description",1,"mb-3","block","text-sm","font-bold","text-transparent","bg-clip-text","bg-gray-600"],["type","text","id","description","formControlName","description","placeholder","Description",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["type","submit",1,"bg-green-500","rounded-xl","py-4","px-4","flex","w-full","items-center","justify-center"],[1,"bg-clip-text","text-transparent","text-sm","font-bold","bg-white"],[1,"bg-clip-text","text-transparent","text-xs","font-bold","bg-gray-500","mt-2"],["class","absolute flex w-full max-w-sm overflow-hidden bg-slate-800 rounded-xl shadow-md bottom-5 right-5",4,"ngIf"],[1,"bg-gray-800",3,"value"],[1,"absolute","flex","w-full","max-w-sm","overflow-hidden","bg-slate-800","rounded-xl","shadow-md","bottom-5","right-5"],[1,"flex","items-center","justify-center","bg-emerald-500","w-14"],["viewBox","0 0 40 40","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6","text-white","fill-current"],["d","M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"],[1,"px-4","py-2","-mx-3"],[1,"mx-3"],[1,"font-semibold","text-emerald-500"],[1,"text-sm","text-slate-300"],[1,"flex","items-center","justify-center","w-14","bg-red-500"],["d","M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z"],[1,"font-semibold","text-red-500"]],template:function(a,o){a&1&&(t(0,"div",0)(1,"h4",1),n(2,"Add money to pay your invoice."),i(),t(3,"div",2),m(),t(4,"svg",3),s(5,"path",4),i(),v(),t(6,"h3",5),n(7,"Make a Payment"),i()(),t(8,"form",6),h("ngSubmit",function(){return o.onSubmit()}),t(9,"div",7)(10,"div",8)(11,"label",9),n(12,"Amount"),i(),s(13,"input",10),i(),t(14,"div",11)(15,"div",12)(16,"label",13),n(17,"Contract"),i(),t(18,"select",14)(19,"option",15),n(20,"Select a contract"),i(),g(21,jn,2,2,"option",16),i()(),t(22,"div",17)(23,"label",18),n(24,"Payment Method"),i(),t(25,"select",19)(26,"option",15),n(27,"Select a payment method"),i(),g(28,Ln,2,2,"option",16),i()()(),t(29,"div",20)(30,"label",21),n(31,"Description"),i(),s(32,"input",22),i()(),t(33,"button",23)(34,"span",24),n(35,"Continue"),i()(),t(36,"h4",25),n(37," By clicking Continue, I authorize Scale to initiate"),s(38,"br"),n(39," the transaction detailed above. "),i()()(),g(40,Un,10,0,"div",26)(41,On,12,0,"div",26)),a&2&&(l(8),p("formGroup",o.transactionForm),l(13),p("ngForOf",o.contracts),l(7),p("ngForOf",o.paymentMethods),l(12),p("ngIf",o.transactionSuccess),l(),p("ngIf",o.transactionFailure))},dependencies:[D,F,Q,re,oe,O,ie,ne,B,q,Ue,J,W],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();function zn(r,d){if(r&1&&(t(0,"option",23),n(1),i()),r&2){let e=d.$implicit;p("value",e.id),l(),u(e.name)}}function Rn(r,d){r&1&&(t(0,"div",24)(1,"div",25),m(),t(2,"svg",26),s(3,"path",27),i()(),v(),t(4,"div",28)(5,"div",29)(6,"span",30),n(7,"Success"),i(),t(8,"p",31),n(9,"Redirecting to your transactions..."),i()()()())}function Gn(r,d){r&1&&(t(0,"div",24)(1,"div",32),m(),t(2,"svg",26),s(3,"path",33),i()(),v(),t(4,"div",28)(5,"div",29)(6,"span",34),n(7,"Error"),i(),t(8,"p",31),n(9," There was an error creating the property. "),s(10,"br"),n(11," Please check your input and try again. "),i()()()())}var Zt=(()=>{class r{constructor(e,a){this.fb=e,this.transactionService=a,this.closeModal=new ye,this.paymentSuccess=!1,this.paymentFailure=!1,this.errorMessage="",this.paymentMethods=[{id:"credit_card",name:"Credit Card"},{id:"debit_card",name:"Debit Card"},{id:"bank_transfer",name:"Bank Transfer"},{id:"paypal",name:"PayPal"}],this.paymentForm=this.fb.group({paymentMethod:["",w.required],amount:[{value:"",disabled:!0}],description:[{value:"",disabled:!0}]})}ngOnInit(){this.transaction&&this.paymentForm.patchValue({amount:this.transaction.amount,description:this.transaction.description})}processPayment(){if(this.paymentForm.valid){let e={transactionId:this.transaction.id,paymentMethod:this.paymentForm.get("paymentMethod")?.value};this.transactionService.processPayment(e).subscribe({next:a=>{this.paymentSuccess=!0,setTimeout(()=>{this.closeModal.emit()},2e3)},error:a=>{console.error("Payment failed:",a),this.paymentFailure=!0,this.errorMessage="Payment processing failed. Please try again."}})}}static{this.\u0275fac=function(a){return new(a||r)(f(Y),f(Ee))}}static{this.\u0275cmp=k({type:r,selectors:[["app-process-payment"]],inputs:{transaction:"transaction"},outputs:{closeModal:"closeModal"},decls:34,vars:4,consts:[[1,"flex","flex-col","font-inter","max-w-xl"],[1,"bg-clip-text","text-transparent","text-xs","font-bold","bg-gray-300","mb-2"],[1,"flex","gap-2","items-center","mb-10"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"size-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white"],[1,"gap-10","flex","w-full","items-center","flex-col","justify-center",3,"ngSubmit","formGroup"],["id","inputs",1,"w-full"],["id","amount",1,"mb-5"],["for","value",1,"mb-3","block","text-sm","font-bold","text-transparent","bg-clip-text","bg-gray-600"],["type","number","id","amount","formControlName","amount","placeholder","$0.00","required","",1,"font-bold","w-full","text-white","placeholder:text-gray-400","bg-transparent","text-7xl","ring-0","focus:ring-0","focus:outline-none","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none","[-moz-appearance:textfield]"],["id","paymentMethod",1,"w-full"],["for","paymentMethod",1,"mb-3","block","text-sm","font-bold","text-transparent","bg-clip-text","bg-gray-600"],["id","paymentMethod","formControlName","paymentMethod","required","",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["value","","disabled","","selected","",1,"bg-gray-800"],["class","bg-gray-800",3,"value",4,"ngFor","ngForOf"],["id","description",1,"w-full"],["for","description",1,"mb-3","block","text-sm","font-bold","text-transparent","bg-clip-text","bg-gray-600"],["type","text","id","description","formControlName","description","placeholder","Description",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["type","submit",1,"bg-green-500","rounded-xl","py-4","px-4","flex","w-full","items-center","justify-center"],[1,"bg-clip-text","text-transparent","text-sm","font-bold","bg-white"],[1,"bg-clip-text","text-transparent","text-xs","font-bold","bg-gray-500","mt-2"],["class","absolute flex w-full max-w-sm overflow-hidden bg-slate-800 rounded-xl shadow-md bottom-5 right-5",4,"ngIf"],[1,"bg-gray-800",3,"value"],[1,"absolute","flex","w-full","max-w-sm","overflow-hidden","bg-slate-800","rounded-xl","shadow-md","bottom-5","right-5"],[1,"flex","items-center","justify-center","bg-emerald-500","w-14"],["viewBox","0 0 40 40","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6","text-white","fill-current"],["d","M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"],[1,"px-4","py-2","-mx-3"],[1,"mx-3"],[1,"font-semibold","text-emerald-500"],[1,"text-sm","text-slate-300"],[1,"flex","items-center","justify-center","w-14","bg-red-500"],["d","M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z"],[1,"font-semibold","text-red-500"]],template:function(a,o){a&1&&(t(0,"div",0)(1,"h4",1),n(2,"Add money to pay your invoice."),i(),t(3,"div",2),m(),t(4,"svg",3),s(5,"path",4),i(),v(),t(6,"h3",5),n(7,"Make a Payment"),i()(),t(8,"form",6),h("ngSubmit",function(){return o.processPayment()}),t(9,"div",7)(10,"div",8)(11,"label",9),n(12,"Amount"),i(),s(13,"input",10),i(),t(14,"div",11)(15,"label",12),n(16,"Payment Method"),i(),t(17,"select",13)(18,"option",14),n(19,"Select a payment method"),i(),g(20,zn,2,2,"option",15),i()()(),t(21,"div",16)(22,"label",17),n(23,"Description"),i(),s(24,"input",18),i(),t(25,"button",19)(26,"span",20),n(27,"Continue"),i()(),t(28,"h4",21),n(29," By clicking Continue, I authorize Scale to initiate"),s(30,"br"),n(31," the transaction detailed above. "),i()()(),g(32,Rn,10,0,"div",22)(33,Gn,12,0,"div",22)),a&2&&(l(8),p("formGroup",o.paymentForm),l(12),p("ngForOf",o.paymentMethods),l(12),p("ngIf",o.paymentSuccess),l(),p("ngIf",o.paymentFailure))},dependencies:[D,F,Q,re,oe,O,ie,ne,B,q,Ue,J,W],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();var $n=(r,d,e,a)=>({"bg-green-500/10 border-green-500/20":r,"bg-orange-500/10 border-orange-500/20":d,"bg-red-500/10 border-red-500/20":e,"bg-blue-500/10 border-blue-500/20":a}),Zn=(r,d,e,a)=>({"bg-green-400":r,"bg-orange-400":d,"bg-red-400":e,"bg-blue-400":a});function qn(r,d){if(r&1){let e=E();t(0,"div",28)(1,"div",29)(2,"div",30),n(3,"Transaction Status"),i(),t(4,"div",31)(5,"button",32),h("click",function(){S(e);let o=x();return _(o.filterTransactionsByStatus("all"))}),n(6,"All Transactions"),i(),t(7,"button",33),h("click",function(){S(e);let o=x();return _(o.filterTransactionsByStatus("Completed"))}),n(8,"Completed"),i(),t(9,"button",34),h("click",function(){S(e);let o=x();return _(o.filterTransactionsByStatus("Pending"))}),n(10,"Pending"),i(),t(11,"button",35),h("click",function(){S(e);let o=x();return _(o.filterTransactionsByStatus("Failed"))}),n(12,"Failed"),i(),t(13,"button",36),h("click",function(){S(e);let o=x();return _(o.filterTransactionsByStatus("Refunded"))}),n(14,"Refunded"),i()()()()}}function Qn(r,d){if(r&1&&(t(0,"span",48),n(1),i()),r&2){let e=x().$implicit;l(),b("$",e.amount,"")}}function Jn(r,d){if(r&1&&(t(0,"span",49),n(1),i()),r&2){let e=x().$implicit;l(),b("$",e.amount,"")}}function Wn(r,d){if(r&1&&(t(0,"span",50),n(1),i()),r&2){let e=x().$implicit;l(),b("$",e.amount,"")}}function Yn(r,d){if(r&1&&(t(0,"span",51),n(1),i()),r&2){let e=x().$implicit;l(),b("$",e.amount,"")}}function Kn(r,d){if(r&1&&(t(0,"span",47),n(1),i()),r&2){let e=x().$implicit;l(),b("$",e.amount,"")}}function Xn(r,d){if(r&1){let e=E();t(0,"button",63),h("click",function(){S(e);let o=x().$implicit,c=x(2);return _(c.openPaymentModal(o))}),m(),t(1,"svg",58),s(2,"path",64),i()()}}function er(r,d){if(r&1){let e=E();t(0,"div",22)(1,"div",38)(2,"div",39),m(),t(3,"svg",40),s(4,"path",41),i()(),v(),t(5,"div",42)(6,"h3",43),n(7),i(),t(8,"p",44),n(9),i()()(),t(10,"div",45)(11,"div",46)(12,"span",47),n(13,"Amount"),i(),g(14,Qn,2,1,"span",48)(15,Jn,2,1,"span",49)(16,Wn,2,1,"span",50)(17,Yn,2,1,"span",51)(18,Kn,2,1,"span",47),i(),t(19,"div",46)(20,"span",47),n(21,"Date"),i(),t(22,"span",52),n(23),C(24,"date"),i()(),t(25,"div",46)(26,"span",47),n(27,"Status"),i(),t(28,"div",53)(29,"span",54),n(30),i()()()(),t(31,"div",55),g(32,Xn,3,0,"button",56),t(33,"button",57),h("click",function(){let o=S(e).$implicit,c=x(2);return _(c.viewInvoiceDetails(o.invoiceId))}),m(),t(34,"svg",58),s(35,"path",59),i()(),v(),t(36,"button",60),m(),t(37,"svg",58),s(38,"path",61)(39,"path",62),i()()()()}if(r&2){let e=d.$implicit,a=x(2);l(7),u(e.transactionNumber),l(2),u(a.getPaymentMethodName(e.paymentMethod)),l(5),$(e.status==="Completed"?14:e.status==="Pending"?15:e.status==="Failed"?16:e.status==="Refunded"?17:18),l(9),u(I(24,8,e.date,"MM/dd/yyyy")),l(5),p("ngClass",Ze(11,$n,e.status==="Completed",e.status==="Pending",e.status==="Cancelled",e.status==="Refunded")),l(),p("ngClass",Ze(16,Zn,e.status==="Completed",e.status==="Pending",e.status==="Cancelled",e.status==="Refunded")),l(),b(" ",e.status," "),l(2),p("ngIf",e.status==="Pending")}}function tr(r,d){if(r&1&&g(0,er,40,21,"div",37),r&2){let e=x();p("ngForOf",e.filteredTransactions)}}function ir(r,d){r&1&&(t(0,"div",23)(1,"p",65),n(2,"No transactions found."),i()())}function nr(r,d){if(r&1&&(t(0,"li",66)(1,"div",67)(2,"h1",68),n(3),i(),t(4,"h2",69),n(5),C(6,"date"),i()(),t(7,"div",70),s(8,"div",71),t(9,"div")(10,"h4",72),n(11),i(),t(12,"h5",73),n(13),i()()(),t(14,"div")(15,"h4",74),n(16),i()()()),r&2){let e=d.$implicit;l(3),b("$",e.amount,""),l(2),u(I(6,5,e.date,"dd, MMM yyyy")),l(6),u(e.transactionNumber),l(2),u(e.paymentMethod),l(3),u(e.description)}}function rr(r,d){if(r&1){let e=E();t(0,"div",75)(1,"div",76)(2,"app-add-transaction",77),h("closeModal",function(){S(e);let o=x();return _(o.closeNewTransactionModal())}),i(),t(3,"button",78),h("click",function(){S(e);let o=x();return _(o.closeNewTransactionModal())}),m(),t(4,"svg",79),s(5,"path",80),i()()()()}}function or(r,d){if(r&1){let e=E();t(0,"app-process-payment",82),h("closeModal",function(){S(e);let o=x(2);return _(o.closePaymentModal())}),i()}if(r&2){let e=x(2);p("transaction",e.selectedTransaction)}}function ar(r,d){if(r&1){let e=E();t(0,"div",75)(1,"div",76),g(2,or,1,1,"app-process-payment",81),t(3,"button",78),h("click",function(){S(e);let o=x();return _(o.closePaymentModal())}),m(),t(4,"svg",79),s(5,"path",80),i()()()()}if(r&2){let e=x();l(2),p("ngIf",e.selectedTransaction)}}var qt=(()=>{class r{constructor(e,a,o,c,y){this.transactionService=e,this.invoiceService=a,this.authService=o,this.zone=c,this.router=y,this.transactionsResponse={transactions:[]},this.selectedTransaction=null,this.errorMessage="",this.paymentMethods=[{id:"credit_card",name:"Credit Card"},{id:"debit_card",name:"Debit Card"},{id:"bank_transfer",name:"Bank Transfer"},{id:"paypal",name:"PayPal"}],this.isFilterMenuOpen=!1,this.currentStatusFilter="Completed",this.isNewTransactionModalOpen=!1,this.isPaymentModalOpen=!1}ngOnInit(){let e=this.authService.getLoggedUser();e&&this.transactionService.getTransactionsByUser(e.userId).subscribe({next:a=>{this.zone.run(()=>{this.transactionsResponse=a,console.log("Transactions:",this.transactionsResponse.transactions)})},error:a=>{console.error("Erro ao buscar transactions:",a),this.errorMessage="Falha ao carregar transactions"}})}openNewTransactionModal(){this.isNewTransactionModalOpen=!0}closeNewTransactionModal(){this.isNewTransactionModalOpen=!1}openPaymentModal(e){this.selectedTransaction=e,this.isPaymentModalOpen=!0}closePaymentModal(){this.selectedTransaction=null,this.isPaymentModalOpen=!1}formatNumber(e){return e>=1e6?(e/1e6).toFixed(1)+"m":e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}transactionValue(){return this.transactionsResponse.transactions.reduce((e,a)=>e+a.amount,0)}getPaymentMethodName(e){let a=this.paymentMethods.find(o=>o.id===e);return a?a.name:e}viewInvoiceDetails(e){this.invoiceService.getInvoice(e).subscribe({next:a=>{this.router.navigate(["/back-office/dashboard/invoices",e],{state:{invoice:a}})},error:a=>{console.error("Error fetching invoice:",a)}})}filterTransactionsByStatus(e){this.currentStatusFilter=e,this.isFilterMenuOpen=!1}get upcomingTransactions(){return this.transactionsResponse.transactions.filter(e=>e.status==="Pending").sort((e,a)=>new Date(e.date).getTime()-new Date(a.date).getTime()).slice(0,5)}toggleFilterMenu(){this.isFilterMenuOpen=!this.isFilterMenuOpen}get filteredTransactions(){return this.currentStatusFilter==="all"?this.transactionsResponse.transactions:this.transactionsResponse.transactions.filter(e=>e.status===this.currentStatusFilter)}static{this.\u0275fac=function(a){return new(a||r)(f(Ee),f(Re),f(de),f(N),f(M))}}static{this.\u0275cmp=k({type:r,selectors:[["app-transactions"]],decls:51,vars:7,consts:[[1,"flex","flex-col","font-inter","ml-0","lg:ml-64","px-10","min-h-screen"],[1,"flex","mb-10","gap-10"],[1,"flex","flex-1","gap-5"],[1,"supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10","size-56","flex","flex-col","justify-between"],[1,"font-bold","bg-clip-text","text-transparent","bg-gray-300"],[1,"text-4xl","font-extrabold","bg-clip-text","text-transparent","bg-white"],[1,"text-xs","bg-clip-text","text-transparent","bg-green-500","font-medium"],[1,"flex-1","supports-backdrop-blur:bg-white/95","bg-gray-900/30","rounded-3xl","p-10","size-56","flex","flex-col","justify-between"],[1,"text-xs","bg-clip-text","text-transparent","bg-white","font-medium"],[1,"supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10","size-56","flex","flex-col","justify-between","flex-1"],[1,"grid","grid-cols-4","gap-10","flex-grow","h-full"],[1,"col-span-3","w-full","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10","flex","flex-col","h-full"],[1,"relative"],[1,"flex","justify-between","items-center","mb-6"],[1,"font-extrabold","text-4xl","bg-clip-text","text-transparent","bg-white","mb-5"],[1,"flex","gap-4"],[1,"px-4","py-2","bg-gray-800/50","rounded-xl","text-gray-300","hover:bg-gray-700/50","flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"size-4"],["stroke-linecap","round","stroke-linejoin","round","d","M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"],["class","absolute right-0 mt-2 w-48 bg-gray-900 rounded-xl shadow-lg z-50 border border-gray-800/30",4,"ngIf"],[1,"px-4","py-2","bg-blue-500/20","rounded-xl","text-blue-400","hover:bg-blue-500/30",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-gray-800/30","border","border-gray-900","rounded-xl","p-5","hover:border-gray-800/30","transition-all","duration-300"],[1,"col-span-4","text-center","p-8"],[1,"col-span-1","w-full","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10","flex","flex-col","h-full"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white","mb-5","relative","flex"],["class","border-b border-dashed border-gray-800/50 pb-5 mb-5",4,"ngFor","ngForOf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",4,"ngIf"],[1,"absolute","right-0","mt-2","w-48","bg-gray-900","rounded-xl","shadow-lg","z-50","border","border-gray-800/30"],[1,""],[1,"text-sm","bg-clip-text","bg-gray-400","text-transparent","font-medium","px-3","py-4","border-b","border-gray-800"],[1,"space-y-1","p-2"],[1,"w-full","text-left","px-3","py-2","hover:bg-gray-700/50","rounded-lg","text-gray-300",3,"click"],[1,"w-full","text-left","px-3","py-2","hover:bg-gray-700/50","rounded-lg","text-green-400",3,"click"],[1,"w-full","text-left","px-3","py-2","hover:bg-gray-700/50","rounded-lg","text-orange-400",3,"click"],[1,"w-full","text-left","px-3","py-2","hover:bg-gray-700/50","rounded-lg","text-red-400",3,"click"],[1,"w-full","text-left","px-3","py-2","hover:bg-gray-700/50","rounded-lg","text-blue-400",3,"click"],["class","bg-gray-800/30 border border-gray-900 rounded-xl p-5 hover:border-gray-800/30 transition-all duration-300",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-4","mb-4"],[1,"bg-gradient-to-br","from-blue-500","to-blue-600","rounded-xl","w-12","h-12","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"flex-1"],[1,"text-transparent","bg-clip-text","bg-white","font-extrabold","line-clamp-1"],[1,"text-transparent","bg-clip-text","bg-gray-400","text-sm","font-medium","line-clamp-1"],[1,"space-y-3"],[1,"flex","justify-between","items-center"],[1,"text-transparent","bg-clip-text","bg-gray-400","text-sm","font-medium"],[1,"text-transparent","bg-clip-text","bg-green-400","text-sm","font-medium"],[1,"text-transparent","bg-clip-text","bg-orange-400","text-sm","font-medium"],[1,"text-transparent","bg-clip-text","bg-red-400","text-sm","font-medium"],[1,"text-transparent","bg-clip-text","bg-blue-400","text-sm","font-medium"],[1,"text-transparent","bg-clip-text","bg-gray-300","text-sm","font-medium"],[1,"flex","items-center","justify-center","px-3","py-1","rounded-full",3,"ngClass"],[1,"text-transparent","bg-clip-text","text-xs","font-medium","p-0","m-0",3,"ngClass"],[1,"mt-4","flex","justify-end","gap-2"],["class","p-2 rounded-lg hover:bg-gray-700/50 transition-all duration-300 text-gray-400 hover:text-green-300","title","Mark as Paid",3,"click",4,"ngIf"],["title","View Invoice Details",1,"p-2","rounded-lg","hover:bg-gray-700/50","transition-all","duration-300","text-gray-400","hover:text-blue-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-5"],["fill-rule","evenodd","d","M3.75 3.375c0-1.036.84-1.875 1.875-1.875H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375Zm10.5 1.875a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25ZM12 10.5a.75.75 0 0 1 .75.75v.028a9.727 9.727 0 0 1 1.687.28.75.75 0 1 1-.374 1.452 8.207 8.207 0 0 0-1.313-.226v1.68l.969.332c.67.23 1.281.85 1.281 1.704 0 .158-.007.314-.02.468-.083.931-.83 1.582-1.669 1.695a9.776 9.776 0 0 1-.561.059v.028a.75.75 0 0 1-1.5 0v-.029a9.724 9.724 0 0 1-1.687-.278.75.75 0 0 1 .374-1.453c.425.11.864.186 1.313.226v-1.68l-.968-.332C9.612 14.974 9 14.354 9 13.5c0-.158.007-.314.02-.468.083-.931.831-1.582 1.67-1.694.185-.025.372-.045.56-.06v-.028a.75.75 0 0 1 .75-.75Zm-1.11 2.324c.119-.016.239-.03.36-.04v1.166l-.482-.165c-.208-.072-.268-.211-.268-.285 0-.113.005-.225.015-.336.013-.146.14-.309.374-.34Zm1.86 4.392V16.05l.482.165c.208.072.268.211.268.285 0 .113-.005.225-.015.336-.012.146-.14.309-.374.34-.12.016-.24.03-.361.04Z","clip-rule","evenodd"],["title","View Transaction Details",1,"p-2","rounded-lg","hover:bg-gray-700/50","transition-all","duration-300","text-gray-400","hover:text-blue-300"],["d","M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"],["fill-rule","evenodd","d","M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z","clip-rule","evenodd"],["title","Mark as Paid",1,"p-2","rounded-lg","hover:bg-gray-700/50","transition-all","duration-300","text-gray-400","hover:text-green-300",3,"click"],["fill-rule","evenodd","d","M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z","clip-rule","evenodd"],[1,"bg-clip-text","text-transparent","bg-gray-400","text-[2vw]","font-medium","py-20"],[1,"border-b","border-dashed","border-gray-800/50","pb-5","mb-5"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-medium","text-gray-300","text-lg"],[1,"font-medium","text-gray-400","text-xs"],["id","property_upcoming",1,"flex","gap-4","items-center","mb-2"],[1,"bg-blue-500","rounded-xl","size-14","aspect-square"],[1,"font-medium","text-gray-300","text-sm","line-clamp-1"],[1,"font-medium","text-gray-300","text-xs"],[1,"font-medium","text-gray-300","text-xs","line-clamp-1"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50"],[1,"bg-gray-900","relative","rounded-xl","p-10","w-fit"],[3,"closeModal"],[1,"absolute","top-3","right-3","text-gray-600","rounded-full","p-3","hover:text-red-600","transition-all","duration-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[3,"transaction","closeModal",4,"ngIf"],[3,"closeModal","transaction"]],template:function(a,o){a&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),n(5,"Transactions"),i(),t(6,"span",5),n(7),i(),t(8,"p",6),n(9,"5% increase this month"),i()(),t(10,"div",7)(11,"h3",4),n(12,"Total Spend"),i(),t(13,"span",5),n(14),i(),t(15,"p",8),n(16,"Total active value"),i()(),t(17,"div",3)(18,"h3",4),n(19,"Avg. Duration"),i(),t(20,"span",5),n(21,"35"),i(),t(22,"p",8),n(23,"months per contract"),i()(),s(24,"div",9),i()(),t(25,"div",10)(26,"div",11)(27,"div",12)(28,"div",13)(29,"h3",14),n(30,"Transactions"),i(),t(31,"div",15)(32,"div",12)(33,"button",16),h("click",function(){return o.toggleFilterMenu()}),t(34,"span"),n(35,"Filter"),i(),m(),t(36,"svg",17),s(37,"path",18),i()(),g(38,qn,15,0,"div",19),i(),v(),t(39,"button",20),h("click",function(){return o.openNewTransactionModal()}),n(40,"New Transaction"),i()()(),t(41,"div",21),g(42,tr,1,1,"div",22)(43,ir,3,0,"div",23),i()()(),t(44,"div",24)(45,"h3",25),n(46,"Upcoming"),i(),t(47,"ul"),g(48,nr,17,8,"li",26),i()()()(),g(49,rr,6,0,"div",27)(50,ar,6,1,"div",27)),a&2&&(l(7),u(o.transactionsResponse.transactions.length),l(7),b("$",o.formatNumber(o.transactionValue()),""),l(24),p("ngIf",o.isFilterMenuOpen),l(4),$(o.filteredTransactions.length>0?42:43),l(6),p("ngForOf",o.upcomingTransactions),l(),p("ngIf",o.isNewTransactionModalOpen),l(),p("ngIf",o.isPaymentModalOpen))},dependencies:[le,D,F,$t,Zt,L],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();function lr(r,d){if(r&1&&(me(0),t(1,"div",32)(2,"div",33),n(3,"Base Rent"),i(),t(4,"div",34),n(5),i()(),t(6,"div",32)(7,"div",33),n(8,"Utilities"),i(),t(9,"div",34),n(10),i()(),t(11,"div",32)(12,"div",33),n(13,"Maintenance Fee"),i(),t(14,"div",34),n(15),i()(),t(16,"div",32)(17,"div",33),n(18,"Security Deposit"),i(),t(19,"div",34),n(20),i()(),ue()),r&2){let e=x();l(5),b("$",e.formatCurrency(e.calculateBreakdown(e.invoice==null?null:e.invoice.amount,e.invoice==null?null:e.invoice.contractType,e.invoice==null?null:e.invoice.securityDeposit).baseRent),""),l(5),b("$",e.formatCurrency(e.calculateBreakdown(e.invoice==null?null:e.invoice.amount,e.invoice==null?null:e.invoice.contractType,e.invoice==null?null:e.invoice.securityDeposit).utilities),""),l(5),b("$",e.formatCurrency(e.calculateBreakdown(e.invoice==null?null:e.invoice.amount,e.invoice==null?null:e.invoice.contractType,e.invoice==null?null:e.invoice.securityDeposit).maintenanceFee),""),l(5),b("$",e.formatCurrency(e.calculateBreakdown(e.invoice==null?null:e.invoice.amount,e.invoice==null?null:e.invoice.contractType,e.invoice==null?null:e.invoice.securityDeposit).securityDeposit),"")}}function sr(r,d){if(r&1&&(me(0),t(1,"div",32)(2,"div",33),n(3,"Down Payment"),i(),t(4,"div",34),n(5),i()(),t(6,"div",32)(7,"div",33),n(8,"Mortgage Payment"),i(),t(9,"div",34),n(10),i()(),t(11,"div",32)(12,"div",33),n(13,"Closing Costs"),i(),t(14,"div",34),n(15),i()(),t(16,"div",32)(17,"div",33),n(18,"Security Deposit"),i(),t(19,"div",34),n(20),i()(),ue()),r&2){let e=x();l(5),b("$",e.formatCurrency(e.calculateBreakdown(e.invoice==null?null:e.invoice.amount,e.invoice==null?null:e.invoice.contractType,e.invoice==null?null:e.invoice.securityDeposit).downPayment),""),l(5),b("$",e.formatCurrency(e.calculateBreakdown(e.invoice==null?null:e.invoice.amount,e.invoice==null?null:e.invoice.contractType,e.invoice==null?null:e.invoice.securityDeposit).mortgagePayment),""),l(5),b("$",e.formatCurrency(e.calculateBreakdown(e.invoice==null?null:e.invoice.amount,e.invoice==null?null:e.invoice.contractType,e.invoice==null?null:e.invoice.securityDeposit).closingCosts),""),l(5),b("$",e.formatCurrency(e.calculateBreakdown(e.invoice==null?null:e.invoice.amount,e.invoice==null?null:e.invoice.contractType,e.invoice==null?null:e.invoice.securityDeposit).securityDeposit),"")}}var Qt=(()=>{class r{constructor(e,a,o){this.router=e,this.route=a,this.invoiceService=o;let y=this.router.getCurrentNavigation()?.extras.state;y&&(this.invoice=y.invoice)}ngOnInit(){if(!this.invoice){let e=this.route.snapshot.params.id;this.invoiceService.getInvoice(e).subscribe({next:a=>{this.invoice=a},error:a=>{console.error("Error loading invoice:",a)}})}}calculateBreakdown(e,a,o){let c=e||0,y=a?.toLowerCase()||"rent",A=o||0;return y==="rent"?{baseRent:c*.7,utilities:c*.15,maintenanceFee:c*.05,securityDeposit:A}:{downPayment:c*.15,mortgagePayment:c*.7,closingCosts:c*.05,securityDeposit:A}}formatCurrency(e){return(e??0).toFixed(2)}static{this.\u0275fac=function(a){return new(a||r)(f(M),f(fe),f(Re))}}static{this.\u0275cmp=k({type:r,selectors:[["app-invoice"]],decls:72,vars:16,consts:[[1,"flex","flex-col","font-inter","ml-64","px-10"],[1,"flex","flex-1","flex-col","p-10"],[1,"grid","grid-cols-4","gap-10"],[1,"col-span-3","supports-backdrop-blur:bg-white/95","bg-gray-800/30","rounded-3xl","p-10"],[1,"flex","justify-between","items-center","mb-8"],[1,"font-extrabold","text-4xl","bg-clip-text","text-transparent","bg-white"],[1,"text-xs","font-medium","text-green-500","bg-green-500/20","p-2","rounded-full","mt-2","inline-block"],[1,"bg-blue-500","text-white","rounded-md","py-2","px-4"],[1,"flex","items-center","gap-4","mb-10","p-6","supports-backdrop-blur:bg-white/95","bg-gray-900/30","rounded-xl"],[1,"bg-blue-500","rounded-xl","size-20","aspect-square","overflow-hidden"],["alt","Imagem da Propriedade",1,"w-full","h-full","object-cover",3,"src"],[1,"font-bold","text-xl","bg-clip-text","text-transparent","bg-white","mb-2"],[1,"text-sm","text-gray-400"],[1,"grid","grid-cols-4","gap-5","mb-10"],[1,"supports-backdrop-blur:bg-white/95","bg-gray-900/30","rounded-xl","p-6"],[1,"font-bold","bg-clip-text","text-transparent","bg-gray-300","mb-2"],[1,"text-xl","font-extrabold","bg-clip-text","text-transparent","bg-white"],[1,"text-xl","font-extrabold","bg-clip-text","text-transparent","bg-green-600"],[1,"text-sm","font-medium","bg-clip-text","text-transparent","bg-white"],[1,"grid","grid-cols-2","gap-10","mb-10"],[1,"font-bold","text-lg","bg-clip-text","text-transparent","bg-white","mb-4"],[1,"space-y-2"],[1,"font-medium","text-gray-300"],[1,"mb-10"],[1,"border","border-gray-800/50","rounded-xl","overflow-hidden"],[1,"divide-y","divide-gray-800/50"],[4,"ngIf"],[1,"flex","justify-end"],[1,"w-72"],[1,"flex","justify-between","text-lg","font-bold","pt-3","border-t","border-gray-800/50"],[1,"bg-clip-text","text-transparent","bg-white"],[1,"bg-clip-text","text-transparent","bg-green-600"],[1,"grid","grid-cols-2","gap-4","p-4","text-sm"],[1,"text-gray-300"],[1,"text-right","text-gray-300"]],template:function(a,o){a&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"h3",5),n(7),i(),t(8,"span",6),n(9),i()(),t(10,"button",7),n(11,"Download Receipt"),i()(),t(12,"div",8)(13,"div",9),s(14,"img",10),i(),t(15,"div")(16,"h4",11),n(17),i(),t(18,"p",12),n(19),i()()(),t(20,"div",13)(21,"div",14)(22,"h4",15),n(23,"Transaction Type"),i(),t(24,"p",16),n(25),i()(),t(26,"div",14)(27,"h4",15),n(28,"Contract Type"),i(),t(29,"p",16),n(30),i()(),t(31,"div",14)(32,"h4",15),n(33,"Amount Paid"),i(),t(34,"p",17),n(35),i()(),t(36,"div",14)(37,"h4",15),n(38,"Transaction ID"),i(),t(39,"p",18),n(40),i()()(),t(41,"div",19)(42,"div")(43,"h4",20),n(44,"Property Owner"),i(),t(45,"div",21)(46,"p",22),n(47),i(),t(48,"p",12),n(49),i()()(),t(50,"div")(51,"h4",20),n(52,"Tenant"),i(),t(53,"div",21)(54,"p",22),n(55),i(),t(56,"p",12),n(57),i()()()(),t(58,"div",23)(59,"h4",20),n(60,"Payment Breakdown"),i(),t(61,"div",24)(62,"div",25),g(63,lr,21,4,"ng-container",26)(64,sr,21,4,"ng-container",26),i()()(),t(65,"div",27)(66,"div",28)(67,"div",29)(68,"span",30),n(69,"Total Paid"),i(),t(70,"span",31),n(71),i()()()()()()()()),a&2&&(l(7),u(o.invoice==null?null:o.invoice.invoiceNumber),l(2),u(o.invoice==null?null:o.invoice.status),l(5),p("src",o.invoice.images[0].imagePath,P),l(3),u(o.invoice==null?null:o.invoice.propertyName),l(2),u(o.invoice==null?null:o.invoice.propertyAddress),l(6),u(o.invoice==null?null:o.invoice.paymentFrequency),l(5),u(o.invoice==null?null:o.invoice.contractType),l(5),b("$",o.formatCurrency(o.invoice==null?null:o.invoice.amount),""),l(5),u(o.invoice==null?null:o.invoice.transactionNumber),l(7),b("Real Estate LLC - ",o.invoice==null?null:o.invoice.realtorName,""),l(2),u(o.invoice==null?null:o.invoice.realtorEmail),l(6),u(o.invoice==null?null:o.invoice.customerName),l(2),u(o.invoice==null?null:o.invoice.customerEmail),l(6),p("ngIf",(o.invoice==null||o.invoice.contractType==null?null:o.invoice.contractType.toLowerCase())==="rent"),l(),p("ngIf",(o.invoice==null||o.invoice.contractType==null?null:o.invoice.contractType.toLowerCase())==="sale"),l(7),b("$",o.formatCurrency(o.invoice==null?null:o.invoice.amount),""))},dependencies:[F],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();function dr(r,d){if(r&1){let e=E();t(0,"button",61),h("click",function(){S(e);let o=x().$implicit,c=x();return _(c.acceptProposalDirectly(o.id))}),m(),t(1,"svg",62),s(2,"path",63),i()()}if(r&2){let e=x().$implicit;p("disabled",e.status!=="Pending")}}function cr(r,d){if(r&1){let e=E();t(0,"button",64),h("click",function(){S(e);let o=x().$implicit,c=x();return _(c.rejectProposal(o.id))}),m(),t(1,"svg",62),s(2,"path",65),i()()}}function pr(r,d){if(r&1){let e=E();t(0,"div",41)(1,"div",42)(2,"div",43),s(3,"img",44)(4,"div",45),i(),t(5,"div",46)(6,"div",47)(7,"div")(8,"h3",48),n(9),i(),t(10,"p",49),n(11),i()(),t(12,"span"),n(13),i()(),t(14,"div",50)(15,"div")(16,"span",51),n(17,"Proposed Value"),i(),t(18,"p",52),n(19),C(20,"currency"),i()(),t(21,"div")(22,"span",51),n(23,"Move-in Date"),i(),t(24,"p",53),n(25),C(26,"date"),i()(),t(27,"div")(28,"span",51),n(29,"Payment Method"),i(),t(30,"p",53),n(31),i()()(),t(32,"div",54),g(33,dr,3,1,"button",55)(34,cr,3,0,"button",56),t(35,"button",57),h("click",function(){let o=S(e).$implicit,c=x();return _(c.navigateToProposal(o.id))}),m(),t(36,"svg",58),s(37,"path",59)(38,"path",60),i()()()()()()}if(r&2){let e=d.$implicit,a=x();l(3),p("src",e.images[0].imagePath||"assets/default-property.jpg",P)("alt",e.propertyTitle),l(6),u(e.proposalNumber),l(2),b("by ",e.userName,""),l(),ke("px-3 py-1 rounded-full text-xs font-medium "+(e.status==="Pending"?"bg-yellow-500/20 text-yellow-300":e.status==="UnderAnalysis"?"bg-orange-500/20 text-orange-300":e.status==="InNegotiation"?"bg-blue-500/20 text-blue-300":e.status==="Approved"?"bg-green-500/20 text-green-300":e.status==="Rejected"?"bg-red-500/20 text-red-300":e.status==="Cancelled"?"bg-gray-500/20 text-gray-300":e.status==="Completed"?"bg-purple-500/20 text-purple-300":"bg-gray-500/20 text-gray-300")),l(),b(" ",e.status," "),l(6),u(V(20,12,e.proposedValue)),l(6),u(I(26,14,e.intendedMoveDate,"shortDate")),l(6),u(a.getPaymentMethodName(e.paymentMethod)),l(2),p("ngIf",e.status==="Pending"),l(),p("ngIf",e.status==="Pending")}}function mr(r,d){if(r&1&&(t(0,"div",66)(1,"div",67),s(2,"div",68),t(3,"span",21),n(4),C(5,"date"),i()(),t(6,"p",69),n(7),i(),t(8,"p",70),n(9),i()()),r&2){let e=d.$implicit;l(2),pe("bg-yellow-400",e.status==="Pending")("bg-green-400",e.status==="Approved")("bg-red-400",e.status==="Rejected"),l(2),u(I(5,9,e.createdAt,"short")),l(3),u(e.propertyTitle),l(2),b("by ",e.userName,"")}}function ur(r,d){r&1&&(m(),t(0,"svg",75),s(1,"path",76),i())}function gr(r,d){r&1&&(m(),t(0,"svg",75),s(1,"path",77),i())}function fr(r,d){if(r&1&&(t(0,"div",71)(1,"div",72),g(2,ur,2,0,"svg",73)(3,gr,2,0,"svg",73),t(4,"span",74),n(5),i()()()),r&2){let e=x();p("ngClass",e.notification.type==="success"?"bg-green-500":"bg-red-500"),l(2),p("ngIf",e.notification.type==="success"),l(),p("ngIf",e.notification.type==="error"),l(2),u(e.notification.message)}}var Wt=(()=>{class r{constructor(e,a,o,c,y){this.authService=e,this.realtorService=a,this.proposalService=o,this.userService=c,this.router=y,this.proposals=[],this.loading=!1,this.totalValue=0,this.isModalOpen=!1,this.notification=null,this.purchasePaymentMethods=[{id:"bank_transfer",name:"Bank Transfer"},{id:"bank_financing",name:"Bank Financing"},{id:"installments",name:"Installments"},{id:"credit_card",name:"Credit Card"}],this.rentalPaymentMethods=[{id:"bank_transfer",name:"Bank Transfer"},{id:"credit_card",name:"Credit Card"},{id:"direct_debit",name:"Direct Debit"}]}ngOnInit(){let a=this.authService.getLoggedUser().userId;this.loadProposals()}loadProposals(){let a=this.authService.getLoggedUser().userId;this.userService.retrieve(a).subscribe({next:o=>{o.access==="LicensedAgent"?this.realtorService.retrieveByUserId(a).subscribe({next:c=>{this.proposalService.getProposalsByRealtor(c.id).subscribe({next:y=>{this.proposals=y.proposals}})}}):this.proposalService.getProposalsByUser(a).subscribe({next:c=>{this.proposals=c.proposals}})}})}showStatusMessage(e){let a={Approved:"Proposal has been approved! The agent will prepare the contract.",Rejected:"Proposal has been rejected."};this.notification={type:e==="Approved"?"success":"error",message:a[e]},setTimeout(()=>{this.notification=null},5e3)}acceptProposalDirectly(e){this.proposalService.acceptProposalDirectly(e).subscribe({next:()=>{this.loadProposals(),this.showStatusMessage("Approved")}})}rejectProposal(e){}viewProposalDetails(e){}calculateTotalValue(){this.totalValue=this.proposals.reduce((e,a)=>e+a.proposedValue,0)}navigateToProposal(e){this.router.navigate(["back-office/dashboard/proposal/",e])}getPaymentMethodName(e){let o=[...this.purchasePaymentMethods,...this.rentalPaymentMethods].find(c=>c.id===e);return o?o.name:e}static{this.\u0275fac=function(a){return new(a||r)(f(de),f(Tt),f(_e),f(Z),f(M))}}static{this.\u0275cmp=k({type:r,selectors:[["app-proposals"]],decls:70,vars:8,consts:[[1,"flex","flex-col","font-inter","ml-64","px-10","min-h-screen"],[1,"grid","grid-cols-3","gap-6","mb-10"],[1,"bg-gray-800/30","backdrop-blur-xl","rounded-3xl","p-8","relative","overflow-hidden","group"],[1,"absolute","inset-0","bg-gradient-to-br","from-blue-500/5","to-transparent","transition-all","duration-300","group-hover:from-blue-500/10"],[1,"relative","z-10"],[1,"flex","justify-between","items-start","mb-8"],[1,"text-gray-400","font-medium"],[1,"bg-blue-500/20","p-2","rounded-xl"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-blue-400"],["d","M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"],["fill-rule","evenodd","d","M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z","clip-rule","evenodd"],[1,"space-y-2"],[1,"text-4xl","font-bold","text-white"],[1,"text-green-400","text-sm","flex","items-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4"],["fill-rule","evenodd","d","M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z","clip-rule","evenodd"],[1,"absolute","inset-0","bg-gradient-to-br","from-green-500/5","to-transparent","transition-all","duration-300","group-hover:from-green-500/10"],[1,"bg-green-500/20","p-2","rounded-xl"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-green-400"],["d","M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule","evenodd"],[1,"text-gray-400","text-sm"],[1,"absolute","inset-0","bg-gradient-to-br","from-purple-500/5","to-transparent","transition-all","duration-300","group-hover:from-purple-500/10"],[1,"bg-purple-500/20","p-2","rounded-xl"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-purple-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"grid","grid-cols-4","gap-6"],[1,"col-span-3","space-y-6"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-white","mb-2"],[1,"text-gray-400"],[1,"flex","gap-4"],[1,"px-4","py-2","bg-gray-800/50","text-gray-300","rounded-xl","hover:bg-gray-700/50","transition-colors"],[1,"px-4","py-2","bg-blue-500/20","text-blue-400","rounded-xl","hover:bg-blue-500/30","transition-colors"],[1,"grid","grid-cols-1","gap-6"],["class","bg-gray-800/30 backdrop-blur-xl rounded-3xl overflow-hidden hover:bg-gray-800/40 transition-all duration-300 cursor-pointer",4,"ngFor","ngForOf"],[1,"bg-gray-800/30","backdrop-blur-xl","rounded-3xl","p-6"],[1,"text-xl","font-bold","text-white","mb-6"],[1,"space-y-4"],["class","p-4 bg-gray-800/30 rounded-xl hover:bg-gray-800/40 transition-all duration-300",4,"ngFor","ngForOf"],["class","fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 ease-in-out",3,"ngClass",4,"ngIf"],[1,"bg-gray-800/30","backdrop-blur-xl","rounded-3xl","overflow-hidden","hover:bg-gray-800/40","transition-all","duration-300","cursor-pointer"],[1,"flex","h-64"],[1,"w-80","relative"],[1,"h-full","w-full","object-cover",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-r","from-transparent","to-gray-900/50"],[1,"flex-1","p-8","flex","flex-col","justify-between"],[1,"flex","justify-between","items-start"],[1,"bg-clip-text","text-transparent","bg-white","text-3xl","font-extrabold"],[1,"bg-clip-text","text-transparent","bg-gray-400","font-medium","text-sm","mt-1"],[1,"grid","grid-cols-3","gap-8","my-6"],[1,"bg-clip-text","text-transparent","bg-gray-400","font-medium","text-sm","block","mb-1"],[1,"bg-clip-text","text-transparent","bg-gray-200","text-2xl","font-extrabold"],[1,"bg-clip-text","text-transparent","bg-gray-200","text-base","font-extrabold"],[1,"flex","justify-end","gap-2"],["class","p-2 rounded-xl bg-green-500/10 text-green-400 hover:bg-green-500/20 transition-colors",3,"disabled","click",4,"ngIf"],["class","p-2 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-colors",3,"click",4,"ngIf"],[1,"p-2","rounded-xl","bg-gray-700/30","text-gray-400","hover:bg-gray-700/50","hover:text-blue-400","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-5"],["d","M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"],["fill-rule","evenodd","d","M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z","clip-rule","evenodd"],[1,"p-2","rounded-xl","bg-green-500/10","text-green-400","hover:bg-green-500/20","transition-colors",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"p-2","rounded-xl","bg-red-500/10","text-red-400","hover:bg-red-500/20","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"p-4","bg-gray-800/30","rounded-xl","hover:bg-gray-800/40","transition-all","duration-300"],[1,"flex","items-center","gap-3"],[1,"w-2","h-2","rounded-full"],[1,"text-white","mt-2"],[1,"text-sm","text-gray-400"],[1,"fixed","top-4","right-4","z-50","p-4","rounded-lg","shadow-lg","transition-all","duration-300","ease-in-out",3,"ngClass"],[1,"flex","items-center","gap-2"],["class","w-5 h-5 text-white","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"text-white","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(a,o){a&1&&(t(0,"section",0)(1,"div",1)(2,"div",2),s(3,"div",3),t(4,"div",4)(5,"div",5)(6,"span",6),n(7,"Active Proposals"),i(),t(8,"div",7),m(),t(9,"svg",8),s(10,"path",9)(11,"path",10),i()()(),v(),t(12,"div",11)(13,"h3",12),n(14),i(),t(15,"p",13),m(),t(16,"svg",14),s(17,"path",15),i(),n(18," 10% increase this month "),i()()()(),v(),t(19,"div",2),s(20,"div",16),t(21,"div",4)(22,"div",5)(23,"span",6),n(24,"Total Value"),i(),t(25,"div",17),m(),t(26,"svg",18),s(27,"path",19)(28,"path",20),i()()(),v(),t(29,"div",11)(30,"h3",12),n(31),C(32,"currency"),i(),t(33,"p",21),n(34,"Total proposed value"),i()()()(),t(35,"div",2),s(36,"div",22),t(37,"div",4)(38,"div",5)(39,"span",6),n(40,"Acceptance Rate"),i(),t(41,"div",23),m(),t(42,"svg",24),s(43,"path",25),i()()(),v(),t(44,"div",11)(45,"h3",12),n(46,"75%"),i(),t(47,"p",21),n(48,"Last 30 days"),i()()()()(),t(49,"div",26)(50,"div",27)(51,"div",28)(52,"div")(53,"h2",29),n(54,"Property Proposals"),i(),t(55,"p",30),n(56),i()(),t(57,"div",31)(58,"button",32),n(59,"Filter"),i(),t(60,"button",33),n(61,"New Proposal"),i()()(),t(62,"div",34),g(63,pr,39,17,"div",35),i()(),t(64,"div",36)(65,"h3",37),n(66,"Recent Activity"),i(),t(67,"div",38),g(68,mr,10,12,"div",39),i()()()(),g(69,fr,6,4,"div",40)),a&2&&(l(14),u(o.proposals.length),l(17),u(V(32,6,o.totalValue)),l(25),b("Managing ",o.proposals.length," active proposals"),l(7),p("ngForOf",o.proposals),l(5),p("ngForOf",o.proposals.slice(0,5)),l(),p("ngIf",o.notification))},dependencies:[le,D,F,se,L],styles:[".glass-card[_ngcontent-%COMP%]{border-radius:1.5rem;border-width:1px;border-color:#ffffff1a;background-color:#ffffff0d;padding:2rem;--tw-backdrop-blur: blur(16px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.stats-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;border-radius:1rem;background-color:#ffffff0d;padding:1.5rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.stats-card[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.stats-icon[_ngcontent-%COMP%]{border-radius:.75rem;padding:1rem;font-size:1.25rem;line-height:1.75rem}.stats-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stats-title[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.stats-value[_ngcontent-%COMP%]{margin-top:.25rem;font-size:1.875rem;line-height:2.25rem;font-weight:700;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.stats-subtitle[_ngcontent-%COMP%]{margin-top:.25rem;display:flex;align-items:center;gap:.5rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.proposal-card[_ngcontent-%COMP%]{overflow:hidden;border-radius:.75rem;background-color:#ffffff0d;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.proposal-card[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.proposal-image[_ngcontent-%COMP%]{position:relative;height:12rem}.proposal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:flex-end;background-image:linear-gradient(to top,var(--tw-gradient-stops));--tw-gradient-from: rgb(0 0 0 / .8) var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: transparent var(--tw-gradient-to-position);padding:1rem}.proposal-title[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;font-weight:700;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.proposal-badges[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem}.proposal-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:1rem;padding:1rem}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem}.detail-label[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.detail-value[_ngcontent-%COMP%]{font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.75rem;--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.btn-secondary[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.75rem;--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.btn-secondary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.activity-feed[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.activity-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;border-radius:.75rem;background-color:#ffffff0d;padding:1rem}.activity-indicator[_ngcontent-%COMP%]{margin-top:.5rem;height:.5rem;width:.5rem;border-radius:9999px}.activity-content[_ngcontent-%COMP%]{flex:1 1 0%}.activity-date[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.activity-title[_ngcontent-%COMP%]{margin-top:.25rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.activity-subtitle[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}"]})}}return r})();var Yt=(()=>{class r{constructor(e){this.httpClient=e,this.apiUrl="https://localhost:7220/api/PropertyNegotiation"}createNegotiation(e,a){let o=new FormData;return o.append("proposalId",e),o.append("senderId",a.senderId),o.append("message",a.message),a.counterOffer!==null&&o.append("counterOffer",a.counterOffer.toString()),a.documents.forEach((c,y)=>{o.append("documents",c),o.append("documentTypes",a.documentTypes[y].toString())}),this.httpClient.post(`${this.apiUrl}/Create`,o,{headers:{Accept:"*/*"}})}prepareDocuments(e){return e.map(a=>({name:a.name,path:URL.createObjectURL(a),type:0}))}getNegotiationsByProposal(e){return this.httpClient.get(`${this.apiUrl}/ByProposal/${e}`)}getDocumentType(e){return{"application/pdf":"PDF","image/jpeg":"Image","image/png":"Image","application/msword":"Document","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"Document"}[e]||"Other"}static{this.\u0275fac=function(a){return new(a||r)(H(U))}}static{this.\u0275prov=G({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function vr(r,d){if(r&1&&(t(0,"option",40),n(1),i()),r&2){let e=d.$implicit;p("value",e),l(),b(" ",e," ")}}function hr(r,d){if(r&1&&(t(0,"label",41),s(1,"input",42),t(2,"div",43)(3,"span",44),n(4),i()()()),r&2){let e=d.$implicit;l(),p("value",e),l(3),u(e)}}function br(r,d){if(r&1&&(t(0,"option",40),n(1),i()),r&2){let e=d.$implicit;p("value",e),l(),u(e)}}var Kt=(()=>{class r{constructor(e,a,o,c,y,A,ae){this.fb=e,this.route=a,this.contractService=o,this.proposalService=c,this.userService=y,this.router=A,this.zone=ae,this.contractTypes=Object.values(Te),this.contractStatuses=Object.values(Pe),this.paymentFrequencies=["Monthly","Quarterly","Semi-Annually","Annually","Single Payment"],this.errorMessage="",this.loggedUserDetails=null,this.userId=""}ngOnInit(){this.initForm(),this.loadUserData(),this.loadProposalData(),this.contractForm.get("value")?.valueChanges.subscribe(e=>{if(e){let a=e*.1;this.contractForm.patchValue({securityDeposit:a},{emitEvent:!1})}})}loadProposalData(){this.proposalService.getProposalById(this.proposalId).subscribe({next:e=>{this.proposal=e,this.contractForm.patchValue({proposalId:e.id,propertyId:e.propertyId,customerId:e.userId,value:e.proposedValue,startDate:e.intendedMoveDate}),console.log("Proposal Data:",e)},error:e=>{this.errorMessage="Failed to load proposal data"}})}loadUserData(){let e=sessionStorage.getItem("loggedUser");if(!e){this.router.navigateByUrl("back-office/dashboard");return}let a=JSON.parse(e);this.userId=a.userId,this.userService.retrieve(this.userId).subscribe({next:o=>{this.zone.run(()=>{this.loggedUserDetails=o,this.contractForm.patchValue({realtorId:this.userId})})},error:o=>{console.error("Erro ao buscar detalhes do usu\xE1rio:",o),this.errorMessage="Falha ao carregar os detalhes do usu\xE1rio"}})}initForm(){this.contractForm=this.fb.group({proposalId:[this.proposalId],propertyId:[""],customerId:[""],realtorId:[this.userId,w.required],startDate:["",w.required],endDate:["",w.required],value:[null,[w.required,w.min(0)]],additionalFees:["",w.required],paymentFrequency:["",w.required],renewalOption:[!1],isActive:[!0],contractType:["",w.required],status:["Pending",w.required],signatureDate:[null,w.required],securityDeposit:[""],insuranceDetails:["This insurance policy covers a wide range of potential damages up to a maximum of $50,000. The coverage includes liability protection, which safeguards against claims of injury and property damage caused to others. Additionally, collision coverage is provided to cover damage to the insured vehicle in the event of an accident, regardless of fault. Comprehensive coverage extends to non-collision incidents such as theft, fire, vandalism, or natural disasters. The policy also includes roadside assistance for emergencies like towing or flat tires. Please carefully review the terms and conditions for any specific exclusions, limitations, or additional coverage options that may apply. Regular premium payments are required to keep the policy active.",w.required],notes:["N/A",w.required]})}onSubmit(){if(!this.contractForm.valid)return;let e=this.contractForm.value,a={proposalId:this.proposalId,propertyId:this.proposal.propertyId,customerId:e.customerId,realtorId:this.userId,startDate:new Date(e.startDate),endDate:new Date(e.endDate),value:Number(e.value),additionalFees:Number(e.additionalFees),paymentFrequency:e.paymentFrequency,renewalOption:!!e.renewalOption,isActive:!0,contractType:e.contractType,status:e.status,signatureDate:new Date(e.signatureDate),securityDeposit:Number(e.securityDeposit),insuranceDetails:e.insuranceDetails,notes:e.notes};this.contractService.createContractFromProposal(a).subscribe({next:o=>{this.router.navigateByUrl("back-office/dashboard/contracts")},error:o=>{this.errorMessage="Failed to create contract"}})}onStartDateChange(e){let a=this.validateDateEvent(e);this.contractForm.patchValue({startDate:a})}onEndDateChange(e){let a=this.validateDateEvent(e);this.contractForm.patchValue({endDate:a})}validateDateEvent(e){return e instanceof Date?e:(console.error("Received invalid date event:",e),new Date)}static{this.\u0275fac=function(a){return new(a||r)(f(Y),f(fe),f(ce),f(_e),f(Z),f(M),f(N))}}static{this.\u0275cmp=k({type:r,selectors:[["app-add-contract-from-proposal"]],inputs:{proposalId:"proposalId"},decls:78,vars:8,consts:[[1,"w-full","bg-gray-900","p-10"],[1,"font-extrabold","text-2xl","bg-clip-text","text-transparent","bg-white","pb-5"],[1,"font-medium","text-sm","bg-clip-text","text-transparent","bg-white"],[1,"p-10",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-2","gap-10","mb-5"],[1,"bg-gray-800/30","p-6","rounded-2xl","border","border-gray-700/30"],[1,"bg-clip-text","bg-gray-600","text-transparent","text-sm","font-medium"],[1,"bg-clip-text","bg-white","text-transparent","text-lg","mt-2"],["formControlName","startDate","label","Start Date",3,"dateChange"],["formControlName","endDate","label","End Date",3,"dateChange"],[1,"flex","gap-10","mb-5","items-stretch","w-full"],[1,"flex-1"],["for","value",1,"block","text-sm","font-medium","bg-clip-text","bg-gray-600","text-transparent","mb-2"],["id","value","type","number","formControlName","value","min","0",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["for","additionalFees",1,"block","text-sm","font-medium","bg-clip-text","bg-gray-600","text-transparent","mb-2"],["id","additionalFees","type","number","formControlName","additionalFees",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["for","paymentFrequency",1,"block","text-sm","font-medium","bg-clip-text","bg-gray-600","text-transparent","mb-2"],["id","paymentFrequency","formControlName","paymentFrequency",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["value","","disabled","","selected","",1,"bg-gray-800","text-gray-600","font-medium"],["class","bg-gray-800",3,"value",4,"ngFor","ngForOf"],[1,"mb-5"],["for","contractType",1,"block","text-sm","font-medium","bg-clip-text","bg-gray-600","text-transparent","mb-2"],[1,"grid","grid-cols-2","gap-10"],["class","flex items-center",4,"ngFor","ngForOf"],["for","renewalOption",1,"block","text-sm","font-medium","bg-clip-text","bg-gray-600","text-transparent","mb-2"],["id","renewalOption","formControlName","renewalOption",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],[1,"bg-gray-800",3,"ngValue"],["for","status",1,"block","text-sm","font-medium","bg-clip-text","bg-gray-600","text-transparent","mb-2"],["formControlName","status","id","status",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["value","",1,"bg-gray-800","text-gray-600"],["formControlName","signatureDate","label","Signature Date"],["for","securityDeposit",1,"block","text-sm","font-medium","bg-clip-text","bg-gray-600","text-transparent","mb-2"],["id","securityDeposit","type","number","formControlName","securityDeposit",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["for","insuranceDetails",1,"block","text-sm","font-medium","bg-clip-text","bg-gray-600","text-transparent","mb-2"],["id","insuranceDetails","rows","5","formControlName","insuranceDetails",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["for","notes",1,"block","text-sm","font-medium","bg-clip-text","bg-gray-600","text-transparent","mb-2"],["id","notes","formControlName","notes",1,"block","w-full","appearance-none","rounded-xl","border","border-gray-700/30","bg-gray-800/30","px-6","py-3","text-gray-300","placeholder:text-gray-400","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm"],["type","submit",1,"w-full","bg-blue-500","rounded-xl","py-4","px-4","flex","items-center","justify-center"],[1,"bg-clip-text","text-transparent","text-sm","font-semibold","bg-white"],[1,"text-center","bg-clip-text","text-transparent","text-xs","font-semibold","bg-gray-500","mt-5"],[1,"bg-gray-800",3,"value"],[1,"flex","items-center"],["type","radio","formControlName","contractType",1,"sr-only","peer",3,"value"],[1,"flex","items-center","justify-center","w-full","h-24","rounded-xl","cursor-pointer","text-gray-700","bg-transparent","border-2","border-dashed","border-gray-700","peer-checked:bg-blue-600","peer-checked:text-white","peer-checked:border-blue-600","transition","duration-200"],[1,"font-semibold","text-base","bg-clip-text","text-transparent","bg-white"]],template:function(a,o){a&1&&(t(0,"div",0)(1,"h1",1),n(2,"Add Contract"),i(),t(3,"p",2),n(4," As a Realtor, you have the authority to add a new contract. Please complete the form below with all the necessary information. Ensure that all details are accurate to facilitate a smooth processing of the contract. If you require assistance, feel free to contact support. "),i()(),t(5,"form",3),h("ngSubmit",function(){return o.onSubmit()}),t(6,"div",4)(7,"div",5)(8,"label",6),n(9,"Property"),i(),t(10,"div",7),n(11),i()(),t(12,"div",5)(13,"label",6),n(14,"Customer"),i(),t(15,"div",7),n(16),i()()(),t(17,"div",4)(18,"app-datepicker",8),h("dateChange",function(y){return o.onStartDateChange(y)}),i(),t(19,"app-datepicker",9),h("dateChange",function(y){return o.onEndDateChange(y)}),i()(),t(20,"div",10)(21,"div",11)(22,"label",12),n(23,"Property Price"),i(),s(24,"input",13),i(),t(25,"div",11)(26,"label",14),n(27,"Additional Fees"),i(),s(28,"input",15),i(),t(29,"div",11)(30,"label",16),n(31,"Payment Frequency"),i(),t(32,"select",17)(33,"option",18),n(34,"Select a frequency"),i(),g(35,vr,2,2,"option",19),i()()(),t(36,"div",20)(37,"label",21),n(38,"Contract Type"),i(),t(39,"div",22),g(40,hr,5,2,"label",23),i()(),t(41,"div",10)(42,"div",11)(43,"label",24),n(44,"Renewal Option"),i(),t(45,"select",25)(46,"option",26),n(47,"Automatic"),i(),t(48,"option",26),n(49,"Manual"),i()()(),t(50,"div",11)(51,"label",27),n(52,"Status"),i(),t(53,"select",28)(54,"option",29),n(55,"Select status"),i(),g(56,br,2,2,"option",19),i()(),t(57,"div",11),s(58,"app-datepicker",30),i(),t(59,"div",11)(60,"label",31),n(61,"Security Deposit"),i(),s(62,"input",32),i()(),t(63,"div",20)(64,"label",33),n(65,"Insurance Details"),i(),s(66,"textarea",34),i(),t(67,"div",20)(68,"label",35),n(69,"Notes"),i(),s(70,"textarea",36),i(),t(71,"button",37)(72,"span",38),n(73,"Submit Contract"),i()(),t(74,"h4",39),n(75," By creating this contract, you confirm all details are accurate"),s(76,"br"),n(77," and comply with our legal requirements and terms of service. "),i()()),a&2&&(l(5),p("formGroup",o.contractForm),l(6),u(o.proposal==null?null:o.proposal.propertyTitle),l(5),u(o.proposal==null?null:o.proposal.userName),l(19),p("ngForOf",o.paymentFrequencies),l(5),p("ngForOf",o.contractTypes),l(6),p("ngValue",!0),l(2),p("ngValue",!1),l(8),p("ngForOf",o.contractStatuses))},dependencies:[D,Q,re,oe,O,ie,ne,je,B,q,Le,J,W,Oe],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();var wr=r=>({"ml-auto":r});function Sr(r,d){if(r&1&&(t(0,"div",35)(1,"div",36),s(2,"div",37),i(),t(3,"p",38),n(4),i(),t(5,"p",39),n(6),C(7,"date"),i(),t(8,"p",40),n(9),i()()),r&2){let e=d.$implicit,a=x();l(2),p("innerHTML",a.timelineIcons[e.icon],lt),l(2),u(e.title),l(2),u(I(7,4,e.date,"short")),l(3),u(e.description)}}function _r(r,d){if(r&1&&(t(0,"div",53)(1,"p",54),n(2,"Counter Offer:"),i(),t(3,"p",55),n(4),C(5,"currency"),i()()),r&2){let e=x().$implicit;l(4),b(" ",V(5,1,e.counterOffer)," ")}}function Cr(r,d){if(r&1&&(t(0,"div",59),m(),t(1,"svg",60),s(2,"path",61),i(),v(),t(3,"span",62),n(4),i()()),r&2){let e=d.$implicit;l(4),u(e.name)}}function Er(r,d){if(r&1&&(t(0,"div",56)(1,"div",57),g(2,Cr,5,1,"div",58),i()()),r&2){let e=x().$implicit;l(2),p("ngForOf",e.documents)}}function kr(r,d){if(r&1){let e=E();t(0,"div",63)(1,"button",64),h("click",function(){S(e);let o=x().$implicit,c=x();return _(c.rejectProposal(o.id))}),t(2,"span",65),n(3,"Reject Proposal"),i()(),t(4,"button",66),h("click",function(){S(e);let o=x().$implicit,c=x();return _(c.acceptProposal(o.id))}),t(5,"span",65),n(6,"Accept Proposal"),i()()()}}function Ir(r,d){if(r&1&&(t(0,"div",41)(1,"div",42)(2,"div",43)(3,"div",44),s(4,"img",45),t(5,"div",46)(6,"span",38),n(7),i(),t(8,"span",47),n(9),i()()(),t(10,"div",48)(11,"p",49),n(12),i()()(),g(13,_r,6,3,"div",50)(14,Er,3,1,"div",51)(15,kr,7,0,"div",52),i()()),r&2){let e=d.$implicit,a=x();p("ngClass",xt(14,wr,e.senderId===a.currentUserId)),l(),pe("bg-blue-500",e.senderId===a.currentUserId)("bg-gray-700",e.senderId!==a.currentUserId),l(3),p("src",e.sender.imageUrl||"assets/default-avatar.png",P)("alt",e.sender.firstName),l(3),j(" ",e.sender.firstName," ",e.sender.lastName," "),l(2),u(a.getAccessDisplayName(e.sender.access)),l(3),u(e.message),l(),p("ngIf",e.counterOffer),l(),p("ngIf",e.documents==null?null:e.documents.length),l(),p("ngIf",a.canShowActionButtons()&&e.senderId!==a.currentUserId)}}function Mr(r,d){r&1&&(t(0,"div",67)(1,"div",68)(2,"div",44),m(),t(3,"svg",23),s(4,"path",69),i(),v(),t(5,"span"),n(6,"Proposal has been accepted and completed"),i()()()())}function Tr(r,d){if(r&1){let e=E();t(0,"div",70)(1,"button",71),h("click",function(){S(e);let o=x();return _(o.openContractModal())}),m(),t(2,"svg",72),s(3,"path",61),i(),v(),t(4,"span",73),n(5,"Create Contract"),i()()()}}function Pr(r,d){if(r&1&&(t(0,"div",75)(1,"div",76),m(),t(2,"svg",77),s(3,"path",78),i(),v(),t(4,"div")(5,"p",79),n(6),i(),t(7,"p",80),n(8),i()()(),t(9,"span",81),n(10),i()()),r&2){let e=d.$implicit,a=x(2);l(6),u(e.name),l(2),u(a.getDocumentTypeName(e.type)),l(),p("ngClass",a.getStatusClass()),l(),b(" ",e.status," ")}}function Dr(r,d){if(r&1&&(t(0,"div"),g(1,Pr,11,4,"div",74),i()),r&2){let e=d.$implicit;l(),p("ngForOf",e.documents)}}function Fr(r,d){r&1&&(m(),t(0,"svg",84),s(1,"path",69),i())}function Ar(r,d){r&1&&(m(),t(0,"svg",84),s(1,"path",85),i())}function Vr(r,d){if(r&1&&(t(0,"div",82)(1,"div",44),g(2,Fr,2,0,"svg",83)(3,Ar,2,0,"svg",83),t(4,"span",73),n(5),i()()()),r&2){let e=x();p("ngClass",e.notification.type==="success"?"bg-green-500":"bg-red-500"),l(2),p("ngIf",e.notification.type==="success"),l(),p("ngIf",e.notification.type==="error"),l(2),u(e.notification.message)}}function Nr(r,d){if(r&1){let e=E();t(0,"div",86)(1,"div",87)(2,"app-add-contract-from-proposal",88),h("close",function(){S(e);let o=x();return _(o.closeContractModal())}),i(),t(3,"button",89),h("click",function(){S(e);let o=x();return _(o.closeContractModal())}),m(),t(4,"svg",90),s(5,"path",91),i()()()()}if(r&2){let e=x();l(2),p("proposalId",e.proposal.id)}}var Xt=(()=>{class r{getDocumentTypeName(e){return{Contract:"Contract",Identification:"Identification",ProofOfIncome:"Proof of Income",BankStatement:"Bank Statement",PropertyDocument:"Property Document",Other:"Other"}[e]||"Unknown Document"}constructor(e,a,o,c,y,A,ae,ee){this.fb=e,this.proposalService=a,this.route=o,this.authService=c,this.propertyNegotiationService=y,this.userService=A,this.router=ae,this.sanitizer=ee,this.proposal={},this.loggedUserDetails={},this.currentUserId="",this.proposalTimeline=[],this.negotiations=[],this.timelineIcons={},this.showContractModal=!1,this.notification=null,this.statusClasses={Pending:"bg-yellow-100 text-yellow-800",UnderAnalysis:"bg-orange-100 text-orange-800",InNegotiation:"bg-blue-100 text-blue-800",Approved:"bg-green-100 text-green-800",Rejected:"bg-red-100 text-red-800",Cancelled:"bg-gray-100 text-gray-800",Completed:"bg-purple-100 text-purple-800"},this.purchasePaymentMethods=[{id:"bank_transfer",name:"Bank Transfer"},{id:"bank_financing",name:"Bank Financing"},{id:"installments",name:"Installments"},{id:"credit_card",name:"Credit Card"}],this.rentalPaymentMethods=[{id:"bank_transfer",name:"Bank Transfer"},{id:"credit_card",name:"Credit Card"},{id:"direct_debit",name:"Direct Debit"}],this.accessDisplayNames={UnassignedAccount:"Unassigned Account",GuestVisitor:"Guest Visitor",RegisteredClient:"Registered Client",LicensedAgent:"Licensed Agent",SystemAdministrator:"System Administrator",SuspendedUser:"Suspended User"},this.negotiationForm=this.fb.group({proposalId:[""],senderId:[""],message:["",w.required],counterOffer:[null,[w.min(0)]],documents:[[]]}),this.replyForm=this.fb.group({proposalId:[""],senderId:[""],message:["",w.required],counterOffer:[null,[w.min(0)]],documents:[[]]})}ngOnInit(){this.currentUserId=this.authService.getLoggedUser().userId,this.userService.retrieve(this.currentUserId).subscribe({next:e=>{this.loggedUserDetails=e,this.loadProposal(),this.loadNegotiations()}}),this.loadProposal(),this.loadNegotiations(),this.initializeIcons()}loadProposal(){this.route.params.pipe(rt(e=>this.proposalService.getProposalById(e.id))).subscribe({next:e=>{this.proposal=e,this.generateTimeline()},error:e=>{console.error("Error loading proposal:",e)}})}loadNegotiations(){this.route.params.subscribe(e=>{let a=e.id;this.propertyNegotiationService.getNegotiationsByProposal(a).subscribe({next:o=>{this.negotiations=o,console.log(o),this.generateTimeline()},error:o=>{console.error("Error loading negotiations:",o)}})})}generateTimeline(){this.proposal&&(this.proposalTimeline=[{date:new Date(this.proposal.createdAt),title:"Proposal Created",description:`Proposal ${this.proposal.proposalNumber} created by ${this.proposal.userName}`,type:"status",status:"created",icon:"document-add"}],this.proposal.status==="UnderAnalysis"&&this.proposalTimeline.push({date:new Date(this.proposal.updatedAt),title:"Under Analysis",description:"Proposal is being analyzed by the agent",type:"status",status:"analysis",icon:"search"}),this.proposal.status==="InNegotiation"&&this.proposalTimeline.push({date:new Date(this.proposal.updatedAt),title:"Negotiation Started",description:"Proposal entered negotiation phase",type:"status",status:"negotiation",icon:"currency-dollar"}),this.negotiations.forEach(e=>{this.proposalTimeline.push({date:new Date(e.createdAt),title:"New Negotiation",description:e.message,type:"negotiation",icon:"chat",counterOffer:e.counterOffer})}),this.proposal.documents?.forEach(e=>{this.proposalTimeline.push({date:new Date(e.createdAt||Date.now()),title:"Document Attached",description:e.documentName,type:"document",icon:"document"})}),(this.proposal.status==="Approved"||this.proposal.status==="Completed")&&this.proposalTimeline.push({date:new Date(this.proposal.updatedAt),title:"Proposal Approved",description:"Proposal has been approved by all parties",type:"status",status:"approved",icon:"check-circle"}),this.proposal.status==="Completed"&&this.proposalTimeline.push({date:new Date(this.proposal.updatedAt),title:"Negotiation Completed",description:"Negotiation process has been successfully completed",type:"status",status:"completed",icon:"check-circle"}),this.proposal.status==="Rejected"&&this.proposalTimeline.push({date:new Date(this.proposal.updatedAt),title:"Proposal Rejected",description:"Proposal was rejected",type:"status",status:"rejected",icon:"x-circle"}),this.proposal.status==="Cancelled"&&this.proposalTimeline.push({date:new Date(this.proposal.updatedAt),title:"Proposal Cancelled",description:"Proposal was cancelled",type:"status",status:"cancelled",icon:"ban"}),this.proposalTimeline=this.proposalTimeline.map(e=>De(ve({},e),{date:e.date?new Date(e.date):new Date})).filter(e=>!isNaN(e.date.getTime())),this.proposalTimeline.sort((e,a)=>a.date.getTime()-e.date.getTime()))}initializeIcons(){let e={"document-add":`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
</svg>
`,search:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
  <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
</svg>
`,"currency-dollar":`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
</svg>
`,chat:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
  <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z" />
</svg>`,document:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
</svg>
`,"check-circle":`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
</svg>
`,"x-circle":`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
  <path stroke-linecap="round" stroke-linejoin="round" d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
</svg>
`,ban:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
  <path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636" />
</svg>`};Object.keys(e).forEach(a=>{this.timelineIcons[a]=this.sanitizer.bypassSecurityTrustHtml(e[a])})}submitReply(){if(this.replyForm.valid&&this.proposal){let e=this.replyForm.get("documents")?.value||[],a=e.length>0?e.map(c=>this.getDocumentType(c.type)):[],o={proposalId:this.proposal.id,senderId:this.currentUserId,message:this.replyForm.get("message")?.value,counterOffer:this.replyForm.get("counterOffer")?.value,documents:e,documentTypes:a};this.propertyNegotiationService.createNegotiation(this.proposal.id,o).subscribe({next:c=>{this.loadProposal(),this.loadNegotiations(),this.replyForm.reset()},error:c=>{console.error("Error submitting reply:",c),this.notification={type:"error",message:"Failed to submit reply. Please try again."}}})}}getDocumentType(e){return{"application/pdf":0,"image/jpeg":1,"image/png":1,"application/msword":2,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":2}[e]||3}canShowActionButtons(){let e=this.loggedUserDetails?.access==="LicensedAgent",a=["Pending","Negotiating"].includes(this.proposal?.status),o=this.proposal?.userId===this.loggedUserDetails?.id;return a&&(e||o)}showStatusMessage(e){let a={Approved:"Proposal has been approved! The agent will prepare the contract.",Rejected:"Proposal has been rejected."};this.notification={type:e==="Approved"?"success":"error",message:a[e]},setTimeout(()=>{this.notification=null},5e3)}acceptProposal(e){this.proposalService.acceptProposal(this.proposal.id,e).subscribe({next:()=>{this.loadProposal(),this.showStatusMessage("Approved")}})}rejectProposal(e){this.proposalService.rejectProposal(this.proposal.id,e).subscribe({next:()=>{this.loadProposal(),this.showStatusMessage("Rejected")}})}canCreateContract(){return this.proposal.status==="Approved"&&this.loggedUserDetails?.access==="LicensedAgent"}openContractModal(){this.showContractModal=!0}closeContractModal(){this.showContractModal=!1}onFileSelect(e){let o=e.target.files;if(o){let c=Array.from(o);this.negotiationForm.patchValue({documents:c}),this.replyForm.patchValue({documents:c})}}getStatusClass(){if(!this.proposal?.status)return"";let e="px-3 py-1 rounded-full text-sm",a=this.statusClasses[this.proposal.status]||"bg-gray-100 text-gray-800";return`${e} ${a}`}getPaymentMethodName(e){let o=[...this.purchasePaymentMethods,...this.rentalPaymentMethods].find(c=>c.id===e);return o?o.name:e}isCurrentUserSender(e){return e===this.currentUserId}formatCurrency(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}getAccessDisplayName(e){return this.accessDisplayNames[e]||e}static{this.\u0275fac=function(a){return new(a||r)(f(Y),f(_e),f(fe),f(de),f(Yt),f(Z),f(M),f(wt))}}static{this.\u0275cmp=k({type:r,selectors:[["app-proposal-detail"]],decls:66,vars:28,consts:[["fileInput",""],[1,"flex","flex-col","font-inter","ml-64","px-10","min-h-screen","mb-20"],[1,"bg-gray-800/30","backdrop-blur-xl","rounded-3xl","p-8","mb-6"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-white","mb-2"],[1,"text-gray-400"],[1,"px-4","py-2","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-3","space-y-6"],[1,"bg-gray-800/30","backdrop-blur-xl","rounded-3xl","p-10"],[1,"text-2xl","font-extrabold","mb-5","bg-clip-text","text-transparent","bg-white"],[1,""],["class","relative pb-8 border-l border-gray-800/50 pl-8",4,"ngFor","ngForOf"],[1,"col-span-6","bg-gray-800/30","backdrop-blur-xl","rounded-3xl","p-10"],[1,"space-y-4","max-h-[600px]","mb-6","overflow-y-auto","[&::-webkit-scrollbar]:w-1.5","[&::-webkit-scrollbar]:bg-transparent","[&::-webkit-scrollbar-track]:rounded-full","[&::-webkit-scrollbar-thumb]:rounded-full","[&::-webkit-scrollbar-track]:bg-gray-800/30","[&::-webkit-scrollbar-thumb]:bg-gray-600","hover:[&::-webkit-scrollbar-thumb]:bg-gray-500"],["class","max-w-[80%] pr-2",3,"ngClass",4,"ngFor","ngForOf"],["class","flex justify-center my-4",4,"ngIf"],["class","flex justify-center mt-4",4,"ngIf"],["enctype","multipart/form-data",1,"space-y-4",3,"ngSubmit","formGroup"],["formControlName","message","rows","3","placeholder","Type your message...",1,"w-full","px-4","py-3","rounded-lg","bg-gray-700/30","border-0","text-white","placeholder-gray-400","focus:ring-2","focus:ring-blue-500"],[1,"flex","gap-4"],["type","number","formControlName","counterOffer","placeholder","Counter offer amount (optional)",1,"flex-1","px-4","py-2","rounded-lg","bg-gray-700/30","border-0","text-white","placeholder-gray-400","focus:ring-2","focus:ring-blue-500"],["type","button",1,"px-4","py-2","bg-gray-700/30","rounded-lg","text-gray-200","hover:bg-gray-600/30",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"],["type","submit",1,"px-6","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","disabled:opacity-50",3,"disabled"],["type","file","multiple","",1,"hidden",3,"change"],[1,"space-y-4"],[1,"text-gray-400","text-sm"],[1,"text-2xl","font-bold","text-white"],[1,"text-lg","text-white"],[1,"space-y-3"],[4,"ngFor","ngForOf"],["class","fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 ease-in-out",3,"ngClass",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50","style","position: fixed; top: 0; left: 0; right: 0; bottom: 0",4,"ngIf"],[1,"relative","pb-8","border-l","border-gray-800/50","pl-8"],[1,"absolute","-left-4","top-1.5","bg-gray-900","rounded-full","p-1","flex","items-center","justify-center","w-8","h-8"],[1,"text-blue-500",3,"innerHTML"],[1,"font-bold","bg-clip-text","text-transparent","bg-white"],[1,"font-semibold","text-xs","bg-clip-text","text-transparent","bg-gray-400","mb-2"],[1,"text-sm","bg-clip-text","text-transparent","bg-gray-300","line-clamp-2"],[1,"max-w-[80%]","pr-2",3,"ngClass"],[1,"rounded-xl","p-5"],[1,"flex","flex-col","items-start","gap-3"],[1,"flex","items-center","gap-2"],[1,"size-10","rounded-full","object-cover",3,"src","alt"],[1,"flex","flex-col"],[1,"font-semibold","bg-clip-text","text-transparent","bg-white","text-xs"],[1,"flex-1"],[1,"font-medium","text-sm","bg-clip-text","text-transparent","bg-white","whitespace-pre-line"],["class","mt-2 p-3 bg-gray-700/30 rounded-lg",4,"ngIf"],["class","mt-3",4,"ngIf"],["class","flex gap-4 mt-5",4,"ngIf"],[1,"mt-2","p-3","bg-gray-700/30","rounded-lg"],[1,"font-medium","text-xs","bg-clip-text","text-transparent","bg-white","mb-2"],[1,"text-xl","font-bold","text-white"],[1,"mt-3"],[1,"flex","flex-wrap","gap-2"],["class","flex items-center bg-gray-700/30 px-3 py-2 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","bg-gray-700/30","px-3","py-2","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"],[1,"ml-2","text-sm","text-gray-200"],[1,"flex","gap-4","mt-5"],[1,"flex-1","px-6","py-3","items-center","justify-center","bg-gray-600","rounded-xl","hover:bg-red-500",3,"click"],[1,"text-sm","font-medium","bg-white","bg-clip-text","text-transparent"],[1,"flex-1","px-6","py-3","items-center","justify-center","bg-green-600","rounded-xl","hover:bg-green-700",3,"click"],[1,"flex","justify-center","my-4"],[1,"bg-green-500/20","text-green-400","px-6","py-3","rounded-lg","text-sm","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"flex","justify-center","mt-4"],[1,"flex","items-center","gap-2","px-6","py-3","bg-blue-600","hover:bg-blue-700","rounded-xl","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","text-white"],[1,"text-white","font-medium"],["class","flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-3","bg-gray-700/30","rounded-lg"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-3","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"font-medium","text-white"],[1,"text-sm","text-gray-400"],[1,"px-3","py-1","rounded-full","text-sm",3,"ngClass"],[1,"fixed","top-4","right-4","z-50","p-4","rounded-lg","shadow-lg","transition-all","duration-300","ease-in-out",3,"ngClass"],["class","w-5 h-5 text-white","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50",2,"position","fixed","top","0","left","0","right","0","bottom","0"],[1,"bg-gray-900","relative","rounded-xl","p-10","w-4/5","max-h-[90vh]","overflow-y-auto","[&::-webkit-scrollbar]:w-1.5","[&::-webkit-scrollbar]:bg-transparent","[&::-webkit-scrollbar-track]:rounded-full","[&::-webkit-scrollbar-thumb]:rounded-full","[&::-webkit-scrollbar-track]:bg-gray-800/30","[&::-webkit-scrollbar-thumb]:bg-gray-600","hover:[&::-webkit-scrollbar-thumb]:bg-gray-500"],[3,"close","proposalId"],[1,"absolute","top-3","right-3","text-gray-600","rounded-full","p-3","hover:text-red-600","transition-all","duration-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"]],template:function(a,o){if(a&1){let c=E();t(0,"section",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),n(5),i(),t(6,"p",5),n(7),C(8,"date"),i()(),t(9,"span",6),n(10),i()()(),t(11,"div",7)(12,"div",8)(13,"div",9)(14,"h2",10),n(15,"Timeline"),i(),t(16,"div",11),g(17,Sr,10,7,"div",12),i()()(),t(18,"div",13)(19,"h2",10),n(20,"Chat"),i(),t(21,"div",14),g(22,Ir,16,16,"div",15)(23,Mr,7,0,"div",16)(24,Tr,6,0,"div",17),i(),t(25,"form",18),h("ngSubmit",function(){return S(c),_(o.submitReply())}),t(26,"textarea",19),n(27,"        "),i(),t(28,"div",20),s(29,"input",21),t(30,"button",22),h("click",function(){S(c);let A=z(36);return _(A.click())}),m(),t(31,"svg",23),s(32,"path",24),i()(),v(),t(33,"button",25),n(34,"Send"),i()(),t(35,"input",26,0),h("change",function(A){return S(c),_(o.onFileSelect(A))}),i()()(),t(37,"div",8)(38,"div",9)(39,"h2",10),n(40,"Current Offer"),i(),t(41,"div",27)(42,"div")(43,"span",28),n(44,"Proposed Value"),i(),t(45,"p",29),n(46),C(47,"currency"),i()(),t(48,"div")(49,"span",28),n(50,"Payment Method"),i(),t(51,"p",30),n(52),i()(),t(53,"div")(54,"span",28),n(55,"Move-in Date"),i(),t(56,"p",30),n(57),C(58,"date"),i()()()(),t(59,"div",9)(60,"h2",10),n(61,"Documents"),i(),t(62,"div",31),g(63,Dr,2,1,"div",32),i()()()()(),g(64,Vr,6,4,"div",33)(65,Nr,6,1,"div",34)}a&2&&(l(5),u(o.proposal.proposalNumber),l(2),b("Created on ",I(8,20,o.proposal.createdAt,"shortDate"),""),l(2),p("ngClass",o.getStatusClass()),l(),b(" ",o.proposal.status," "),l(7),p("ngForOf",o.proposalTimeline),l(5),p("ngForOf",o.negotiations),l(),p("ngIf",(o.proposal==null?null:o.proposal.status)==="Approved"||o.proposal.status==="Completed"),l(),p("ngIf",o.canCreateContract()),l(),pe("opacity-50",o.proposal.status==="Approved"||o.proposal.status==="Completed")("pointer-events-none",o.proposal.status==="Approved"||o.proposal.status==="Completed"),p("formGroup",o.replyForm),l(8),p("disabled",!o.replyForm.valid),l(13),u(V(47,23,o.proposal.proposedValue)),l(6),u(o.getPaymentMethodName(o.proposal.paymentMethod)),l(5),u(I(58,25,o.proposal.intendedMoveDate,"shortDate")),l(6),p("ngForOf",o.negotiations),l(),p("ngIf",o.notification),l(),p("ngIf",o.showContractModal))},dependencies:[le,D,F,Q,O,ie,B,q,J,W,Kt,se,L],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();function jr(r,d){if(r&1&&s(0,"img",50),r&2){let e=x().$implicit;p("src",e.images[0].imagePath,P)}}function Lr(r,d){r&1&&(t(0,"div",51)(1,"span",5),n(2,"No image available"),i()())}function Ur(r,d){if(r&1){let e=E();t(0,"div",24)(1,"div",25),g(2,jr,1,1,"img",26)(3,Lr,3,0,"ng-template",null,0,K),s(5,"div",27),t(6,"div",28)(7,"span",29),n(8," Active "),i()()(),t(9,"div",30)(10,"div",31)(11,"h3",32),n(12),C(13,"currency"),i()(),t(14,"h4",33),n(15),i(),t(16,"p",34),n(17),i(),t(18,"div",35)(19,"div",36)(20,"span",37),n(21,"Bedrooms"),i(),t(22,"span",38),n(23),i()(),t(24,"div",36)(25,"span",37),n(26,"Bathrooms"),i(),t(27,"span",38),n(28),i()(),t(29,"div",36)(30,"span",37),n(31,"Area"),i(),t(32,"span",38),n(33),i()()(),t(34,"div",39)(35,"div")(36,"a",40),n(37," Having trouble with this property?"),i()(),t(38,"div",41)(39,"button",42),h("click",function(){let o=S(e).$implicit,c=x();return _(c.deactivateProperty(o.id))}),m(),t(40,"svg",43),s(41,"path",44),i()(),v(),t(42,"button",45),h("click",function(){let o=S(e).$implicit,c=x();return _(c.editProperty(o.id))}),m(),t(43,"svg",43),s(44,"path",46),i()(),v(),t(45,"button",47),h("click",function(){let o=S(e).$implicit,c=x();return _(c.navigateToProperty(o.id))}),m(),t(46,"svg",43),s(47,"path",48)(48,"path",49),i()()()()()()}if(r&2){let e=d.$implicit,a=z(4);l(2),p("ngIf",e.images&&e.images.length>0)("ngIfElse",a),l(10),u(V(13,10,e.price)),l(3),u(e.title),l(2),u(e.description),l(6),u(e.bedrooms),l(5),u(e.bathrooms),l(5),b("",e.size," sqft"),l(3),pt("href","/support/",e.id,"",P)}}var ei=(()=>{class r{deactivateProperty(e){throw new Error("Method not implemented.")}editProperty(e){throw new Error("Method not implemented.")}viewProperty(e){throw new Error("Method not implemented.")}constructor(e,a,o){this.propertyService=e,this.router=a,this.zone=o,this.properties=[],this.errorMessage=""}ngOnInit(){this.propertyService.retrieveAll().subscribe({next:e=>{this.zone.run(()=>{e&&e.properties?(this.properties=e.properties,console.log(this.properties)):(console.error("Resposta inv\xE1lida do servidor"),this.errorMessage="Dados de im\xF3veis inv\xE1lidos")})},error:e=>{console.error("Erro ao buscar im\xF3veis:",e),this.errorMessage="Falha ao carregar im\xF3veis"}})}navigateToProperty(e){this.router.navigate([`/property/${e}`])}static{this.\u0275fac=function(a){return new(a||r)(f(xe),f(M),f(N))}}static{this.\u0275cmp=k({type:r,selectors:[["app-dash-properties"]],decls:34,vars:2,consts:[["noImage",""],[1,"flex","flex-col","font-inter","ml-64","px-10","min-h-screen","bg-gray-950","mb-20"],[1,"flex","flex-col","flex-grow"],[1,"flex","justify-between","items-center","mb-10"],[1,"font-extrabold","text-4xl","bg-clip-text","text-transparent","bg-gradient-to-r","from-white","to-gray-400","mb-2"],[1,"text-gray-400"],[1,"flex","gap-4"],[1,"btn-secondary","btn-auto","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"],[1,"btn-text"],[1,"btn-primary","btn-auto","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"size-5","text-white"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"grid","grid-cols-4","gap-6","mb-10"],[1,"bg-gray-800/30","backdrop-blur-xl","rounded-3xl","p-8","relative","overflow-hidden","group","hover:transform","hover:scale-[1.02]","transition-all","duration-300"],[1,"absolute","inset-0","bg-gradient-to-br","from-blue-500/5","to-transparent","group-hover:from-blue-500/10"],[1,"relative","z-10"],[1,"text-3xl","font-bold","text-white","mt-2"],[1,"flex","items-center","gap-2","mt-4"],[1,"text-green-400","text-sm"],[1,"text-gray-500","text-sm"],[1,"grid","grid-cols-3","gap-5"],["class","group relative bg-gray-800/30 backdrop-blur-xl rounded-3xl overflow-hidden",4,"ngFor","ngForOf"],[1,"group","relative","bg-gray-800/30","backdrop-blur-xl","rounded-3xl","overflow-hidden"],[1,"relative","aspect-video"],["class","w-full h-full object-cover transition-transform duration-500","alt","Property",3,"src",4,"ngIf","ngIfElse"],[1,"absolute","inset-0","bg-gradient-to-t","from-gray-900","via-gray-900/50","to-transparent","opacity-60"],[1,"absolute","top-4","right-4"],[1,"px-3","py-1","rounded-full","text-xs","font-medium","bg-green-500/20","text-green-400"],[1,"p-5"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-3xl","font-black","bg-clip-text","text-transparent","bg-white"],[1,"text-xl","font-semibold","mb-2","bg-clip-text","text-transparent","bg-white"],[1,"bg-clip-text","text-transparent","bg-gray-400","text-sm","line-clamp-2","mb-5"],[1,"grid","grid-cols-3","gap-4","py-5","border-t","border-gray-800"],[1,"text-center"],[1,"block","bg-clip-text","text-transparent","bg-gray-400","text-xs","mb-1","font-semibold"],[1,"bg-clip-text","text-transparent","bg-white","font-semibold"],[1,"flex","justify-between","items-center","mt-6"],[1,"bg-clip-text","text-transparent","bg-gray-400","text-xs","font-semibold","hover:bg-blue-400",3,"href"],[1,"flex","gap-5","items-center"],[1,"p-2","rounded-xl","bg-red-500/10","text-red-400","hover:bg-red-500/20","transition-all","duration-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"p-2","rounded-xl","bg-amber-500/10","text-amber-400","hover:bg-amber-500/20","transition-all","duration-300",3,"click"],["d","M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"],[1,"p-2","rounded-xl","bg-blue-500/10","text-blue-400","hover:bg-blue-500/20","transition-all","duration-300",3,"click"],["d","M10 12a2 2 0 100-4 2 2 0 000 4z"],["fill-rule","evenodd","d","M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule","evenodd"],["alt","Property",1,"w-full","h-full","object-cover","transition-transform","duration-500",3,"src"],[1,"h-full","bg-gray-800","flex","items-center","justify-center"]],template:function(a,o){a&1&&(t(0,"section",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h3",4),n(5,"Active Properties"),i(),t(6,"p",5),n(7,"Manage your real estate portfolio"),i()(),t(8,"div",6)(9,"button",7),m(),t(10,"svg",8),s(11,"path",9),i(),v(),t(12,"span",10),n(13,"Filter"),i()(),t(14,"button",11),m(),t(15,"svg",12),s(16,"path",13),i(),v(),t(17,"span",10),n(18,"Add Property"),i()()()(),t(19,"div",14)(20,"div",15),s(21,"div",16),t(22,"div",17)(23,"span",5),n(24,"Total Properties"),i(),t(25,"h4",18),n(26),i(),t(27,"div",19)(28,"span",20),n(29,"\u2191 12%"),i(),t(30,"span",21),n(31,"vs last month"),i()()()()(),t(32,"div",22),g(33,Ur,49,12,"div",23),i()()()),a&2&&(l(26),u(o.properties.length),l(7),p("ngForOf",o.properties))},dependencies:[D,F,se],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();function Or(r,d){if(r&1){let e=E();t(0,"div",27)(1,"div",36)(2,"div",37)(3,"div",38),s(4,"img",39),i(),t(5,"div")(6,"h4",40),n(7),i(),t(8,"p",41),n(9),i()(),t(10,"div",42)(11,"span",43),n(12),i()()(),t(13,"div",44)(14,"div")(15,"span",45),n(16,"Email"),i(),t(17,"span",46),n(18),i()(),t(19,"div")(20,"span",45),n(21,"Phone"),i(),t(22,"span",47),n(23),i()(),t(24,"div")(25,"span",45),n(26,"Birth Date"),i(),t(27,"span",47),n(28),C(29,"date"),i()(),t(30,"div")(31,"span",45),n(32,"Last Active"),i(),t(33,"span",47),n(34),C(35,"date"),i()()(),t(36,"div",48),s(37,"div"),t(38,"div",49)(39,"button",50),m(),t(40,"svg",31),s(41,"path",51),i()(),v(),t(42,"button",52),m(),t(43,"svg",31),s(44,"path",53),i()(),v(),t(45,"button",54),h("click",function(){let o=S(e).$implicit,c=x();return _(c.navigateToProfile(o.id))}),m(),t(46,"svg",31),s(47,"path",55)(48,"path",56),i()()()()()()}if(r&2){let e=d.$implicit;l(4),p("src",e.imageUrl||"https://avatar.iran.liara.run/public",P),l(3),j("",e.firstName," ",e.lastName,""),l(2),u(e.access),l(2),p("ngClass",e.isActive?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),l(),b(" ",e.isActive?"Active":"Inactive"," "),l(6),u(e.email),l(5),u(e.phoneNumber||"N/A"),l(5),u(I(29,10,e.dateOfBirth,"mediumDate")),l(6),u(I(35,13,e.lastActiveDate,"mediumDate"))}}var ti=(()=>{class r{constructor(e,a,o){this.userService=e,this.authService=a,this.router=o,this.users=[],this.loggedUserDetails=null}ngOnInit(){this.userService.retrieveAll().subscribe({next:e=>{this.users=e,console.log("Users loaded successfully:",this.users.length)},error:e=>{console.error("Error fetching users:",e)}}),this.loggedUserDetails=this.authService.getLoggedUser()}isAdmin(){return this.loggedUserDetails?.access==="SystemAdministrator"}getActiveUsersCount(){return this.users.filter(e=>e.isActive).length}getRealtorsCount(){return this.users.filter(e=>e.access=="LicensedAgent").length}getsSuspendedUserCount(){return this.users.filter(e=>e.access=="SuspendedUser").length}handleUserOperation(e,a){switch(a){case"edit":this.editUser(e);break;case"delete":this.deleteUser(e);break}}navigateToProfile(e){this.router.navigate(["/profile/",e])}editUser(e){}deleteUser(e){}static{this.\u0275fac=function(a){return new(a||r)(f(Z),f(de),f(M))}}static{this.\u0275cmp=k({type:r,selectors:[["app-user-administration"]],decls:84,vars:4,consts:[[1,"flex","flex-col","font-inter","ml-64","px-10","min-h-screen","bg-gray-950","mb-20"],[1,"flex","flex-col","flex-grow"],[1,"flex","justify-between","items-center","mb-10"],[1,"heading-primary","text-4xl"],[1,"text-gray-400"],[1,"flex","gap-4"],[1,"relative","flex","items-center"],["type","text","placeholder","Search users...",1,"bg-gray-800/30","text-gray-300","rounded-xl","px-4","py-4","pl-10","w-64","text-sm"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"size-4","absolute","left-3","text-gray-400"],["fill-rule","evenodd","d","M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z","clip-rule","evenodd"],[1,"btn-primary","btn-auto","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"size-5","text-white"],["d","M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"],[1,"btn-text"],[1,"grid","grid-cols-4","gap-6","mb-10"],[1,"bg-gray-800/30","backdrop-blur-xl","rounded-3xl","p-8","relative","overflow-hidden","group","hover:transform","hover:scale-[1.02]","transition-all","duration-300"],[1,"absolute","inset-0","bg-gradient-to-br","from-blue-500/5","to-transparent","group-hover:from-blue-500/10"],[1,"relative","z-10"],[1,"text-3xl","font-bold","text-white","mt-2"],[1,"flex","items-center","gap-2","mt-4"],[1,"text-green-400","text-sm"],[1,"text-gray-500","text-sm"],[1,"absolute","inset-0","bg-gradient-to-br","from-purple-500/5","to-transparent","group-hover:from-purple-500/10"],[1,"absolute","inset-0","bg-gradient-to-br","from-amber-500/5","to-transparent","group-hover:from-amber-500/10"],[1,"absolute","inset-0","bg-gradient-to-br","from-red-500/5","to-transparent","group-hover:from-red-500/10"],[1,"text-red-400","text-sm"],[1,"grid","grid-cols-3","gap-5"],[1,"group","relative","bg-gray-800/30","backdrop-blur-xl","rounded-3xl","overflow-hidden"],[1,"col-span-3","flex","justify-center","mt-8"],[1,"flex","items-center","gap-2"],[1,"p-2","rounded-xl","bg-gray-800/30","text-gray-400","hover:bg-gray-700/50"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"px-4","py-2","rounded-xl","bg-blue-500/10","text-blue-400"],[1,"px-4","py-2","rounded-xl","hover:bg-gray-800/30","text-gray-400"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"p-6"],[1,"flex","items-center","gap-4","mb-6"],[1,"w-16","h-16","rounded-full","bg-gray-700","overflow-hidden"],["alt","User avatar",1,"w-full","h-full","object-cover",3,"src"],[1,"heading-secondary"],[1,"text-body"],[1,"ml-auto"],[1,"px-3","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"grid","grid-cols-2","gap-5","mb-6"],[1,"block","text-caption","mb-1"],[1,"text-body","bg-white","line-clamp-1"],[1,"text-body","bg-white"],[1,"flex","justify-between","items-center","mt-6"],[1,"flex","gap-2","items-center"],[1,"p-2","rounded-xl","bg-red-500/10","text-red-400","hover:bg-red-500/20","transition-all","duration-300"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"p-2","rounded-xl","bg-amber-500/10","text-amber-400","hover:bg-amber-500/20","transition-all","duration-300"],["d","M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"],[1,"p-2","rounded-xl","bg-blue-500/10","text-blue-400","hover:bg-blue-500/20","transition-all","duration-300",3,"click"],["d","M10 12a2 2 0 100-4 2 2 0 000 4z"],["fill-rule","evenodd","d","M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule","evenodd"]],template:function(a,o){a&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),n(5,"User Management"),i(),t(6,"p",4),n(7,"Manage your platform users"),i()(),t(8,"div",5)(9,"div",6),s(10,"input",7),m(),t(11,"svg",8),s(12,"path",9),i()(),v(),t(13,"button",10),m(),t(14,"svg",11),s(15,"path",12),i(),v(),t(16,"span",13),n(17,"Add User"),i()()()(),t(18,"div",14)(19,"div",15),s(20,"div",16),t(21,"div",17)(22,"span",4),n(23,"Total Users"),i(),t(24,"h4",18),n(25),i(),t(26,"div",19)(27,"span",20),n(28,"\u2191 8%"),i(),t(29,"span",21),n(30,"vs last month"),i()()()(),t(31,"div",15),s(32,"div",22),t(33,"div",17)(34,"span",4),n(35,"Active Users"),i(),t(36,"h4",18),n(37),i(),t(38,"div",19)(39,"span",20),n(40,"\u2191 12%"),i(),t(41,"span",21),n(42,"vs last month"),i()()()(),t(43,"div",15),s(44,"div",23),t(45,"div",17)(46,"span",4),n(47,"Licensed Agents"),i(),t(48,"h4",18),n(49),i(),t(50,"div",19)(51,"span",20),n(52,"\u2191 5%"),i(),t(53,"span",21),n(54,"vs last month"),i()()()(),t(55,"div",15),s(56,"div",24),t(57,"div",17)(58,"span",4),n(59,"Suspended Users"),i(),t(60,"h4",18),n(61),i(),t(62,"div",19)(63,"span",25),n(64,"\u2193 2%"),i(),t(65,"span",21),n(66,"vs last month"),i()()()()(),t(67,"div",26),we(68,Or,49,16,"div",27,Ve),t(70,"div",28)(71,"nav",29)(72,"button",30),m(),t(73,"svg",31),s(74,"path",32),i()(),v(),t(75,"button",33),n(76,"1"),i(),t(77,"button",34),n(78,"2"),i(),t(79,"button",34),n(80,"3"),i(),t(81,"button",30),m(),t(82,"svg",31),s(83,"path",35),i()()()()()()()),a&2&&(l(25),u(o.users.length),l(12),u(o.getActiveUsersCount()),l(12),u(o.getRealtorsCount()),l(12),u(o.getsSuspendedUserCount()),l(7),Se(o.users))},dependencies:[le,L],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();var Br=[{path:"dashboard",component:jt,children:[{path:"addproperty",component:Rt},{path:"settings",component:Lt},{path:"contracts",component:Ot},{path:"contracts/add-contract",component:Gt},{path:"contract/:id",component:Ut},{path:"transactions",component:qt},{path:"invoices/:id",component:Qt},{path:"proposals",component:Wt},{path:"proposal/:id",component:Xt},{path:"properties",component:ei},{path:"users",component:ti}]}],ii=(()=>{class r{static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275mod=Ae({type:r})}static{this.\u0275inj=Fe({imports:[qe.forChild(Br),qe]})}}return r})();var Ra=(()=>{class r{static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275mod=Ae({type:r})}static{this.\u0275inj=Fe({imports:[yt,kt,It,ii,Ft]})}}return r})();export{Ra as BackOfficeModule};
